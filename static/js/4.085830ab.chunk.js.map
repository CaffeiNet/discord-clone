{"version":3,"sources":["components/RolesDocument/Allrolescolormap.jsx","components/RolesDocument/Allrolesmap.jsx","components/RolesDocument/RolesDocumentmap.jsx","components/RolesDocument/RolesDocument.jsx","components/RolesDocument/FetchRoleid.jsx","redux/message/message.actions.js","redux/clicked/clicked.actions.js","redux/replyclicked/replyclicked.actions.js","redux/replytoggle/replytoggle.actions.js","components/Emoji/Emojicontainer.jsx","components/ChatMenu/ChatMenu.jsx","components/ChatEdit/ChatEdit.jsx","components/Keypress/Keypress.jsx","components/ChatReply/ChatReply.jsx","components/ChatMessage/RenderVideo.jsx","components/ChatMessage/RenderAudio.jsx","components/ChatMessage/Chatmessagemap.jsx","components/ChatMessage/ChatMessage.jsx","redux/openupload/message.actions.js","components/FileUpload/FileUpload.jsx","components/ChatSearchBar/ChatSearchReply.jsx","components/ChatSearchBar/ChatSearchBar.jsx","components/AddChannelPopup/AddChannelPopup.jsx","components/SidebarChannel/Channelmap.jsx","components/SidebarChannel/SidebarChannel.jsx","components/Sidebarvoice/Sidebarvoice.jsx","components/Avatar/BadgeAvatar.jsx","components/Roles/Myrolesmap.jsx","components/Roles/Myroles.jsx","components/Roles/Rolescategory.jsx","components/Roles/Roles.jsx","pages/Home_serverId_channel/Home_serverId_channel.jsx"],"names":["Color","styled","div","props","color","Allrolescolormap","k","rol","className","Allrolesmap","handleClick","roleheadid","onClick","photoURL","auth","currentUser","email","id","rolename","number","name","displayName","serverroletypeid","serverroleid","useStyles","makeStyles","theme","avatar","width","spacing","height","RolesDocumentmap","role","classes","currentserverid","useSelector","state","currentserver","allrolesRef","firestore","collection","doc","useCollectionData","idField","allroles","useState","count","setcount","handleclick","obj","a","currentUserRef","uid","get","user","data","userid","roles","console","log","set","yourrole","merge","username","createdAt","firebase","FieldValue","serverTimestamp","update","increment","Avatar","src","toDate","getDate","getMonth","getFullYear","map","i","keys","Object","index","roleheading","RolesDocument","roleid","query","orderBy","limit","FetchRoleid","serverid","serverRef","useDocumentData","serverdata","currentmessage","type","payload","setclicked","replymessage","msg","replytoggle","Emojicontainer","formValue","setformValue","emoji","setemoji","onSubmit","e","preventDefault","arr","item","tags","push","onChange","target","value","autoFocus","placeholder","style","fontSize","length","d","chatmenu","display","icon","backgroundColor","myicon","deleteicon","ChatMenu","dispatch","useDispatch","currentid","other","setother","setuser","message","handleReply","document","getElementById","focus","sender","sendername","photo","senderphoto","alt","senderemail","delete","ChatEdit","key","action","handleSubmit","docRef","useEffect","onKeyup","window","addEventListener","removeEventListener","required","small","marginRight","ChatReply","admin","currentrole","reply","slice","RenderVideo","clicked","setdata","fetch","then","response","ok","json","results","catch","error","href","provider_url","rel","author_url","author_name","title","html","split","frameBorder","allowFullScreen","sandbox","thumbnail_url","aria-hidden","viewBox","fill","points","transform","RenderAudio","audioname","controls","audiourl","preload","Chatmessagemap","inHover","setHover","replaceAll","chatedittoggle","click","linkify","input","match","onMouseEnter","onMouseLeave","componentDecorator","text","base64","ChatMessage","messages","currrentdoc","openupload","drop","FileUpload","toggle","replymsg","resizeFile","file","Promise","resolve","Resizer","imageFileResizer","uri","handleupload","includes","audio","storageRef","storage","ref","fileRef","child","put","getDownloadURL","url","channelRef","add","audiosize","size","senderuid","image","resizedfile","dropzoneClass","imageContainer","showPreviews","showPreviewsInDropzone","maxFileSize","filesLimit","onAdd","onDrop","button","margin","padding","ChatSearchReply","IconButton","addbutton","ChatSearchBar","openpicker","setopenpicker","togglereply","currentdoc","messageRef","position","aria-label","open","typo","textTransform","dialog","dialogaction","paper","minWidth","AddChannelPopup","React","setOpen","handleClose","channel","Dialog","onClose","aria-labelledby","DialogContent","DialogContentText","Typography","variant","DialogActions","Channelmap","history","useHistory","SidebarChannel","channels","setchannels","snapshot","docs","mychannel","myfun","signal","end","Sidebarvoice","Button","startIcon","StyledBadge","withStyles","badge","boxShadow","palette","background","top","left","borderRadius","animation","border","content","opacity","Badge","settings","flexWrap","BadgeAvatars","useAuthState","mic","setmic","signOut","overlap","anchorOrigin","vertical","horizontal","profileavatar","outlined","rolearr","Para","p","StyledCircle","svg","StyledChip","Myrolesmap","setopen","anchorEl","setAnchorEl","setrolearr","userref","event","forEach","userphoto","mykeys","currentTarget","xmlns","cx","cy","r","status","Myroles","myrole","allusersref","rolemap","allusers","Rolescategory","allroleusers","Roles","servers","rolequery","userimage","Home_serverId_channel","params","serverId","channelId"],"mappings":"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","file":"static/js/4.085830ab.chunk.js","sourcesContent":["import React from 'react'\r\nimport styled from \"styled-components\"\r\nconst Color=styled.div`\r\n    background: ${props => props.color};\r\n    border-radius: 50%;\r\n    width: 2.5rem;\r\n    height: 2.5rem;\r\n`\r\nconst Allrolescolormap = ({k,rol}) => {\r\n    return (\r\n        <div className='allrolescolor'>  \r\n        {rol && rol[k].color && <>\r\n        <Color className=\"allrolescolor__rolevalue\" color={rol[k].color} />\r\n        <div className=\"allrolescolor__rolename\">\r\n            <p>: <span className='allrolescolor__rolename-span'>{k}</span></p>\r\n        </div>\r\n        </>\r\n        }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Allrolescolormap\r\n","import React from 'react'\r\nimport styled from \"styled-components\"\r\nimport { auth} from '../../firebase/firebase'\r\nconst Color=styled.div`\r\n    background: ${props => props.color};\r\n    border-radius: 50%;\r\n    width: 1.75rem;\r\n    height: 1.75rem;\r\n`\r\nconst Allrolesmap = ({rol,k,handleClick,roleheadid}) => {\r\n    return (\r\n        <div onClick={()=>handleClick({\r\n            photoURL:auth.currentUser.photoURL,\r\n            email:auth.currentUser.email,\r\n            id:rol.id,\r\n            rolename:k,\r\n            number:rol[k].number,\r\n            color:rol[k].color,\r\n            name:auth.currentUser.displayName,\r\n            serverroletypeid:roleheadid,\r\n            serverroleid:rol[k].serverroleid\r\n        })}>\r\n            {rol && rol[k].number &&<div className='allroles'>\r\n            <div className=\"allroles__button\">\r\n                <Color className=\"allrolescolor__rolevalue\" color={rol[k].color} />\r\n            </div>\r\n            <div className=\"allroles__number\">\r\n                {rol[k].number}\r\n            </div>\r\n            \r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Allrolesmap\r\n","import React, { useState } from 'react'\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\r\nimport { useSelector } from 'react-redux';\r\nimport { auth, firestore } from '../../firebase/firebase'\r\nimport Allrolescolormap from './Allrolescolormap';\r\nimport Allrolesmap from './Allrolesmap';\r\nimport firebase from 'firebase/app'\r\nimport { Avatar, makeStyles } from '@material-ui/core';\r\nconst useStyles=makeStyles((theme)=>{\r\n    return{\r\n      avatar:{\r\n          width:theme.spacing(4.5),\r\n          height:theme.spacing(4.5)\r\n      }\r\n    }\r\n})\r\nconst RolesDocumentmap = ({role}) => {\r\n    const classes=useStyles();\r\n    const currentserverid=useSelector((state)=>state.currentserver.id);\r\n    const allrolesRef=firestore.collection('roles').doc(currentserverid).collection('rolemenu').doc(role.id).collection('allroles');\r\n    // const query=allrolesRef.orderBy('createdAt').limit(10);\r\n    const [allroles]=useCollectionData(allrolesRef,{idField:'id'});\r\n    const [count,setcount]=useState(0);\r\n    const handleclick=async(obj)=>{\r\n        setcount(count+1);\r\n        if(count>0){\r\n            return\r\n        }\r\n        const currentUserRef=firestore.collection('users').doc(auth.currentUser.uid);\r\n        const {rolename,id,email,photoURL,name,serverroleid,serverroletypeid,color}=obj;\r\n        const user= (await currentUserRef.get()).data()\r\n        const userid=await currentUserRef.get();\r\n        if(user && user.roles){\r\n            if(user.roles[currentserverid] && user.roles[currentserverid][role.rolename]){\r\n                return\r\n            }\r\n            else{\r\n                console.log('not present');\r\n                await currentUserRef.set({\r\n                    roles:{\r\n                        [currentserverid]:{\r\n                            [role.rolename]:{\r\n                                yourrole:rolename,\r\n                                color:color\r\n                            }\r\n                        }\r\n                    }\r\n                },{merge:true})\r\n\r\n                const serverRef=firestore.collection('servers').doc(currentserverid).collection('allroles').doc(serverroletypeid).collection('allroles').doc(serverroleid).collection('allusers');\r\n                serverRef.doc(userid.id).set({\r\n                    username:name,\r\n                    photoURL:photoURL,\r\n                    email:email,\r\n                    createdAt:firebase.firestore.FieldValue.serverTimestamp(),\r\n                })\r\n                const roleref=allrolesRef.doc(id);\r\n                roleref.update({\r\n                    [`${rolename}.number`]:firebase.firestore.FieldValue.increment(1),\r\n                })\r\n            }\r\n        }\r\n    }\r\n    return (\r\n        <div className='rolesdocument__main-individual'>\r\n        <div className='rolesdocument__header-photo'>\r\n                <Avatar className={classes.avatar} src='/discord-clone/bot.png'/>\r\n        </div>\r\n            <div className=\"rolesdocument__content\">\r\n                        <div className=\"rolesdocument__content-header\">\r\n                            <div className='rolesdocument__content-name'>\r\n                                Discord Bot\r\n                            </div>\r\n                            <div className=\"rolesdocument__content-date\">\r\n                                {`${role.createdAt && \r\n                                    role.createdAt.toDate().getDate()+\"/\"+(role.createdAt.toDate().getMonth()+1)+\"/\"+role.createdAt.toDate().getFullYear()\r\n                                    }`}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"rolesdocument__message\">\r\n                            <div className=\"rolesdocument__message-rolemenu\">\r\n                                <p>Role Menu: {role.rolename}</p>\r\n                            </div>\r\n                            <div className=\"rolesdocument__message-react\">\r\n                                React to give yourself a role.\r\n                            </div>\r\n                            <div className=\"rolesdocument__message-allroles\">\r\n                                {allroles && allroles.map((rol,i)=>{\r\n                                    const keys = Object.keys(rol);\r\n                                    return(\r\n                                       <div key={i}>{ keys.map((k,index)=>{\r\n                                        return (\r\n                                            <Allrolescolormap key={index} rol={rol} k={k}/>\r\n                                        )\r\n                                    })}</div>\r\n                                    )                                    \r\n                                })}\r\n                            </div>\r\n                            <div className=\"rolesdocument__message-rolebuttons\">\r\n                            {allroles && allroles.map((rol)=>{\r\n                                    const keys = Object.keys(rol);\r\n                                    \r\n                                    return(\r\n                                        keys.map((k,index)=>{\r\n                                        return <Allrolesmap key={index} rol={rol} k={k} handleClick={handleclick} roleheading={role.rolename} roleheadid={role.serverroletypeid}/>\r\n                                    })\r\n                                    )                                    \r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RolesDocumentmap\r\n","import React from 'react'\r\nimport { useCollectionData} from 'react-firebase-hooks/firestore'\r\nimport { firestore } from '../../firebase/firebase'\r\nimport './RolesDocument.scss'\r\nimport RolesDocumentmap from './RolesDocumentmap'\r\nconst RolesDocument = ({roleid}) => {\r\n    const roleRef=firestore.collection('roles').doc(roleid).collection('rolemenu');\r\n    const query=roleRef.orderBy('createdAt').limit(10);\r\n    const [roles]=useCollectionData(query,{idField:'id'});\r\n    return (\r\n        <>\r\n            <div className=\"rolesdocument\">\r\n                <div className=\"rolesdocument__main\">\r\n                        {roles && roles.map((role)=>{\r\n                            return <RolesDocumentmap key={role.id} role={role}/>\r\n                        })}\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RolesDocument\r\n","import React from 'react'\r\nimport { useDocumentData } from 'react-firebase-hooks/firestore';\r\nimport { useSelector } from 'react-redux';\r\nimport { auth, firestore } from '../../firebase/firebase';\r\nimport RolesDocument from './RolesDocument';\r\n\r\nconst FetchRoleid = () => {\r\n    const serverid=useSelector((state)=>state.currentserver.id);\r\n    const serverRef=firestore.collection('servers').doc(serverid);\r\n    const [serverdata]=useDocumentData(serverRef);\r\n    return (\r\n        <>\r\n            {serverdata && auth.currentUser && <RolesDocument roleid={serverid}/>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default FetchRoleid\r\n","const currentmessage=(doc)=>{\r\n    return{\r\n    type:'Current_message',\r\n    payload:doc\r\n  }\r\n  }\r\n  export default currentmessage;\r\n  ","const setclicked=()=>{\r\n    return{\r\n    type:'Clicked',\r\n  }\r\n  }\r\n  export default setclicked;\r\n  ","const replymessage=(msg)=>{\r\n    return{\r\n    type:'Reply_message',\r\n    payload:msg\r\n  }\r\n  }\r\n  export default replymessage;\r\n  ","const replytoggle=()=>{\r\n    return{\r\n    type:'Reply_toggle',\r\n  }\r\n  }\r\n  export default replytoggle;\r\n  ","import React,{useState} from 'react'\r\nimport './Emojicontainer.scss'\r\nimport data from './emojis.json'\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nconst Emojicontainer = () => {\r\n    const [formValue,setformValue]=useState('');\r\n    const [emoji,setemoji]=useState([]);\r\n    const handleSubmit=(e)=>{\r\n        setemoji([]);\r\n        e.preventDefault();\r\n        let arr=[];\r\n        data.map((item)=>{\r\n            return item.tags.map((i)=>{\r\n                if(i===formValue){\r\n                    arr.push(item)\r\n                }\r\n            })\r\n        })\r\n        setemoji(arr);\r\n        setformValue('');\r\n    }\r\n    return (\r\n        <>\r\n            <div className=\"emojicontainer\">\r\n                {console.log(emoji)}\r\n                <div className=\"emojicontainer__header\">\r\n                    <div className=\"emojicontainer__header-inputdiv\">\r\n                        <form onSubmit={handleSubmit} className=\"emojicontainer__header-form\">\r\n                            <input type=\"text\" onChange={(e)=>{setformValue(e.target.value)}} value={formValue} autoFocus placeholder='find the perfect emoji' className='emojicontainer__header-input'/>\r\n                        </form>  \r\n                        <div className=\"emojicontainer__header-search\">\r\n                            <SearchIcon style={{fontSize:'2rem',color:'#72767d'}}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"emojicontainer__header-handicon\">\r\n                           👏\r\n                    </div>\r\n                </div>\r\n                <div className=\"emojicontainer__body\">\r\n                    <div className=\"emojicontainer__sidebar\">\r\n                        <div className=\"emojicontainer__sidebar-items\">\r\n                            <div className=\"emojicontainer__sidebar-item\">\r\n                                😃\r\n                            </div>\r\n                            <div className=\"emojicontainer__sidebar-item\">\r\n                                😬\r\n                            </div>\r\n                            <div className=\"emojicontainer__sidebar-item\">\r\n                                🤪\r\n                            </div>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                    <div className=\"emojicontainer__content\">\r\n                        <div className=\"emojicontainer__content-header\">\r\n                            IN DEVELOPMENT\r\n                        </div>\r\n                        <div className=\"emojicontainer__content-items\">\r\n                            {!!emoji.length ? emoji.map((e,i)=>{\r\n                                return <div key={i} className=\"emojicontainer__content-item\">\r\n                                    {e.emoji}\r\n                                    </div>\r\n                            }):(data && data.map((d,index)=>{\r\n                                return <div key={index} className=\"emojicontainer__content-item\">\r\n                                    {d.emoji}\r\n                                </div>\r\n                            })) }\r\n                            {data && data.map((d,index)=>{\r\n                                return <div key={index} className=\"emojicontainer__content-item\">\r\n                                    {d.emoji}\r\n                                </div>\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Emojicontainer\r\n","import React, { useState } from 'react';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport { auth, firestore } from '../../firebase/firebase';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport currentmessage from '../../redux/message/message.actions'\r\nimport setclicked from '../../redux/clicked/clicked.actions'\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport ReplyIcon from '@material-ui/icons/Reply';\r\nimport replymessage from '../../redux/replyclicked/replyclicked.actions'\r\nimport replytoggle from '../../redux/replytoggle/replytoggle.actions'\r\nimport './ChatMenu.scss'\r\nimport Emojicontainer from '../Emoji/Emojicontainer';\r\nconst useStyles=makeStyles(()=>{\r\n    return{\r\n        chatmenu:{\r\n            display:'flex'\r\n        },\r\n        icon:{\r\n            color:'#dadbdc',\r\n            '&:hover':{\r\n                backgroundColor:'#3a3e44'\r\n            }\r\n        },\r\n        myicon:{\r\n          color:'#b9bbbe',\r\n          width:'1.8rem',\r\n          height:'1.8rem'\r\n        },\r\n        deleteicon:{\r\n          width:'1.8rem',\r\n          height:'1.8rem',\r\n          color:'#f04747'\r\n        }\r\n    }\r\n})\r\n\r\nfunction ChatMenu({msg}) {\r\n    const classes=useStyles();\r\n    const dispatch = useDispatch();\r\n    const currentid=useSelector((state)=>state.doc.id);\r\n    const currentserverid=useSelector((state)=>state.currentserver.id);\r\n    const [other,setother]=useState(false);\r\n    const [user,setuser]=useState(false);\r\n    const [emoji,setemoji]=useState(false);\r\n    const handleClick = () => {\r\n        dispatch(currentmessage({id:msg.id, msg:msg.message}))\r\n        dispatch(setclicked());\r\n  };\r\n  const handleDelete=()=>{\r\n    const docRef=firestore.collection('servers').doc(currentserverid).collection('channels').doc(currentid).collection('messages').doc(msg.id);\r\n    docRef.delete();\r\n  }\r\n  const handleReply=()=>{\r\n    document.getElementById(\"myTextField\").focus();\r\n    dispatch(replymessage({id:msg.id,sender:msg.sendername,msg:msg.message,photo:msg.senderphoto}));\r\n    dispatch(replytoggle())\r\n  }\r\n  const handleemoji=()=>{\r\n    setemoji(!emoji);\r\n  }\r\n  const handlemore=()=>{\r\n    console.log('called');\r\n    if(auth.currentUser.email===msg.senderemail){\r\n      setuser(!user);\r\n    }\r\n    else{\r\n      setother(!other);\r\n    }\r\n  }\r\n    return (\r\n      <div className='chatmenu'>\r\n        {emoji && <div className='emojcontain'><Emojicontainer/></div>}\r\n        <div className=\"chatmenu__addreaction\" onClick={handleemoji}>\r\n          <img className='chatmenu__image' src=\"/discord-clone/addreaction.png\" alt=\"\"/>\r\n        </div>\r\n        {auth.currentUser.email===msg.senderemail ? <div className=\"chatmenu__edt\" onClick={handleClick}>\r\n          <img className='chatmenu__image' src=\"/discord-clone/edit.png\" alt=\"\"/>\r\n        </div> :<div className=\"chatmenu__reply\" onClick={handleReply}>\r\n         <img className='chatmenu__image' src=\"/discord-clone/reply.png\" alt=\"reply\"/>\r\n        </div>}\r\n        <div className=\"chatmenu__more\" onClick={handlemore}>\r\n          <img className='chatmenu__image' src=\"/discord-clone/more.png\" alt=\"more\" / >\r\n        </div>\r\n      {user && <div className='morebox'>\r\n          <div className=\"morebox__container\">\r\n            <div className=\"morebox__item\" onClick={handleClick}>\r\n              <div className=\"morebox__item-label\">\r\n                Edit message\r\n              </div>\r\n              <div className=\"morebox__item-icon\">\r\n                <EditIcon className={classes.myicon} />\r\n              </div>\r\n            </div>\r\n            <div className=\"morebox__item\" onClick={handleDelete}>\r\n              <div className=\"morebox__item-deletelabel\">\r\n                Delete Message\r\n              </div>\r\n              <div className=\"morebox_item-icon\">\r\n                <DeleteIcon className={classes.deleteicon}/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      }\r\n      {other && <div className='morebox'>\r\n          <div className=\"morebox__container\">\r\n            <div className=\"morebox__item\" onClick={handleReply}>\r\n              <div className=\"morebox__item-label\">\r\n                Reply Message\r\n              </div>\r\n              <div className=\"morebox_item-icon\">\r\n                <ReplyIcon className={classes.myicon}/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      }\r\n      </div>\r\n    )\r\n    }\r\n\r\n\r\nexport default ChatMenu\r\n","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { firestore } from '../../firebase/firebase';\r\nimport './ChatEdit.scss'\r\nimport setclicked from '../../redux/clicked/clicked.actions';\r\nimport useKeypress from '../Keypress/Keypress';\r\n\r\nfunction ChatEdit() {\r\n    const id=useSelector((state)=>state.msg.id);\r\n    const currentid=useSelector((state)=>state.doc.id);\r\n    const msg=useSelector((state)=>state.msg.msg);\r\n    const [formValue,setformValue]=useState(msg);\r\n    const currentserverid=useSelector((state)=>state.currentserver.id);\r\n    const  dispatch = useDispatch();\r\n    const handleSubmit=(e)=>{\r\n        console.log('called');\r\n        e.preventDefault();\r\n        const docRef=firestore.collection('servers').doc(currentserverid).collection('channels').doc(currentid).collection('messages').doc(id);\r\n        console.log(docRef);\r\n        docRef.update({\r\n            message:formValue\r\n        })\r\n        dispatch(setclicked())\r\n    }\r\n    useKeypress('Escape', () => {\r\n        dispatch(setclicked())\r\n      });\r\n    return (\r\n        <>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"chatedit\">\r\n                    <input type='text' required value={formValue} onChange={(e)=>{setformValue(e.target.value)}} style={{width:'100%'}} className='chatedit__inputarea'/>\r\n                </div>\r\n                <div className=\"editinstruction\">\r\n                    <p className='editinstruction__p'>escape to <span className='editinstruction__span' onClick={()=>dispatch(setclicked())}>cancel</span> • enter to <span className='editinstruction__span' onClick={handleSubmit}>save</span></p>\r\n                </div>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ChatEdit\r\n","import { useEffect } from 'react';\r\nexport default function useKeypress(key, action) {\r\n  useEffect(() => {\r\n    function onKeyup(e) {\r\n      if (e.key === key) action()\r\n    }\r\n    window.addEventListener('keyup', onKeyup);\r\n    return () => window.removeEventListener('keyup', onKeyup);\r\n  }, []);\r\n}","import { Avatar, makeStyles } from '@material-ui/core';\r\nimport React from 'react'\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport './ChatReply.scss'\r\nimport { useSelector } from 'react-redux';\r\nconst useStyles=makeStyles((theme)=>{\r\n    return{\r\n        small:{\r\n            width:theme.spacing(2.2),\r\n            height:theme.spacing(2.2),\r\n            marginRight:theme.spacing(.5)\r\n        }\r\n    }\r\n})\r\nfunction ChatReply({msg}) {\r\n    const admin=useSelector((state)=>state.currentrole.admin)\r\n    const classes=useStyles();\r\n    return (\r\n        <div className='chatreply'>\r\n            <div className=\"chatreply__photo\">\r\n                <Avatar className={classes.small} src={msg.reply.photo}/>\r\n            </div>\r\n            <div className={`${admin && admin.admin === msg.reply.sender && 'chatreply__sender-admin'} chatreply__sender`}>\r\n                @{msg.reply.sender}\r\n            </div>\r\n            <div className=\"chatreply__message\">\r\n                {msg.reply.msg ? msg.reply.msg.slice(0,100)+\"...\" :  <ImageIcon/> }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatReply\r\n","import React, { useEffect, useState } from 'react'\r\nfunction RenderVideo({msg}) {\r\n    const [clicked,setclicked]=useState(false);\r\n    const [data,setdata]=useState('');\r\n    useEffect(() => {\r\n        fetch(`https://www.youtube.com/oembed?url=${msg}&maxwidth=400&maxheight=225&format=json`)\r\n        .then((response)=>{\r\n            if(response.ok){\r\n                return response.json()\r\n            }\r\n            throw response.ok\r\n        }\r\n        ).then((results)=>setdata(results))\r\n        .catch((error)=>console.log(error))\r\n        return () => {\r\n            \r\n        }\r\n    }, [msg])\r\n    // console.log(data && data.html.split('src=\"')[1].split('\"')[0]+\"&autoplay=1&amp;auto_play=1\");\r\n    // const videoId=()=>{\r\n    //     const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\r\n    //     const match = msg.match(regExp);\r\n    \r\n    //     return (match && match[2].length === 11)\r\n    //       ? match[2]\r\n    //       : null;\r\n    // }\r\n    return (\r\n        <>\r\n        {data && <div className='rendervideo'>\r\n            <div className=\"rendervideo__videocontainer\">\r\n                <a href={data.provider_url} target=\"_blank\" rel=\"noreferrer\" className=\"rendervideo__videocontainer-providerlink\"><div className=\"rendervideo__videocontainer-providername\">YouTube</div></a>\r\n                <a href={data.author_url} target=\"_blank\" rel=\"noreferrer\" className=\"rendervideo__videocontainer-authorurl\">\r\n                    <p className=\"rendervideo__videocontainer-authorname\">{data.author_name}</p>\r\n                </a>\r\n                <a href={msg} target=\"_blank\" rel=\"noreferrer\" className=\"rendervideo__videocontainer-title\">\r\n                    <div className=\"rendervideo__videocontainer-titlename\">{data.title && data.title.length<66?data.title:data.title.slice(0,66)+\"...\"}</div>\r\n                </a>\r\n                <div className=\"rendervideo__video\">\r\n                    {!clicked ? <>\r\n                        <div className=\"rendervideo__video-image\">\r\n                            <img src={data.thumbnail_url} alt={data.author_name} />\r\n                        </div>\r\n                        <div className=\"rendervideo__video-container\">\r\n                            <div className=\"rendervideo__video-load\" onClick={()=>setclicked(!clicked)}>\r\n                                <svg className=\"iconPlay-2kgvwV icon-3ZFEtL\" aria-hidden=\"false\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\r\n                                    <polygon fill=\"currentColor\" points=\"0 0 0 14 11 7\" transform=\"translate(7 5)\"></polygon>\r\n                                </svg>\r\n                            </div>\r\n                            <a href={msg} target=\"_blank\" rel=\"noreferrer\" className=\"rendervideo__video-openurl\">\r\n                                <svg className=\"iconExternalMargins-2v2mzg icon-3ZFEtL\" aria-hidden=\"false\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\r\n                                    <path fill=\"currentColor\" transform=\"translate(3.000000, 4.000000)\" d=\"M16 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h4v-2H2V4h14v10h-4v2h4c1.1 0 2-.9 2-2V2a2 2 0 0 0-2-2zM9 6l-4 4h3v6h2v-6h3L9 6z\"></path>\r\n                                </svg>\r\n                            </a>\r\n                        </div>\r\n                    </>:data && <iframe className='rendervideo__videocontainer__video' \r\n                src={data && data.html.split('src=\"')[1].split('\"')[0]+\"&autoplay=1&amp;auto_play=1\"} width=\"400\" height=\"225\" title=\"YouTube video player\" frameBorder=\"0\" \r\n                allowFullScreen=\"\" sandbox=\"allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-presentation\"></iframe>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RenderVideo\r\n/* {videoId() && <iframe className='rendervideo__videocontainer__video' \r\n                src={`https://www.youtube.com/embed/${videoId()}`} title=\"YouTube video player\" frameBorder=\"0\" \r\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe> } */\r\n// console.log(\"https://www.youtube.com/watch?v=eVuPhZl4ksY&list=RDMM&index=4\".split(\"v=\")[1].split(\"&\")[0]);\r\n/* {linkify(msg) && videoId && <ReactPlayer url={linkify(msg).filter((item)=>item.includes('youtube.com/watch')&&item)}/> } */\r\n/* DOMPurify.sanitize(data.html,{ ADD_TAGS: [\"iframe\"], ADD_ATTR: ['allow', 'allowfullscreen','autoplay','frameborder', 'scrolling']}) */\r\n\r\n","import React from 'react'\r\n// import * as ByteSize from 'byte-size'\r\nfunction RenderAudio({msg}) {\r\n    // const {audiosize}=msg\r\n    // const bytesize=()=>{\r\n    //     console.log('called');\r\n    //     return `${ByteSize(audiosize)}`;\r\n    // }\r\n    return (\r\n        <div className='renderaudio'>\r\n           <div className=\"renderaudio__name\"> {msg && msg.audioname}</div>\r\n            <div className=\"renderaudio__mainplayer\">\r\n                {/* <div className=\"renderaudio__player-size\">{msg && bytesize()}</div> */}\r\n                <div className=\"renderaudio__player\">\r\n                    <audio\r\n                    className='renderaudio__player-music'\r\n                    controls\r\n                    src={msg.audiourl}\r\n                    preload='metadata'\r\n                    >\r\n                    Your browser does not support the\r\n                    <code>audio</code> element.\r\n                    </audio>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RenderAudio\r\n","import { Avatar } from '@material-ui/core'\r\nimport React, { useState } from 'react'\r\nimport {makeStyles} from '@material-ui/core'\r\nimport ChatMenu from '../ChatMenu/ChatMenu'\r\nimport ChatEdit from '../ChatEdit/ChatEdit'\r\nimport { useSelector } from 'react-redux'\r\nimport ChatReply from '../ChatReply/ChatReply'\r\nimport Linkify from 'react-linkify';\r\nimport RenderVideo from './RenderVideo'\r\nimport RenderAudio from './RenderAudio'\r\nconst useStyles=makeStyles((theme)=>{\r\n    return{\r\n      avatar:{\r\n          width:theme.spacing(4.5),\r\n          height:theme.spacing(4.5)\r\n      }\r\n    }\r\n})\r\n const Chatmessagemap=({msg})=> {\r\n    const [inHover, setHover] = useState(false);\r\n    const message=msg.message.replaceAll(\"\\\\n\", \"\\n\");\r\n    const classes=useStyles();\r\n    const id=useSelector((state)=>state.msg.id); \r\n    const admin=useSelector((state)=>state.currentrole.admin);\r\n    const chatedittoggle=useSelector((state)=>state.click.clicked);\r\n    const linkify=(input)=>{\r\n        var urlRegex =/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/ig;\r\n        return input.match(urlRegex)\r\n    }\r\n    const componentDecorator = (href, text, key) => (\r\n        <a className={`${linkify(msg.message) && 'linkify__videotext'} linkify__text`} href={href} key={key} target=\"_blank\" rel=\"noreferrer\">\r\n          {text}\r\n        </a>\r\n      );\r\n      \r\n      \r\n     return (\r\n         <>\r\n        <div className={`${msg.reply && 'chatmessage__main--replied'} chatmessage__main ${chatedittoggle && id===msg.id && 'chatmessage__main--edit'}`}>\r\n            <div onMouseEnter={() => setHover(true)} onMouseLeave={() => setHover(false)} className=\"chatmessage\">\r\n            <div className=\"chatmessage\">\r\n                <div className=\"chatmessage__replycontent\">\r\n                    {msg.reply && <img className='chatmessage__replycontent--replyimage' src=\"/discord-clone/discord-reply.png\" alt=\"reply\"/>}\r\n                    <div className=\"chatmessage__replycontent--content\">\r\n                            { msg.reply && <ChatReply msg={msg}/>}\r\n                        </div>\r\n                </div>\r\n                <div className=\"chatmessage__header\">\r\n                    <div className={`${msg.reply&& 'chatmessage__header-photo--replied'} chatmessage__header-photo`}>\r\n                        <Avatar className={classes.avatar} src={`${msg && msg.senderphoto}`}/>\r\n                    </div>\r\n                    <div className=\"chatmessage__content\">\r\n                        <div className=\"chatmessage__content-header\">\r\n                            <div className={`${admin && admin.admin === msg.sendername && 'chatmessage__content-admin'} chatmessage__content-name`}>\r\n                                {`${msg && msg.sendername}`}\r\n                            </div>\r\n                            <div className=\"chatmessage__content-date\">\r\n                                {`${msg.createdAt && \r\n                                    msg.createdAt.toDate().getDate()+\"/\"+(msg.createdAt.toDate().getMonth()+1)+\"/\"+msg.createdAt.toDate().getFullYear()\r\n                                    }`}\r\n                            </div>\r\n                            <div className={`${msg.reply && 'chatmessage__content-menu--replied'} chatmessage__content-menu chatmessage__content-menu-normal`}>\r\n                               {inHover&& <ChatMenu msg={msg} />}\r\n                               {/* {<ChatMenu msg={msg}/>} */}\r\n                               {/* {console.log(id===msg.id)} */}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"chatmessage__message\">\r\n                         {\r\n                         useSelector((state)=>state.click.clicked) && msg.id===id ? <ChatEdit/>:\r\n                         <Linkify componentDecorator={componentDecorator}>\r\n                            {msg && !!msg.message ? message : !msg.base64 && <RenderAudio msg={msg}/>}\r\n                            </Linkify>   \r\n                         }\r\n                            {msg.base64 &&<img src={msg.base64} alt=\"cannot decode\"/>}\r\n                            {linkify(msg.message) &&<RenderVideo msg={linkify(msg.message)}/>}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Chatmessagemap\r\n","// import { useEffect, useState } from 'react';\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\r\nimport { useSelector } from 'react-redux';\r\nimport {firestore } from '../../firebase/firebase';\r\nimport FetchRoleid from '../RolesDocument/FetchRoleid';\r\n// import {db} from '../../firebase/firebase'\r\nimport './ChatMessage.scss'\r\nimport Chatmessagemap from './Chatmessagemap';\r\nconst ChatMessage= ()=> {\r\n    const id= useSelector((state)=>state.doc.id);\r\n    const currentserverid=useSelector((state)=>state.currentserver.id);\r\n    const channelRef=firestore.collection('servers').doc(currentserverid).collection('channels').doc(id).collection('messages');\r\n    const query=channelRef.orderBy('createdAt');\r\n    const [messages]=useCollectionData(query,{idField:'id'});\r\n    // const currentkey=useSelector((state)=>state.key.key);\r\n    // useEffect(() => {\r\n    //     const uploadRef= db.ref(`uploads/${currentkey}`);\r\n    //     uploadRef.on(\"value\",(snapshot)=>{\r\n           \r\n    //         console.log('called useEffect');\r\n    //     })\r\n    //     return () => {\r\n    //         uploadRef.off();\r\n    //         console.log('called clean');\r\n            \r\n    //     }\r\n    // }, [currentkey])\r\n\r\n    const currrentdoc=useSelector((state)=>state.doc.name);\r\n    return (\r\n        <div >\r\n            {currrentdoc==='roles'?<FetchRoleid/>: messages && messages.map((msg)=>{\r\n                return <Chatmessagemap key={msg.id} msg={msg}/>\r\n            })}            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatMessage\r\n","const openupload=()=>{\r\n    return{\r\n    type:'Change_open',\r\n  }\r\n  }\r\n  export default openupload;\r\n  ","import React from 'react'\r\nimport {DropzoneArea} from 'material-ui-dropzone'\r\nimport {auth, firestore} from '../../firebase/firebase'\r\nimport firebase from 'firebase/app'\r\nimport { makeStyles } from '@material-ui/core';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Resizer from \"react-image-file-resizer\";\r\nimport openupload from '../../redux/openupload/message.actions'\r\nimport {storage} from '../../firebase/firebase'\r\nimport replytoggle from '../../redux/replytoggle/replytoggle.actions';\r\n// import {db} from '../../firebase/firebase'\r\n// import storage from '../../firebase/firebase'\r\nconst useStyles=makeStyles({\r\n    drop:{\r\n        backgroundColor:'#2C2F33',\r\n        color:'#e6e8e8'\r\n    },\r\n    icon:{\r\n        color:'gray'\r\n    },\r\n})\r\n\r\n\r\nfunction FileUpload() {\r\n    const id= useSelector((state)=>state.doc.id);\r\n    const currentserverid=useSelector((state)=>state.currentserver.id);\r\n    const toggle=useSelector((state)=>state.replytoggle.clicked);\r\n    const replymsg=useSelector((state)=>state.reply);\r\n    const classes=useStyles();\r\n    const dispatch = useDispatch();\r\n        const resizeFile = (file) =>\r\n            new Promise((resolve) => {\r\n                Resizer.imageFileResizer(\r\n                file,\r\n                350,\r\n                350,\r\n                \"JPEG\",\r\n                100,\r\n                0,\r\n                (uri) => {\r\n                    resolve(uri);\r\n                },\r\n                \"base64\"\r\n                );\r\n            });\r\n  \r\n    const handleupload=async(file)=>{\r\n        if(['audio/mpeg', 'audio/mp4', 'audio/ogg','audio/wav'].includes(file[0].type)){\r\n            const audio=file[0];\r\n            console.log(audio);\r\n            try{\r\n                dispatch(openupload());\r\n                const storageRef=storage.ref();\r\n                const fileRef = storageRef.child(audio.name)\r\n                await fileRef.put(audio).then(() => {\r\n                fileRef.getDownloadURL().then(function (url) {\r\n                    console.log(url);\r\n                    const channelRef= firestore.collection('servers').doc(currentserverid).collection('channels').doc(id).collection('messages');\r\n                    if(toggle){\r\n                        dispatch(replytoggle());\r\n                        channelRef.add({\r\n                            message:'',\r\n                            audioname:audio.name,\r\n                            audiourl:url,\r\n                            audiosize:audio.size,\r\n                            sendername:auth.currentUser.displayName,\r\n                            senderemail:auth.currentUser.email,\r\n                            senderuid:auth.currentUser.uid,\r\n                            senderphoto:auth.currentUser.photoURL,\r\n                            createdAt:firebase.firestore.FieldValue.serverTimestamp(),\r\n                            reply:replymsg\r\n                        })\r\n                    }\r\n                    else{\r\n                        channelRef.add({\r\n                            message:'',\r\n                            audioname:audio.name,\r\n                            audiourl:url,\r\n                            audiosize:audio.size,\r\n                            sendername:auth.currentUser.displayName,\r\n                            senderemail:auth.currentUser.email,\r\n                            senderuid:auth.currentUser.uid,\r\n                            senderphoto:auth.currentUser.photoURL,\r\n                            createdAt:firebase.firestore.FieldValue.serverTimestamp(),\r\n                        })\r\n                    }\r\n                    });\r\n                    console.log(\"Uploaded a file\")\r\n                    })\r\n            }\r\n            catch(err){\r\n                console.log(err);\r\n            }\r\n            \r\n        }\r\n        //////////////////////////////////image file\r\n        if(['image/jpeg', 'image/png', 'image/bmp','image/x-icon'].includes(file[0].type))\r\n        {\r\n        const image=file[0];\r\n        console.log(image);\r\n        try{\r\n            dispatch(openupload());\r\n            const resizedfile=await resizeFile(image);\r\n            const channelRef= firestore.collection('servers').doc(currentserverid).collection('channels').doc(id).collection('messages');\r\n            if(toggle){\r\n                dispatch(replytoggle());\r\n                await channelRef.add({\r\n                    message:'',\r\n                    base64:resizedfile,\r\n                    sendername:auth.currentUser.displayName,\r\n                    senderemail:auth.currentUser.email,\r\n                    senderuid:auth.currentUser.uid,\r\n                    senderphoto:auth.currentUser.photoURL,\r\n                    createdAt:firebase.firestore.FieldValue.serverTimestamp(),\r\n                    reply:replymsg\r\n                })\r\n            }\r\n            else{\r\n                await channelRef.add({\r\n                    message:'',\r\n                    base64:resizedfile,\r\n                    sendername:auth.currentUser.displayName,\r\n                    senderemail:auth.currentUser.email,\r\n                    senderuid:auth.currentUser.uid,\r\n                    senderphoto:auth.currentUser.photoURL,\r\n                    createdAt:firebase.firestore.FieldValue.serverTimestamp(),\r\n                })\r\n            }\r\n        }\r\n        catch(err){\r\n            console.log(err);\r\n        }\r\n    }\r\n}\r\n        /////////////////////Realtime Datasbase\r\n        // try{\r\n        //     const resizedfile=await resizeFile(image);\r\n        //     const uploadref=db.ref('uploads');\r\n        //     const newuploadRef=uploadref.push();\r\n        //     (await newuploadRef).set({\r\n        //         newupload:resizedfile\r\n        //     })\r\n        //     dispatch(currentkey({key:newuploadRef.key}));\r\n        // }\r\n        // catch(err){\r\n        //     console.log(err);\r\n        // }\r\n        \r\n        // const storageRef=storage.ref();\r\n        // const fileRef = storageRef.child(file.name)\r\n        \r\n        // await fileRef.put(file).then(() => {\r\n        // fileRef.getDownloadURL().then(function (url) {\r\n        //    console.log(url);\r\n        //     });\r\n        //     console.log(\"Uploaded a file\")\r\n        //     })\r\n\r\n        \r\n    \r\n    return (\r\n        <div>\r\n            <DropzoneArea\r\n            dropzoneClass={classes.drop}\r\n            classes={{icon:classes.icon,image:classes.imageContainer}}\r\n            // acceptedFiles={['image/jpeg', 'image/png', 'image/bmp']}\r\n            showPreviews={false}\r\n            showPreviewsInDropzone={false}\r\n            maxFileSize={10000000}\r\n            filesLimit={1}\r\n            onAdd={handleupload}\r\n            onDrop={handleupload}\r\n        />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FileUpload\r\n","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport {IconButton, makeStyles} from '@material-ui/core'\r\nimport replytoggle from '../../redux/replytoggle/replytoggle.actions'\r\nconst useStyles=makeStyles({\r\n    button:{\r\n        margin:0,\r\n        padding:'.1rem',\r\n        color:'#b9bbbe'\r\n    },\r\n    icon:{\r\n        width:'1.8rem'\r\n    }\r\n})\r\nfunction ChatSearchReply() {\r\n    const classes=useStyles();\r\n    const dispatch = useDispatch();\r\n    return (\r\n        <div>\r\n            <div className='chatsearchbar__reply'>\r\n                <div className=\"chatsearchbar__reply-text\">\r\n                Replying to {useSelector((state)=>state.reply.sender)}\r\n                </div>\r\n                <div className=\"chatsearchnar__reply-close\">\r\n                    <IconButton className={classes.button} onClick={()=>{dispatch(replytoggle())}}>\r\n                        <CancelIcon fontSize='large' className={classes.icon} />\r\n                    </IconButton>\r\n                </div>\r\n            \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatSearchReply\r\n","import React, { useState} from 'react'\r\nimport './ChatSearchBar.scss'\r\nimport firebase from 'firebase/app'\r\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\r\nimport CardGiftcardIcon from '@material-ui/icons/CardGiftcard';\r\nimport GifIcon from '@material-ui/icons/Gif';\r\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\r\nimport { IconButton,makeStyles } from '@material-ui/core';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { auth, firestore } from '../../firebase/firebase';\r\nimport FileUpload from '../FileUpload/FileUpload'\r\nimport openupload from '../../redux/openupload/message.actions'\r\nimport Emojicontainer from '../Emoji/Emojicontainer'\r\nimport replytoggle from '../../redux/replytoggle/replytoggle.actions'\r\nimport ChatSearchReply from './ChatSearchReply'\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\r\nconst useStyles=makeStyles(()=>{\r\n    return{\r\n        button:{\r\n            color: '#b8bbc0',\r\n            padding:'0 .75rem'\r\n        },\r\n        addbutton:{\r\n            backgroundColor:'#40454b',\r\n            color:'#b8bbc0',\r\n            padding:'.9rem 1rem',\r\n            '&:hover':{\r\n                backgroundColor:'#40454b'\r\n            }\r\n        }\r\n    }\r\n})\r\nfunction ChatSearchBar() {\r\n    const dispatch = useDispatch()\r\n    const classes=useStyles();\r\n    const [openpicker,setopenpicker]=useState(false);\r\n    const [formValue,setformValue]=useState('');\r\n    const currentserverid=useSelector((state)=>state.currentserver.id)\r\n    const id= useSelector((state)=>state.doc.id)\r\n    const channelRef=firestore.collection('servers').doc(currentserverid).collection('channels').doc(id).collection('messages');\r\n    const replymsg= useSelector((state)=>state.reply);\r\n    const togglereply=useSelector((state)=>state.replytoggle.clicked);\r\n    const currentdoc=useSelector((state)=>state.doc.name);\r\n    const query=channelRef.orderBy('createdAt','desc').limit(1);\r\n    const [messages]=useCollectionData(query,{idField:'id'});\r\n    const handleSubmit=async(e)=>{\r\n        e.preventDefault();\r\n        if(currentdoc==='roles'){\r\n            setformValue('Not authorized to send message here');\r\n            return\r\n        }\r\n        if(!togglereply){\r\n            if(!!messages.length && messages[0].senderemail===auth.currentUser.email){\r\n                const messageRef=channelRef.doc(messages[0].id);\r\n                await messageRef.update({\r\n                    message:messages[0].message+'\\\\n'+formValue\r\n                },{merge:true})\r\n            }\r\n            else{\r\n                await channelRef.add({\r\n                    message:formValue,\r\n                    sendername:auth.currentUser.displayName,\r\n                    senderemail:auth.currentUser.email,\r\n                    senderuid:auth.currentUser.uid,\r\n                    senderphoto:auth.currentUser.photoURL,\r\n                    createdAt:firebase.firestore.FieldValue.serverTimestamp(),\r\n                })\r\n            }\r\n            \r\n        }\r\n        else{\r\n            await channelRef.add({\r\n                message:formValue,\r\n                sendername:auth.currentUser.displayName,\r\n                senderemail:auth.currentUser.email,\r\n                senderuid:auth.currentUser.uid,\r\n                senderphoto:auth.currentUser.photoURL,\r\n                createdAt:firebase.firestore.FieldValue.serverTimestamp(),\r\n                reply:replymsg\r\n            })\r\n            dispatch(replytoggle());\r\n        }\r\n        setformValue('');\r\n    }\r\n    const handlePicker=()=>{\r\n        setopenpicker(!openpicker)\r\n    }\r\n    const handleadd=()=>{\r\n        dispatch(openupload());\r\n    }\r\n    \r\n    return (\r\n        <div style={{position:'relative'}}>\r\n           {useSelector((state)=>state.replytoggle.clicked)&&<ChatSearchReply/>}\r\n            <div className=\"chatsearchbar\">\r\n                <div className=\"chatsearchbar__addicon\">\r\n                    <IconButton className={classes.addbutton} onClick={handleadd} aria-label=\"settings\">\r\n                        <AddCircleOutlineIcon fontSize='large' />\r\n                    </IconButton>\r\n                </div>\r\n                <div className=\"chatsearchbar__input\">\r\n                    <form onSubmit={handleSubmit}>\r\n                     <input autoFocus id=\"myTextField\" value={formValue} required onChange={(e)=>{setformValue(e.target.value)}} className='chatsearchbar__input-text' placeholder={`Message #${useSelector((state)=>state.doc.name)}`} type=\"text\"/>\r\n                    </form>\r\n                </div>\r\n                <div className=\"chatsearchbar__gifticon\">\r\n                    <IconButton className={classes.button} aria-label=\"settings\" >\r\n                        <CardGiftcardIcon style={{ fontSize: 30 }}/>\r\n                    </IconButton>\r\n                </div>\r\n                <div className=\"chatsearchbar__gifcon\">\r\n                    <IconButton className={classes.button} aria-label=\"settings\">\r\n                        <GifIcon style={{ fontSize: 30 }}/>\r\n                    </IconButton>\r\n                </div>\r\n                \r\n                <div className=\"chatsearchbar__emojiicon\">\r\n                    <IconButton className={classes.button} onClick={handlePicker} aria-label=\"settings\">\r\n                        <InsertEmoticonIcon style={{ fontSize: 30 }}/>\r\n                    </IconButton>\r\n                </div>\r\n            </div>\r\n         {openpicker&& <div className='emojipicker'><Emojicontainer/></div>}\r\n        {useSelector((state)=>state.open.open) && <div className='upload'><FileUpload/></div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatSearchBar\r\n","import React,{useState} from 'react';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport { IconButton, makeStyles, Typography } from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport {auth, firestore} from '../../firebase/firebase'\r\nimport firebase from 'firebase/app'\r\nimport './AddChannelPopup.scss' \r\nimport { useSelector } from 'react-redux';\r\nconst useStyles=makeStyles((theme)=>{\r\n    return{\r\n        button:{\r\n            padding:theme.spacing(1),\r\n            color:'#fff'\r\n        },\r\n        typo:{\r\n            color:'#fcfdfe',\r\n            textTransform:'uppercase',\r\n        },\r\n        dialog:{\r\n            backgroundColor:'#363940',\r\n        },\r\n        dialogaction:{\r\n            backgroundColor:'#363940',\r\n            padding:'4% 6.5%',\r\n        },\r\n        paper: { \r\n            minWidth: '25%',\r\n        },\r\n    }\r\n})\r\nexport default function AddChannelPopup() {\r\n    const classes=useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n    const [formValue,setformValue]=useState('');\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const handleSubmit=async (e)=>{\r\n    e.preventDefault();\r\n    await channelRef.add({\r\n        channel:formValue,\r\n        createdAt:firebase.firestore.FieldValue.serverTimestamp(),\r\n        // name:auth.currentUser.displayName,\r\n        email:auth.currentUser.email,\r\n        // uid:auth.currentUser.uid,\r\n    })\r\n    .then(\r\n      ()=>{\r\n        console.log(\"Document Added\")\r\n      })\r\n    .catch((error)=>{console.log(error)})\r\n\r\n    setformValue('');\r\n  }\r\n  const currentserverid=useSelector((state)=>state.currentserver.id)\r\n  const channelRef=firestore.collection('servers').doc(currentserverid).collection('channels')\r\n  return (\r\n    <div>\r\n        <IconButton onClick={handleClickOpen} className={classes.button} aria-label=\"settings\">\r\n            <AddIcon fontSize='large'/>\r\n        </IconButton>\r\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\" classes={{ paper: classes.paper}}>\r\n        <DialogContent className={classes.dialog}>\r\n          <DialogContentText>\r\n            <Typography variant='h5' className={classes.typo}>Channel name</Typography>\r\n          </DialogContentText>\r\n          <input type=\"text\" required className='input' autoFocus placeholder='Type channel name' onChange={(e)=>setformValue(e.target.value)} value={formValue}/>\r\n        </DialogContent>\r\n        <DialogActions className={classes.dialogaction}>\r\n            <form onSubmit={handleSubmit} className='form'>\r\n              <button type='submit' onClick={handleClose} className='form__button'>Add</button>\r\n            </form>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux'\r\nimport { useHistory} from 'react-router';\r\nimport './SidebarChannel.scss'\r\nconst Channelmap=({msg})=>{\r\n    const history=useHistory();\r\n    const id=useSelector((state)=>state.doc.id);\r\n    const currentserverid=useSelector((state)=>state.currentserver.id)\r\n    return (\r\n        <div>\r\n             <p key={msg.id} onClick={()=>{\r\n                 history.push(`/discord-clone/channels/${currentserverid}/${msg.id}`)\r\n                }}\r\n                className={`${id===msg.id && `clicked`} sidebarchannel__content`}>\r\n                <span className='sidebarchannel__hash'>#</span>{msg.channel}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Channelmap\r\n","import React, { useEffect, useState } from 'react'\r\nimport './SidebarChannel.scss'\r\nimport { firestore } from '../../firebase/firebase';\r\nimport Channelmap from './Channelmap';\r\nimport { useSelector } from 'react-redux';\r\nconst SidebarChannel=()=>{\r\n    const currentserverid=useSelector((state)=>state.currentserver.id)\r\n    // console.log(currentserverid);\r\n    const channelRef=firestore.collection('servers').doc(currentserverid).collection('channels')\r\n    const [channels,setchannels]=useState([]);\r\n    useEffect(() => {\r\n        let data=[]\r\n          const myfun=async()=>{\r\n          await channelRef.orderBy('createdAt').get().then((snapshot)=>{\r\n              snapshot.docs.map((doc)=>{\r\n                  const mychannel=doc.data();\r\n                  mychannel.id=doc.id\r\n                  return data.push(mychannel)\r\n              })\r\n          })\r\n          setchannels(data)\r\n          }   \r\n          myfun();    return () => {\r\n            \r\n        }\r\n    }, [currentserverid])\r\n  return (\r\n      <div>\r\n          <div className=\"sidebarchannel\">\r\n              {channels && !!channels.length && channels.map((msg)=>{\r\n                  return <Channelmap key={msg.id} msg={msg}/>\r\n              })}               \r\n          </div>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default (SidebarChannel)","import React from 'react'\r\nimport SignalCellularAltIcon from '@material-ui/icons/SignalCellularAlt';\r\nimport VideocamIcon from '@material-ui/icons/Videocam';\r\nimport ScreenShareIcon from '@material-ui/icons/ScreenShare';\r\nimport CallEndIcon from '@material-ui/icons/CallEnd';\r\nimport {IconButton,makeStyles, Button} from '@material-ui/core'\r\nimport './Sidebarvoice.scss'\r\nconst useStyles=makeStyles(()=>{\r\n    return{\r\n        signal:{\r\n            color:\"#43b380\"\r\n        },\r\n        end:{\r\n            color:'#babbbf'\r\n        },\r\n        button:{\r\n            fontSize:'14px',\r\n            color:'#fff',\r\n            backgroundColor:'#363940',\r\n            padding:'5px 1.9rem',\r\n            textTransform:'none'\r\n        }\r\n    }\r\n})\r\nfunction Sidebarvoice() {\r\n    const classes=useStyles();\r\n    return (\r\n        <div className='sidebarvoice'>\r\n            <div className=\"sidebarvoice__header\">\r\n                <div className=\"sidebarvoice__connect\">\r\n                    <div className=\"sidebarvoice__connect-icon\">\r\n                        <IconButton className={classes.signal} aria-label=\"settings\">\r\n                            <SignalCellularAltIcon fontSize='large'/>\r\n                        </IconButton>\r\n                        </div>\r\n                    <div className=\"sidebarvoice__connect-connected\">Voice Connected</div>\r\n                </div>\r\n                <div className=\"sidebarvoice__disconnect\">\r\n                    <IconButton className={classes.end} aria-label=\"settings\">\r\n                        <CallEndIcon fontSize='large'/>\r\n                    </IconButton>\r\n                </div>\r\n            </div>\r\n            <div className=\"sidebarvoice__stream\">\r\n                <div className=\"sidebarvoice__stream-video\">\r\n                    <Button variant=\"text\" className={classes.button} startIcon={ <VideocamIcon/>}> Video </Button>\r\n                </div>\r\n                <div className=\"sidebarvoice__stream-screen\">\r\n                    <Button variant=\"text\" className={classes.button} startIcon={ <ScreenShareIcon/>}> Screen </Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Sidebarvoice\r\n","import React, { useState } from 'react';\r\nimport {Avatar,Badge} from '@material-ui/core';\r\nimport { withStyles,makeStyles } from '@material-ui/core/styles';\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\nimport { auth } from '../../firebase/firebase';\r\nimport {IconButton} from '@material-ui/core'\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport MicIcon from '@material-ui/icons/Mic';\r\nimport MicOffIcon from '@material-ui/icons/MicOff';\r\nimport HeadsetMicIcon from '@material-ui/icons/HeadsetMic';\r\nimport './BadgeAvatar.scss'\r\nimport { useHistory } from 'react-router';\r\nconst StyledBadge = withStyles((theme) => ({\r\n  badge: {\r\n    backgroundColor: '#44b700',\r\n    color: '#44b700',\r\n    boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\r\n    '&::after': {\r\n      position: 'absolute',\r\n      top: 0,\r\n      left: 0,\r\n      width: '100%',\r\n      height: '100%',\r\n      borderRadius: '50%',\r\n      animation: '$ripple 1.2s infinite ease-in-out',\r\n      border: '1px solid currentColor',\r\n      content: '\"\"',\r\n    },\r\n  },\r\n  '@keyframes ripple': {\r\n    '0%': {\r\n      transform: 'scale(.8)',\r\n      opacity: 1,\r\n    },\r\n    '100%': {\r\n      transform: 'scale(2.4)',\r\n      opacity: 0,\r\n    },\r\n  },\r\n}))(Badge);\r\n\r\nconst useStyles=makeStyles((theme)=>{\r\n  return{\r\n    settings:{\r\n      display:'flex',\r\n      flexWrap:'wrap'\r\n    },\r\n    icon:{\r\n      padding:'.5rem',\r\n      color:'#babbbf'\r\n    },\r\n    avatar:{\r\n      width:'3.25rem',\r\n      height:'3.25rem'\r\n    }\r\n  }\r\n})\r\n\r\nexport default function BadgeAvatars() {\r\n  const history=useHistory();\r\n  const [user]=useAuthState(auth);\r\n  const [mic,setmic]=useState(false);\r\n  const classes=useStyles();\r\n  const handleClick=async ()=>{\r\n    await auth.signOut();\r\n    history.push('/discord-clone');\r\n  }\r\n    return (\r\n    <div>\r\n      <div className=\"profile\">\r\n        <div className=\"profile__avatar\">\r\n          <StyledBadge overlap=\"circle\" anchorOrigin={{vertical: 'bottom',horizontal: 'right',}} variant=\"dot\">\r\n            <Avatar alt=\"Remy Sharp\" src={`${user&& user.photoURL?user.photoURL:null}`} className={classes.avatar}/>\r\n          </StyledBadge>\r\n          <div className=\"profile__name\">\r\n            <div className=\"profile__name-name\">\r\n              {`${user&& user.displayName?user.displayName:null}`}\r\n            </div>\r\n            <div className=\"profile__name-uid\">\r\n              #{user && user.uid.slice(0,6)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={classes.settings}>\r\n            <IconButton className={classes.icon} onClick={()=>setmic(!mic)} aria-label=\"settings\">\r\n              {mic?<MicIcon fontSize='large'/>: <MicOffIcon fontSize='large' />}\r\n            </IconButton>\r\n            <IconButton className={classes.icon} aria-label=\"settings\">\r\n            <HeadsetMicIcon fontSize='large'/>\r\n            </IconButton>\r\n            <IconButton className={classes.icon} aria-label=\"settings\" onClick={handleClick}>\r\n              <SettingsIcon fontSize='large' />\r\n            </IconButton>\r\n        </div>\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n}","import React,{useState} from 'react'\r\nimport styled from \"styled-components\"\r\nimport { Avatar, makeStyles } from '@material-ui/core'\r\nimport { firestore } from '../../firebase/firebase';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst useStyles=makeStyles({\r\n    avatar:{\r\n        width:'3rem',\r\n        height:'3rem'\r\n    },\r\n    profileavatar:{\r\n        width:'8rem',\r\n        height:'8rem'\r\n    },\r\n    outlined:(rolearr)=>({\r\n        color:rolearr.map((a)=>{\r\n            return a['color']\r\n        })\r\n    }),\r\n\r\n})\r\n\r\nconst Para=styled.p`\r\n    color:${props=>props.color}\r\n`\r\nconst StyledCircle=styled.svg`\r\n    display:'inline-block'\r\n`\r\nconst StyledChip=styled.div`\r\n    border-color:${props=>props.color}\r\n`\r\n\r\nconst Myrolesmap = ({user,color}) => {\r\n    const [open,setopen]=useState(false);\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const [rolearr,setrolearr]=useState([]);\r\n    const userref=firestore.collection('users');\r\n    const currentserverid=useSelector((state)=>state.currentserver.id)\r\n    const classes=useStyles(rolearr);\r\n     const getuserdata=()=>{\r\n        userref.get().then((snapshot)=>snapshot.docs.forEach((doc)=>{\r\n            if(doc.data().userphoto===user.photoURL){\r\n              const keys = Object.keys(doc.data().roles);\r\n              for(const k of keys){\r\n                if(currentserverid && k===currentserverid){\r\n                     const mykeys=Object.keys(doc.data().roles[k])\r\n                     let arr=[];\r\n                     mykeys.map((rol)=>{\r\n                        arr.push(doc.data().roles[k][rol]);                        \r\n                     })\r\n                     setrolearr(arr);    \r\n                }\r\n              }\r\n            }\r\n          }))\r\n     }\r\n\r\n    const handleClick=(event)=>{\r\n    getuserdata()\r\n    setopen(!open);\r\n    setrolearr([]);\r\n    setAnchorEl(anchorEl ? null : event.currentTarget);\r\n}\r\n    return (\r\n        \r\n        <div onClick={handleClick} onMouseLeave={()=>{\r\n            setopen(false)\r\n        }}>\r\n            {open && <div className=\"roleprofile\">\r\n                  <div className=\"roleprofile__header\">\r\n                    <div className=\"roleprofile__header-photo\">\r\n                        <Avatar src={user.photoURL && user.photoURL} className={classes.profileavatar} />\r\n                    </div>\r\n                    <div className=\"roleprofile__header-username\">\r\n                        {user.username && user.username}\r\n                    </div>\r\n                    <div className=\"roleprofile__header-status\">\r\n                        🙌 my website\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"roleprofile__content\">\r\n                    <div className=\"roleprofile__content-heading\">\r\n                        ROLES\r\n                    </div>\r\n                    <div className=\"roleprofile__content-roles\">\r\n                        {rolearr && rolearr.map((a,index)=>{\r\n                            return <StyledChip key={index} className=\"chip\" color={a['color']}>\r\n                            <div className=\"chip__avatar\">\r\n                                <StyledCircle viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"50\" cy=\"50\" r=\"50\" fill={a['color']} /></StyledCircle>\r\n                            </div>\r\n                            <div className=\"chip__label\" color={a['color']}>\r\n                                {a['yourrole']}\r\n                            </div>\r\n                        </StyledChip>\r\n                        })}\r\n                    </div>\r\n                  </div>\r\n              </div>\r\n               }\r\n         <div className=\"roles__box\">\r\n                <div className=\"roles__box-avatar\">\r\n                    <Avatar className={classes.avatar} src={user.photoURL && user.photoURL}/>\r\n                </div>\r\n                <div className=\"roles__content\">\r\n                    <div className=\"roles__content-name\">\r\n                        <Para color={color} className='roles__content--squad'>{user.username && user.username}</Para>\r\n                    </div>\r\n                    <div className='roles__content-status'>\r\n                        {user.status && user.status}\r\n                    </div>\r\n                </div>\r\n            </div>   \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Myrolesmap\r\n","import React from 'react'\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore'\r\nimport Myrolesmap from './Myrolesmap'\r\n\r\nconst Myroles = ({myrole,color,rolemap}) => {\r\n    const allusersref=rolemap.doc(myrole.id).collection('allusers');\r\n    const [allusers]=useCollectionData(allusersref,{idField:'id'});\r\n    return (\r\n        <div className='myroles'>\r\n            <div className=\"myroles__user\">\r\n                {allusers && allusers.map((user)=>{\r\n                return <Myrolesmap key={user.id} user={user} color={color}/>\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Myroles\r\n","import React from 'react'\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\r\nimport { useSelector } from 'react-redux';\r\nimport { firestore } from '../../firebase/firebase'\r\nimport Myroles from './Myroles';\r\n\r\nconst Rolescategory = ({role}) => {\r\n    const currentserverid=useSelector((state)=>state.currentserver.id);\r\n    const rolemap=firestore.collection('servers').doc(currentserverid).collection('allroles').doc(role.id).collection('allroles');\r\n    const [allroleusers]=useCollectionData(rolemap,{idField:'id'});\r\n    return (\r\n        <>\r\n             <div className=\"rolescategory\">\r\n             <div className=\"roles__heading\">\r\n               <h2 className=\"roles__heading-h2\">{role && role.rolename} —  {allroleusers && allroleusers.length}</h2> \r\n            </div>\r\n                {allroleusers && allroleusers.map((myrole)=>{\r\n                    return <Myroles key={myrole.id} myrole={myrole} rolemap={rolemap} color={myrole && myrole.color}/>\r\n                })}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Rolescategory\r\n","import React from 'react'\r\nimport { useCollectionData, useDocumentData } from 'react-firebase-hooks/firestore';\r\nimport { firestore } from '../../firebase/firebase';\r\nimport { Avatar, makeStyles } from '@material-ui/core'\r\nimport './Roles.scss'\r\nimport { useSelector } from 'react-redux';\r\nimport Rolescategory from './Rolescategory';\r\nconst useStyles=makeStyles({\r\n    avatar:{\r\n        width:'3rem',\r\n        height:'3rem'\r\n    },\r\n})\r\nfunction Roles() {\r\n    const classes=useStyles();\r\n    const currentserverid=useSelector((state)=>state.currentserver.id);\r\n    const serverRef=firestore.collection('servers').doc(currentserverid);\r\n    const [servers]=useDocumentData(serverRef);\r\n    const allrolesref=serverRef.collection('allroles');\r\n    const rolequery=allrolesref.orderBy('createdAt');\r\n    const [allroles]=useCollectionData(rolequery,{idField:'id'});\r\n    \r\n    return (\r\n        <div className='roles'>\r\n            <div className=\"roles__heading\">\r\n               <h2 className=\"roles__heading-h2\">Administrator  —  1</h2> \r\n            </div>\r\n            <div className=\"roles__box\">\r\n                <div className=\"roles__box-avatar\">\r\n                    <Avatar className={classes.avatar} src={servers && servers.userimage && servers.userimage}/>\r\n                </div>\r\n                <div className=\"roles__content\">\r\n                    <div className=\"roles__content-name\">\r\n                        <p className='roles__content--admin'>{servers && servers.admin && servers.admin}</p>\r\n                    </div>\r\n                    <div className='roles__content-status'>\r\n                        Visual Studio Code\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {allroles && allroles.map((role)=>{\r\n                return <Rolescategory key={role.id} role={role}/>\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Roles\r\n","import { IconButton,makeStyles } from '@material-ui/core';\r\nimport React, { useEffect } from 'react'\r\nimport { useDispatch } from 'react-redux';\r\nimport ChatMessage from '../../components/ChatMessage/ChatMessage';\r\nimport ChatSearchBar from '../../components/ChatSearchBar/ChatSearchBar';\r\nimport { firestore } from '../../firebase/firebase';\r\nimport currentdoc from '../../redux/document/document.actions';\r\nimport AddChannelPopup from '../../components/AddChannelPopup/AddChannelPopup'\r\nimport SidebarChannel from '../../components/SidebarChannel/SidebarChannel'\r\nimport Sidebarvoice from '../../components/Sidebarvoice/Sidebarvoice'\r\nimport BadgeAvatars from '../../components/Avatar/BadgeAvatar'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Roles from '../../components/Roles/Roles'\r\nimport './Home_serverId_channel.scss'\r\nconst useStyles=makeStyles((theme)=>{\r\n    return{\r\n        button:{\r\n            padding:theme.spacing(1),\r\n            color:'#fff'\r\n        }\r\n    }\r\n})\r\nconst Home_serverId_channel = ({match}) => {\r\n    console.log('called');\r\n    const classes=useStyles();\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        const myfun=async()=>{\r\n            const channelRef=firestore.collection(\"servers\").doc(match.params.serverId).collection(\"channels\").doc(match.params.channelId);\r\n            await channelRef.get().then((snapshot)=>{\r\n                dispatch(currentdoc({id:match.params.channelId,name:snapshot.data().channel}))                \r\n            })\r\n            \r\n        }\r\n        myfun();        \r\n        return () => {\r\n            \r\n        }\r\n    }, [dispatch,match.params.channelId])\r\n    return (\r\n        <>\r\n               <div className='main__sidebar'>\r\n                    <div className='main__channels'>\r\n                        <div className=\"main__channels-header\">\r\n                            <div className=\"main__channels-expandicon\">\r\n                                <IconButton className={classes.button} aria-label=\"settings\">\r\n                                    <ExpandMoreIcon/>\r\n                                </IconButton>\r\n                            </div>\r\n                            <p>Text Channels</p>\r\n                            <div className=\"main__channels-addicon\">\r\n                                <AddChannelPopup/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"main__channels-list\">\r\n                            <SidebarChannel/>\r\n                        </div>\r\n                    </div>\r\n                        <div className=\"main__voice\">\r\n                            <Sidebarvoice/>\r\n                        </div>\r\n                            <div className=\"main__avatar\">\r\n                                <BadgeAvatars/>\r\n                            </div>\r\n                        </div>\r\n            <div className=\"chat\">\r\n                <div className='chat__message'>\r\n                    <ChatMessage/>\r\n                </div>\r\n                <div className=\"chat__searchbar\">\r\n                    <ChatSearchBar/>\r\n                </div>                    \r\n            </div>\r\n            <div className=\"main__roles\">\r\n                <Roles/>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Home_serverId_channel\r\n"],"sourceRoot":""}