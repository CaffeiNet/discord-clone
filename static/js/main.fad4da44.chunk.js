(this["webpackJsonpdiscord-clone"]=this["webpackJsonpdiscord-clone"]||[]).push([[2],{127:function(e,n,t){},128:function(e,n,t){},13:function(e,n,t){"use strict";t.d(n,"e",(function(){return a})),t.d(n,"c",(function(){return c})),t.d(n,"f",(function(){return i})),t.d(n,"b",(function(){return o})),t.d(n,"a",(function(){return s}));var r=t(17);t(154),t(129),t(155),t(131),t(153);r.a.initializeApp({apiKey:"AIzaSyC_flKosPn-LPJF8JsKT3-IhlI3RDMOjqk",authDomain:"discord-clone-12045.firebaseapp.com",projectId:"discord-clone-12045",storageBucket:"discord-clone-12045.appspot.com",messagingSenderId:"889501806287",appId:"1:889501806287:web:a96c4cf73eee4e8b2c11ba"});var a=r.a.firestore();n.d=r.a;var c=r.a.auth(),i=r.a.storage(),o=(r.a.performance(),r.a.database(),new r.a.auth.GoogleAuthProvider),s=function(){a.collection("users").doc(c.currentUser.uid).set({username:c.currentUser.displayName,useremail:c.currentUser.email,userphoto:c.currentUser.photoURL,createdAt:r.a.firestore.FieldValue.serverTimestamp(),roles:{}},{merge:!0})}},133:function(e,n,t){},140:function(e,n,t){},143:function(e,n,t){},144:function(e,n,t){},145:function(e,n,t){},149:function(e,n,t){},150:function(e,n,t){},151:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(22),i=t.n(c),o=(t(127),t(15)),s=t(19),l=(t(128),t(13)),d=t(90),u=t(16),m=t(47),j=t(48),p=t(18),h=(t(133),t(101)),b=t.n(h),f=t(102),v=t.n(f),O=t(103),x=t.n(O),g=t(104),y=t.n(g),_=t(105),w=t.n(_),k=t(91),N=t.n(k),C=t(189),S=t(32),F=t(191),A=t(202),T=t(29),R=t(3),U=Object(C.a)((function(e){return{button:{color:"#babbbd",padding:".8rem"},search:Object(p.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:"#212226","&:hover":{backgroundColor:Object(S.c)("#212226",.5)},marginLeft:0,marginRight:e.spacing(.4),width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,1.5),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",color:"#363940"},inputRoot:{color:"inherit"},inputInput:Object(p.a)({padding:e.spacing(1,1,1,0),fontSize:e.spacing(1.5),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));var L,I=function(){var e=U();return Object(R.jsx)("div",{className:"chat__main",children:Object(R.jsxs)("div",{className:"chatheader",children:[Object(R.jsxs)("div",{className:"chatheader__topic",children:[Object(R.jsx)("p",{className:"chatheader__topic-hash",children:"#"}),Object(R.jsx)("p",{className:"chatheader__topic-content",children:Object(T.c)((function(e){return e.doc.name}))})]}),Object(R.jsxs)("div",{className:"chatheader__items",children:[Object(R.jsxs)("div",{className:"chatheader__items-left",children:[Object(R.jsx)(F.a,{className:e.button,"aria-label":"settings",children:Object(R.jsx)(b.a,{fontSize:"large"})}),Object(R.jsx)(F.a,{className:e.button,"aria-label":"settings",children:Object(R.jsx)(v.a,{fontSize:"large"})}),Object(R.jsx)(F.a,{className:e.button,"aria-label":"settings",children:Object(R.jsx)(x.a,{fontSize:"large"})})]}),Object(R.jsxs)("div",{className:e.search,children:[Object(R.jsx)("div",{className:e.searchIcon,children:Object(R.jsx)(N.a,{})}),Object(R.jsx)(A.a,{placeholder:"Search",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})]}),Object(R.jsxs)("div",{className:"chatheader__items-right",children:[Object(R.jsx)(F.a,{className:e.button,"aria-label":"settings",children:Object(R.jsx)(y.a,{fontSize:"large"})}),Object(R.jsx)(F.a,{className:e.button,"aria-label":"settings",children:Object(R.jsx)(w.a,{fontSize:"large"})})]})]})]})})};t(140);function z(){return(z=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function V(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function E(e,n){var t=e.title,a=e.titleId,c=V(e,["title","titleId"]);return r.createElement("svg",z({className:"linkButtonIcon-Mlm5d6","aria-hidden":"false",width:16,height:16,viewBox:"0 0 24 24",ref:n,"aria-labelledby":a},c),t?r.createElement("title",{id:a},t):null,L||(L=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M0.5,0 L0.5,1.5 C0.5,5.65 2.71,9.28 6,11.3 L6,16 L21,16 L21,14 C21,11.34 15.67,10 13,10 C13,10 12.83,10 12.75,10 C8,10 4,6 4,1.5 L4,0 L0.5,0 Z M13,0 C10.790861,0 9,1.790861 9,4 C9,6.209139 10.790861,8 13,8 C15.209139,8 17,6.209139 17,4 C17,1.790861 15.209139,0 13,0 Z",transform:"translate(2 4)"}),r.createElement("path",{d:"M0,0 L24,0 L24,24 L0,24 L0,0 Z M0,0 L24,0 L24,24 L0,24 L0,0 Z M0,0 L24,0 L24,24 L0,24 L0,0 Z"}))))}var P,W=r.forwardRef(E),M=(t.p,Object(j.a)(W)(P||(P=Object(m.a)(["\nwidth:2.5rem;\nheight:2.5rem;\ndisplay:flex;\nalign-items:center;\n"])))),B=function(e){var n=e.children;return console.log("Universal called"),Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)("div",{className:"universal",children:[Object(R.jsxs)("div",{className:"universal__header",children:[Object(R.jsx)("div",{className:"universal__header-sidebar",children:Object(R.jsx)("div",{className:"universal__header-inputcontainer",children:Object(R.jsx)("input",{type:"text",className:"universal__header-input",placeholder:"Find or start a conversation"})})}),Object(R.jsx)("div",{className:"universal__header-chatbar",children:Object(R.jsx)("div",{className:"universal__header--chat",children:Object(R.jsx)(I,{})})})]}),Object(R.jsxs)("div",{className:"universal__content",children:[Object(R.jsx)("div",{className:"universal__sidebar",children:Object(R.jsx)("div",{className:"universal__sidebar-container",children:Object(R.jsxs)("div",{className:"universal__sidebar-content",children:[Object(R.jsx)("div",{className:"universal__sidebar-avatar",children:Object(R.jsx)(M,{})}),Object(R.jsx)("div",{className:"universal__sidebar-title",children:"Friends"})]})})}),n,Object(R.jsx)("div",{className:"activity",children:Object(R.jsxs)("div",{className:"activity__container",children:[Object(R.jsx)("div",{className:"activity__container-heading",children:"ACTIVE NOW"}),Object(R.jsxs)("div",{className:"activity__container-content",children:[Object(R.jsx)("div",{className:"activity__container--head",children:"It's quiet for now..."}),Object(R.jsx)("div",{className:"activity__container--para",children:"When a friend starts an activity\u2014like playing a game or hanging out on voice\u2014we\u2019ll show it here!"})]})]})})]})]})})},D=t(7),q=t.n(D),Y=t(21),G=t(109),J=t.n(G),X=t(194),Z=t(195),K=t(156),$=t(196),H=t(197),Q=t(205),ee=t(70),ne=t.n(ee),te=(t(143),t(17)),re=t(78),ae=t(41),ce=function(e){return{type:"New_Server",payload:e}},ie=Object(C.a)({addicon:{width:"4.8rem",height:"4.8rem",color:"#43b581"},header:{textAlign:"center"},header__heading:{fontSize:"2rem",color:"#060607",padding:".3rem 2rem",fontFamily:"Whitney-bold",display:"block"},header__text:{fontSize:"1.5rem",display:"block"},header__servername:{marginRight:"80%",color:"#6a7480",fontSize:"1.25rem",fontFamily:"Whitney-medium"},dialogcontent:{backgroundColor:"#fff",padding:"1rem 1.6rem"},dialogaction:{backgroundColor:"#f6f6f7",padding:"4% 5% 4% 5%"},paper:{minWidth:"25%"},input:{display:"none"},container:{marginTop:"1.5rem"}});var oe=function(){var e=ie(),n=Object(r.useState)(!1),t=Object(s.a)(n,2),a=t[0],c=t[1],i=Object(r.useState)(),o=Object(s.a)(i,2),d=o[0],u=o[1],m=Object(r.useState)(""),j=Object(s.a)(m,2),p=j[0],h=j[1],b=l.e.collection("servers"),f=l.e.collection("roles"),v=Object(T.b)(),O=function(){c(!1)},x=function(e){return new Promise((function(n){ne.a.imageFileResizer(e,100,100,"JPEG",100,0,(function(e){n(e)}),"base64")}))},g=function(){var e=Object(Y.a)(q.a.mark((function e(n){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!p){e.next=10;break}if(!d){e.next=7;break}return e.next=5,b.add({servername:p,createdAt:te.a.firestore.FieldValue.serverTimestamp(),email:l.c.currentUser.email,admin:l.c.currentUser.displayName,userimage:l.c.currentUser.photoURL,serverimage:d}).then(function(){var e=Object(Y.a)(q.a.mark((function e(n){var t,r,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(ce({present:!0})),v(Object(ae.a)({id:l.c.currentUser.uid,name:p})),u(""),t=l.e.collection("servers").doc(n.id).collection("channels"),e.next=6,t.add({channel:"general",createdAt:te.a.firestore.FieldValue.serverTimestamp(),email:l.c.currentUser.email}).then((function(e){return v(Object(re.a)({id:e.id,name:"general"}))}));case 6:return e.next=8,t.doc(n.id).set({channel:"roles",createdAt:te.a.firestore.FieldValue.serverTimestamp(),email:l.c.currentUser.email});case 8:return a=f.doc(n.id),e.next=11,a.set({servername:p,createdAt:te.a.firestore.FieldValue.serverTimestamp()}).then(Object(Y.a)(q.a.mark((function e(){var t,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.doc(n.id).collection("allroles"),a=f.doc(n.id).collection("rolemenu"),e.next=4,t.add({createdAt:te.a.firestore.FieldValue.serverTimestamp(),rolename:"Person"}).then(function(){var e=Object(Y.a)(q.a.mark((function e(n){var c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.add({createdAt:te.a.firestore.FieldValue.serverTimestamp(),rolename:"Person",serverroletypeid:n.id}).then(function(){var e=Object(Y.a)(q.a.mark((function e(n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.id;case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),(c=t.doc(n.id).collection("allroles")).add({color:"#ea596e",createdAt:te.a.firestore.FieldValue.serverTimestamp(),rolename:"Female"}).then(function(){var e=Object(Y.a)(q.a.mark((function e(n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.doc(r).collection("allroles").add({Female:{color:"#ea596e",number:1,serverroleid:n.id}});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),c.add({color:"#226699",createdAt:te.a.firestore.FieldValue.serverTimestamp(),rolename:"Male"}).then(function(){var e=Object(Y.a)(q.a.mark((function e(n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.doc(r).collection("allroles").add({Male:{color:"#226699",number:1,serverroleid:n.id}});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)}))));case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 5:e.next=10;break;case 7:return t=f.doc(),e.next=10,b.add({servername:p,createdAt:te.a.firestore.FieldValue.serverTimestamp(),email:l.c.currentUser.email,admin:l.c.currentUser.displayName,userimage:l.c.currentUser.photoURL,serverimage:"/discord-clone/discord_server.png",roleid:t.id}).then(function(){var e=Object(Y.a)(q.a.mark((function e(n){var r,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(ce({present:!0})),v(Object(ae.a)({id:n.id,name:p})),r=l.e.collection("servers").doc(n.id).collection("channels"),e.next=5,r.add({channel:"general",createdAt:te.a.firestore.FieldValue.serverTimestamp(),email:l.c.currentUser.email}).then((function(e){return v(Object(re.a)({id:e.id,name:"general"}))}));case 5:return e.next=7,r.add({channel:"roles",createdAt:te.a.firestore.FieldValue.serverTimestamp(),email:l.c.currentUser.email});case 7:return e.next=9,t.set({serverid:n.id,servername:p,createdAt:te.a.firestore.FieldValue.serverTimestamp()}).then(Object(Y.a)(q.a.mark((function e(){var r,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b.doc(n.id).collection("allroles"),c=f.doc(t.id).collection("rolemenu"),e.next=4,r.add({createdAt:te.a.firestore.FieldValue.serverTimestamp(),rolename:"Person"}).then(function(){var e=Object(Y.a)(q.a.mark((function e(n){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.add({createdAt:te.a.firestore.FieldValue.serverTimestamp(),rolename:"Person",serverroletypeid:n.id}).then(function(){var e=Object(Y.a)(q.a.mark((function e(n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.id;case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),(t=r.doc(n.id).collection("allroles")).add({color:"#ea596e",createdAt:te.a.firestore.FieldValue.serverTimestamp(),rolename:"Female"}).then(function(){var e=Object(Y.a)(q.a.mark((function e(n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.doc(a).collection("allroles").add({Female:{color:"#ea596e",number:1,serverroleid:n.id}});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),t.add({color:"#226699",createdAt:te.a.firestore.FieldValue.serverTimestamp(),rolename:"Male"}).then(function(){var e=Object(Y.a)(q.a.mark((function e(n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.doc(a).collection("allroles").add({Male:{color:"#226699",number:1,serverroleid:n.id}});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)}))));case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 10:h("");case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),y=function(){var e=Object(Y.a)(q.a.mark((function e(n){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(n.target.files[0]);case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(R.jsxs)("div",{className:"addserver",children:[Object(R.jsx)("div",{className:"addserver__addicon",children:Object(R.jsx)(F.a,{onClick:function(){c(!0)},children:Object(R.jsx)(J.a,{className:e.addicon})})}),Object(R.jsxs)(Q.a,{open:a,onClose:O,"aria-labelledby":"form-dialog-title",classes:{paper:e.paper},children:[Object(R.jsxs)(X.a,{className:e.dialogcontent,children:[Object(R.jsxs)(Z.a,{component:"div",className:e.header,children:[Object(R.jsx)(K.a,{component:"span",className:e.header__heading,children:"Customize your server"}),Object(R.jsx)(K.a,{component:"span",className:e.header__text,children:"Give your new server a personality with a name and an icon."}),Object(R.jsx)(K.a,{component:"span",className:e.header__text,children:"You can always change it later."}),Object(R.jsxs)($.a,{className:e.container,maxWidth:"sm",children:[Object(R.jsx)("input",{accept:"image/*",className:e.input,id:"icon-button-file",type:"file",onChange:y}),Object(R.jsx)("label",{htmlFor:"icon-button-file",children:Object(R.jsx)(F.a,{className:e.iconbutton,color:"primary","aria-label":"upload picture",component:"span",children:Object(R.jsx)("img",{className:"uploadimage",src:"/discord-clone/upload.png",alt:""})})})]}),Object(R.jsx)(K.a,{component:"span",className:e.header__servername,children:"SERVER NAME"})]}),Object(R.jsx)("input",{type:"text",required:!0,placeholder:"".concat(l.c.currentUser&&l.c.currentUser.displayName,"'s server"),className:"input__content",autoFocus:!0,onChange:function(e){return h(e.target.value)},value:p})]}),Object(R.jsxs)(H.a,{className:e.dialogaction,children:[Object(R.jsx)("button",{type:"text",onClick:O,className:"addserver__form-back",children:"Back"}),Object(R.jsx)("form",{onSubmit:g,className:"addserver__form",children:Object(R.jsx)("button",{type:"submit",onClick:O,className:"addserver__form-button",children:"Create"})})]})]})]})},se=t(67),le=t(204),de=t(207),ue=(t(92),t(11)),me=(t(144),Object(C.a)({addicon:{width:"4.8rem",height:"4.8rem",color:"#43b581"},header:{textAlign:"center"},header__heading:{fontSize:"2rem",color:"#060607",padding:".3rem 2rem",fontFamily:"Whitney-bold",display:"block"},header__text:{fontSize:"1.5rem",display:"block"},header__servername:{marginRight:"75%",color:"#6a7480",fontSize:"1.25rem",fontFamily:"Whitney-medium"},dialogcontent:{backgroundColor:"#fff"},dialogaction:{backgroundColor:"#f6f6f7",padding:"4% 5% 4% 5%"},paper:{minWidth:"25%"},input:{display:"none"},container:{marginTop:"1.5rem"}}));var je=function(e){var n=e.handleClose,t=me(),a=Object(r.useState)(),c=Object(s.a)(a,2),i=c[0],o=c[1],d=Object(r.useState)(""),u=Object(s.a)(d,2),m=u[0],j=u[1],p=Object(T.c)((function(e){return e.currentserver.id})),h=l.e.collection("servers").doc(p),b=function(e){return new Promise((function(n){ne.a.imageFileResizer(e,100,100,"JPEG",100,0,(function(e){n(e)}),"base64")}))},f=function(){var e=Object(Y.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("hanlde called"),n(),t.preventDefault(),!m){e.next=13;break}if(!i){e.next=10;break}return e.next=7,h.update({servername:m,serverimage:i});case 7:j(""),e.next=13;break;case 10:return e.next=12,h.update({servername:m});case 12:j("");case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),v=function(){var e=Object(Y.a)(q.a.mark((function e(n){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(n.target.files[0]);case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(R.jsxs)("div",{className:"ChangeServername",children:[Object(R.jsxs)(X.a,{className:t.dialogcontent,children:[Object(R.jsxs)(Z.a,{className:t.header,children:[Object(R.jsx)(K.a,{component:"span",className:t.header__heading,children:"Customize your server"}),Object(R.jsx)(K.a,{component:"span",className:t.header__text,children:"Change your Server Name and icon..."}),Object(R.jsxs)($.a,{className:t.container,maxWidth:"sm",children:[Object(R.jsx)("input",{accept:"image/*",className:t.input,id:"icon-button-file",type:"file",onChange:v}),Object(R.jsx)("label",{htmlFor:"icon-button-file",children:Object(R.jsx)(F.a,{className:t.iconbutton,color:"primary","aria-label":"upload picture",component:"span",children:Object(R.jsx)("img",{className:"uploadimage",src:"./upload.png",alt:""})})})]}),Object(R.jsx)(K.a,{component:"span",className:t.header__servername,children:"SERVER NAME"})]}),Object(R.jsx)("input",{type:"text",placeholder:"Change server name",required:!0,className:"input__content",autoFocus:!0,onChange:function(e){return j(e.target.value)},value:m})]}),Object(R.jsxs)(H.a,{className:t.dialogaction,children:[Object(R.jsx)("button",{type:"text",onClick:n,className:"ChangeServername__form-back",children:"Back"}),Object(R.jsx)("form",{onSubmit:f,className:"ChangeServername__form",children:Object(R.jsx)("button",{type:"submit",className:"ChangeServername__form-button",children:"Change"})})]})]})},pe=t(38),he=t(206),be=t(199),fe=t(203),ve=t(198),Oe=(t(145),Object(C.a)((function(e){return{root:{width:"50rem"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},anotherrole:{marginTop:"1rem"},dialogcontent:{width:"100%"},finishedanotherrole:{marginTop:"1rem",marginLeft:"2%"}}})));function xe(e){var n=e.handleClose,t=Oe(),c=a.a.useState(0),i=Object(s.a)(c,2),d=i[0],u=i[1],m=Object(r.useState)([]),j=Object(s.a)(m,2),h=j[0],b=j[1],f=a.a.useState(!1),v=Object(s.a)(f,2),O=v[0],x=v[1],g=["Get Started to Add Role","Add Role type","Add role"],y=Object(T.c)((function(e){return e.currentserver.id})),_=Object(r.useState)({color:"#fff",rolename:""}),w=Object(s.a)(_,2),k=w[0],N=w[1],C=Object(r.useState)(""),S=Object(s.a)(C,2),F=S[0],A=S[1],U=l.e.collection("servers").doc(y).collection("allroles"),L=l.e.collection("roles").doc(y).collection("rolemenu");var I=function(){b((function(){return[].concat(Object(pe.a)(h),[k])})),N({color:"",rolename:""})},z=function(){F&&k.rolename&&b((function(){return[].concat(Object(pe.a)(h),[k])})),N({color:"",rolename:""})},V=function(e){var n=e.target,t=n.name,r=n.value;N((function(){return Object(o.a)(Object(o.a)({},k),{},Object(p.a)({},t,r))}))},E=Object(r.useState)(""),P=Object(s.a)(E,2),W=P[0],M=P[1],B=Object(r.useState)(""),D=Object(s.a)(B,2),G=D[0],J=D[1],$=function(){var e=Object(Y.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u((function(e){return e+1})),O){e.next=6;break}if(!F){e.next=6;break}return e.next=5,U.add({createdAt:te.a.firestore.FieldValue.serverTimestamp(),rolename:F}).then(function(){var e=Object(Y.a)(q.a.mark((function e(n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(n.id),e.next=3,L.add({createdAt:te.a.firestore.FieldValue.serverTimestamp(),rolename:F,serverroletypeid:n.id}).then((function(e){console.log("called",e.id),J(e.id)}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 5:x(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(Y.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u((function(e){return e+1})),!F){e.next=13;break}if(t=U.doc(W).collection("allroles"),!h||!h.length){e.next=9;break}h.map(function(){var e=Object(Y.a)(q.a.mark((function e(n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.add({color:n.color,createdAt:te.a.firestore.FieldValue.serverTimestamp(),rolename:n.rolename}).then(function(){var e=Object(Y.a)(q.a.mark((function e(t){var r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=L.doc(G).collection("allroles"),e.next=3,r.add(Object(p.a)({},n.rolename,{color:n.color,number:1,serverroleid:t.id}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).then((function(){A(""),N(""),M(""),x(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),b([]),n(),e.next=13;break;case 9:if(!k.rolename){e.next=12;break}return e.next=12,t.add({color:k.color,createdAt:te.a.firestore.FieldValue.serverTimestamp(),rolename:k.rolename}).then(function(){var e=Object(Y.a)(q.a.mark((function e(n){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=L.doc(G).collection("allroles"),e.next=3,t.add(Object(p.a)({},k.rolename,{color:k.color,number:1,serverroleid:n.id})).then((function(){A(""),N(""),M(""),x(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 12:n();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(R.jsxs)("div",{className:t.root,children:[Object(R.jsx)(he.a,{activeStep:d,alternativeLabel:!0,children:g.map((function(e){return Object(R.jsx)(be.a,{children:Object(R.jsx)(fe.a,{children:e})},e)}))}),Object(R.jsx)("div",{children:d===g.length?null:Object(R.jsxs)("div",{children:[Object(R.jsx)(K.a,{component:"div",className:t.instructions,children:function(e){switch(e){case 0:return"Select your Role";case 1:return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(X.a,{className:t.dialogcontent,children:[Object(R.jsx)(Z.a,{className:t.header,children:Object(R.jsx)(K.a,{component:"span",className:t.header__rolename,children:"Type Of Role"})}),Object(R.jsx)("input",{type:"text",name:"rolename",required:!0,className:"input__content",autoFocus:!0,onChange:function(e){return A(e.target.value)},value:F})]})});case 2:return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(X.a,{className:t.dialogcontent,children:[Object(R.jsx)(Z.a,{className:t.header,children:Object(R.jsx)(K.a,{component:"span",className:t.header__rolename,children:"Role Name"})}),Object(R.jsx)("input",{type:"text",name:"rolename",required:!0,className:"input__content",autoFocus:!0,onChange:V,value:k.rolename}),Object(R.jsx)(Z.a,{className:t.roleheader,children:Object(R.jsx)(K.a,{component:"span",className:t.roleheader__rolecolor,children:"Role Color"})}),Object(R.jsx)("input",{type:"text",name:"color",required:!0,className:"input__content",onChange:V,value:k.color}),Object(R.jsxs)("div",{className:"addmorediv",children:[Object(R.jsx)(ve.a,{onClick:I,className:t.anotherrole,color:"primary",variant:"contained",children:"Add another role with same category type?"}),Object(R.jsx)(ve.a,{onClick:z,className:t.finishedanotherrole,color:"primary",variant:"contained",children:"Finished adding more"})]})]})});default:return"Unknown stepIndex"}}(d)}),Object(R.jsxs)("div",{children:[Object(R.jsx)(ve.a,{disabled:0===d,onClick:function(){u((function(e){return e-1}))},className:t.backButton,children:"Back"}),d&&1===d?Object(R.jsx)(ve.a,{variant:"contained",color:"primary",onClick:$,children:d===g.length-1?"Finish":"Next"}):2===d?Object(R.jsx)(ve.a,{variant:"contained",color:"primary",onClick:H,children:"Finish"}):Object(R.jsx)(ve.a,{variant:"contained",color:"primary",onClick:function(){u((function(e){return e+1}))},children:d===g.length-1?"Finish":"Next"})]})]})})]})}var ge=Object(C.a)({paper:{minWidth:"25%"}});var ye=function(e){var n=e.server;console.log("servermap called");var t=Object(u.g)(),a=l.e.collection("servers").doc(n.id).collection("channels").orderBy("createdAt").limit(1),c=Object(se.a)(a,{idField:"id"}),i=Object(s.a)(c,1)[0],d=ge(),m={mouseX:null,mouseY:null},j=Object(r.useState)(m),p=Object(s.a)(j,2),h=p[0],b=p[1],f=function(){b(m)},v=Object(T.b)(),O=Object(T.c)((function(e){return e.currentserver.id})),x=n,g=function(){var e=Object(Y.a)(q.a.mark((function e(n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.push("/channels/".concat(n.id,"/").concat(i[0].id));case 2:v(Object(ae.a)({id:n.id,name:n.servername,email:n.email})),b(m);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),y=Object(r.useState)(!1),_=Object(s.a)(y,2),w=_[0],k=_[1],N=Object(r.useState)(!1),C=Object(s.a)(N,2),S=C[0],F=C[1],A=Object(ue.a)({paper:{backgroundColor:"#18191c",color:"#b9bbbe",padding:"6px 8px"}})((function(e){return Object(R.jsx)(le.a,Object(o.a)({anchorReference:"anchorPosition",anchorPosition:null!==h.mouseY&&null!==h.mouseX?{top:h.mouseY,left:h.mouseX}:void 0},e))})),U=Object(ue.a)((function(e){return{root:{fontSize:"1.4rem","&:first-child":{backgroundColor:"#5c6fb1",color:"#fff"},"&:last-child":{color:"rgb(240, 71, 71)"},"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white,fontSize:"1.4rem"}}}}}))(de.a);return Object(R.jsxs)("div",{className:"availableserver__map",children:[Object(R.jsx)("img",{onContextMenu:function(e){e.preventDefault(),b({mouseX:e.clientX-2,mouseY:e.clientY-4})},style:{cursor:"context-menu"},onClick:Object(Y.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(Object(ae.a)({id:n.id,name:n.servername,email:n.email})),e.next=3,t.push("/discord-clone/channels/".concat(n.id,"/").concat(i[0].id));case 3:case"end":return e.stop()}}),e)}))),className:"".concat(O===n.id&&"availableserver__map-clicked"," availableserver__map-image"),src:n.serverimage,alt:"availableserver"},n.id),Object(R.jsxs)(A,{keepMounted:!0,open:null!==h.mouseY,onClose:f,children:[Object(R.jsx)(U,{onClick:function(){return g(n)},children:n.servername}),Object(R.jsx)(U,{onClick:function(){x.email===l.c.currentUser.email&&(v(Object(ae.a)({id:n.id,name:n.servername,email:n.email})),k(!0)),f()},children:"Change Nickname"}),Object(R.jsx)(U,{onClick:function(){x.email===l.c.currentUser.email&&F(!0),v(Object(ae.a)({id:x.id,name:x.servername,email:x.email})),f()},children:"Add roles"}),Object(R.jsx)(U,{onClick:function(){b(m),v(Object(ae.b)(n))},children:"Delete Server"})]}),w&&Object(R.jsx)(Q.a,{open:w,onClose:function(){return k(!1)},"aria-labelledby":"form-dialog-title",classes:{paper:d.paper},children:Object(R.jsx)(je,{handleClose:function(){k(!1)}})}),S&&Object(R.jsx)(Q.a,{open:S,onClose:function(){return F(!1)},"aria-labelledby":"form-dialog-title",classes:{paper:d.paper},children:Object(R.jsx)(xe,{handleClose:function(){return F(!1)}})})]})};var _e,we,ke,Ne=function(){console.log("Available Servers called");var e=Object(T.b)(),n=l.e.collection("servers").orderBy("createdAt").limit(10),t=Object(se.a)(n,{idField:"id"}),a=Object(s.a)(t,1)[0],c=Object(T.c)((function(e){return e.newserver.present}));return Object(r.useEffect)((function(){if(!c)return a&&a.length,function(){}}),[a,c,e]),Object(R.jsx)("div",{className:"availableserver",children:a&&a.map((function(e){return Object(R.jsx)(ye,{server:e},e.id)}))})},Ce=t(93),Se=t.n(Ce),Fe=(t(149),Object(C.a)((function(e){return{button:{padding:e.spacing(1),color:"#fff"}}}))),Ae=function(e){var n=e.children;console.log("layout sidebar");var t=Fe();return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)("div",{className:"main",children:[Object(R.jsxs)("div",{className:"main__header",children:[Object(R.jsxs)("div",{className:"main__header-sidebar",children:[Object(R.jsx)("p",{className:"main__header-currentchannel",children:Object(T.c)((function(e){return e.currentserver.name}))}),Object(R.jsx)("div",{className:"main__header-expandicon",children:Object(R.jsx)(F.a,{className:t.button,"aria-label":"settings",children:Object(R.jsx)(Se.a,{fontSize:"large"})})})]}),Object(R.jsx)("div",{className:"main__header-chatbar",children:Object(R.jsx)("div",{className:"main__header--chat",children:Object(R.jsx)(I,{})})})]}),Object(R.jsx)("div",{className:"main__content",children:n})]})})},Te=t(94),Re=t(110),Ue=j.a.div(_e||(_e=Object(m.a)(["\n  height: 60vh;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),Le=j.a.div(we||(we=Object(m.a)(["\n  display: inline-block;\n  background-image: ",";\n  background-size: cover;\n  background-position: center;\n  width: 40vh;\n  height: 40vh;\n"])),(function(e){var n=e.imageUrl;return"url(".concat(n,")")})),Ie=j.a.h2(ke||(ke=Object(m.a)(["\n  font-size: 28px;\n  color: #2f8e89;\n"]))),ze=(t(150),function(){return Object(R.jsx)(R.Fragment,{children:Object(R.jsx)("div",{className:"mainpage",children:Object(R.jsxs)("div",{className:"mainpage__servers",children:[Object(R.jsx)("div",{className:"mainpage__servers--add",children:Object(R.jsx)(oe,{})}),Object(R.jsx)("div",{className:"mainpage__servers-display",children:Object(R.jsx)(Ne,{})})]})})})}),Ve=Object(r.lazy)((function(){return t.e(19).then(t.bind(null,325))})),Ee=Object(r.lazy)((function(){return t.e(20).then(t.bind(null,323))})),Pe=Object(r.lazy)((function(){return t.e(22).then(t.bind(null,324))})),We=function(e){e.error;var n=e.resetErrorBoundary;return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(Ue,{children:[Object(R.jsx)(Le,{imageUrl:"https://i.imgur.com/lKJiT77.png"}),Object(R.jsx)(Ie,{children:"Sorry this page is broken"}),Object(R.jsx)("button",{onClick:n,children:"Try again"})]})})};var Me=function(){var e=Object(d.a)(l.c),n=Object(s.a)(e,1)[0];return Object(R.jsx)("div",{className:"App",children:Object(R.jsxs)("main",{children:[!n&&Object(R.jsx)(u.a,{to:"/discord-clone"}),Object(R.jsx)(u.d,{children:Object(R.jsx)(Re.ErrorBoundary,{FallbackComponent:We,children:Object(R.jsxs)(r.Suspense,{fallback:Object(R.jsx)(Te.a,{}),children:[Object(R.jsx)(u.b,{exact:!0,path:"/discord-clone",render:function(){return l.c.currentUser?Object(R.jsx)(u.a,{to:"/discord-clone/channels/@me"}):Object(R.jsx)(Ve,{})}}),Object(R.jsx)(u.b,{path:"/discord-clone/channels",component:ze}),Object(R.jsxs)(u.d,{children:[Object(R.jsx)(u.b,{exact:!0,path:"/discord-clone/channels/@me",render:function(){return Object(R.jsx)(B,{children:Object(R.jsx)(Ee,{})})}}),Object(R.jsx)(u.b,{path:"/discord-clone/channels/:serverId",render:function(e){return Object(R.jsx)(Ae,{children:Object(R.jsx)(Pe,Object(o.a)({},e))})}})]})]})})})]})})},Be=t(43),De={id:"ofIRBMmGukI3EXPAYmgn",name:"Discordy"},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"Current_Document":return Object(o.a)(Object(o.a)({},e),{},{id:n.payload.id,name:n.payload.name});default:return e}},Ye={id:"",msg:""},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"Current_message":return Object(o.a)(Object(o.a)({},e),{},{id:n.payload.id,msg:n.payload.msg});default:return e}},Je={clicked:!1},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"Clicked":return Object(o.a)(Object(o.a)({},e),{},{clicked:!e.clicked});default:return e}},Ze={open:!1},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"Change_open":return Object(o.a)(Object(o.a)({},e),{},{open:!e.open});default:return e}},$e={id:"",sender:"",msg:"",photo:""},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"Reply_message":return Object(o.a)(Object(o.a)({},e),{},{id:n.payload.id,sender:n.payload.sender,msg:n.payload.msg,photo:n.payload.photo});default:return e}},Qe={clicked:!1},en=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"Reply_toggle":return Object(o.a)(Object(o.a)({},e),{},{clicked:!e.clicked});default:return e}},nn={id:"LNhwXEYI7pTlOgTN9Chm",name:"Welcome to Discord",email:""},tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"Current_Server":return Object(o.a)(Object(o.a)({},e),{},{id:n.payload.id,name:n.payload.name,email:n.payload.email});default:return e}},rn={present:!1},an=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"New_Server":return Object(o.a)(Object(o.a)({},e),{},{present:n.payload.present});default:return e}},cn={admin:"",squad:""},on=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"Current_Role":return Object(o.a)(Object(o.a)({},e),{},{admin:n.payload.admin,squad:n.payload.squad});default:return e}},sn=Object(Be.c)({doc:qe,msg:Ge,click:Xe,open:Ke,reply:He,replytoggle:en,currentserver:tn,newserver:an,currentrole:on}),ln=t(111),dn=t(113),un=t(36),mn=q.a.mark(jn);function jn(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(un.a)([]);case 2:case"end":return e.stop()}}),mn)}var pn=q.a.mark(vn),hn=q.a.mark(On),bn=q.a.mark(xn),fn=q.a.mark(gn);function vn(e){var n,t,r,a;return q.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=e.payload,c.next=3,console.log(n);case 3:if(n.email!==l.c.currentUser.email){c.next=21;break}return c.next=6,l.e.collection("servers").doc(n.id);case 6:return t=c.sent,c.next=9,l.e.collection("roles").doc(n.id);case 9:return r=c.sent,c.next=12,r.delete();case 12:return c.next=14,t.delete();case 14:return c.next=16,l.e.collection("users");case 16:return a=c.sent,c.next=19,a.doc(l.c.currentUser.uid).set({roles:Object(p.a)({},l.c.currentUser.uid,l.d.firestore.FieldValue.delete())},{merge:!0});case 19:c.next=22;break;case 21:return c.abrupt("return");case 22:case"end":return c.stop()}}),pn)}function On(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(un.c)("Delete_Server_Start",vn);case 2:case"end":return e.stop()}}),hn)}function xn(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),bn)}function gn(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(un.a)([Object(un.b)(xn),Object(un.b)(On)]);case 2:case"end":return e.stop()}}),fn)}var yn=t(52),_n=q.a.mark(Nn),wn=q.a.mark(Cn),kn=q.a.mark(Sn);function Nn(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.c.signInWithPopup(l.b);case 2:return e.next=4,Object(yn.b)(l.a);case 4:case"end":return e.stop()}}),_n)}function Cn(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(yn.d)("Google_SignIn_Start",Nn);case 2:case"end":return e.stop()}}),wn)}function Sn(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(yn.a)([Object(yn.b)(Cn)]);case 2:case"end":return e.stop()}}),kn)}var Fn=q.a.mark(An);function An(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(un.a)([Object(un.b)(Sn),Object(un.b)(jn),Object(un.b)(gn)]);case 2:case"end":return e.stop()}}),Fn)}var Tn=Object(dn.a)(),Rn=[ln.logger,Tn],Un=Object(Be.e)(sn,Be.a.apply(void 0,Rn));Tn.run(An);var Ln=Un,In=t(112),zn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Vn(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(Object(R.jsx)(T.a,{store:Ln,children:Object(R.jsx)(In.a,{children:Object(R.jsx)(Me,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/discord-clone",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/discord-clone","/service-worker.js");zn?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Vn(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Vn(n,e)}))}}()},41:function(e,n,t){"use strict";t.d(n,"b",(function(){return r}));n.a=function(e){return{type:"Current_Server",payload:e}};var r=function(e){return{type:"Delete_Server_Start",payload:e}}},78:function(e,n,t){"use strict";n.a=function(e){return{type:"Current_Document",payload:e}}},92:function(e,n,t){},94:function(e,n,t){"use strict";var r,a=t(47),c=t(48).a.div(r||(r=Object(a.a)(["\n  height: 100vh;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color:#232428;\n"]))),i=t(3);n.a=function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(c,{children:Object(i.jsx)("img",{src:"/discord-clone/discord.gif",alt:"Discord Gif"})})})}}},[[151,16,17]]]);
//# sourceMappingURL=main.fad4da44.chunk.js.map