(this["webpackJsonpdiscord-clone"]=this["webpackJsonpdiscord-clone"]||[]).push([[4],{211:function(e,t,c){},216:function(e,t,c){},217:function(e,t,c){},218:function(e,t,c){},219:function(e,t,c){},220:function(e){e.exports=JSON.parse('[{"emoji":"\ud83d\ude00","tags":["smile","happy"]},{"emoji":"\ud83d\ude03","tags":["happy","joy","haha"]},{"emoji":"\ud83d\ude04","tags":["happy","joy","laugh","pleased"]},{"emoji":"\ud83d\ude01","tags":[]},{"emoji":"\ud83d\ude06","tags":["happy","haha"]},{"emoji":"\ud83d\ude05","tags":["hot"]},{"emoji":"\ud83e\udd23","tags":["lol","laughing"]},{"emoji":"\ud83d\ude02","tags":["tears"]},{"emoji":"\ud83d\ude42","tags":[]},{"emoji":"\ud83d\ude43","tags":[]},{"emoji":"\ud83d\ude09","tags":["flirt"]},{"emoji":"\ud83d\ude0a","tags":["proud"]},{"emoji":"\ud83d\ude07","tags":["angel"]},{"emoji":"\ud83e\udd70","tags":["love"]},{"emoji":"\ud83d\ude0d","tags":["love","crush"]},{"emoji":"\ud83e\udd29","tags":["eyes"]},{"emoji":"\ud83d\ude18","tags":["flirt"]},{"emoji":"\ud83d\ude17","tags":[]},{"emoji":"\ud83d\ude1a","tags":[]},{"emoji":"\ud83d\ude19","tags":[]},{"emoji":"\ud83d\ude0b","tags":["tongue","lick"]},{"emoji":"\ud83d\ude1b","tags":[]},{"emoji":"\ud83d\ude1c","tags":["prank","silly"]},{"emoji":"\ud83e\udd2a","tags":["goofy","wacky"]},{"emoji":"\ud83d\ude1d","tags":["prank"]},{"emoji":"\ud83e\udd11","tags":["rich"]},{"emoji":"\ud83e\udd17","tags":[]},{"emoji":"\ud83e\udd2d","tags":["quiet","whoops"]},{"emoji":"\ud83e\udd2b","tags":["silence","quiet"]},{"emoji":"\ud83e\udd14","tags":[]},{"emoji":"\ud83e\udd10","tags":["silence","hush"]},{"emoji":"\ud83e\udd28","tags":["suspicious"]},{"emoji":"\ud83d\ude10","tags":["meh"]},{"emoji":"\ud83d\ude11","tags":[]},{"emoji":"\ud83d\ude36","tags":["mute","silence"]},{"emoji":"\ud83d\ude0f","tags":["smug"]},{"emoji":"\ud83d\ude12","tags":["meh"]},{"emoji":"\ud83d\ude44","tags":[]},{"emoji":"\ud83d\ude2c","tags":[]},{"emoji":"\ud83e\udd25","tags":["liar"]},{"emoji":"\ud83d\ude0c","tags":["whew"]},{"emoji":"\ud83d\ude14","tags":[]},{"emoji":"\ud83d\ude2a","tags":["tired"]},{"emoji":"\ud83e\udd24","tags":[]},{"emoji":"\ud83d\ude34","tags":["zzz"]},{"emoji":"\ud83d\ude37","tags":["sick","ill"]},{"emoji":"\ud83e\udd12","tags":["sick"]},{"emoji":"\ud83e\udd15","tags":["hurt"]},{"emoji":"\ud83e\udd22","tags":["sick","barf","disgusted"]},{"emoji":"\ud83e\udd2e","tags":["barf","sick"]},{"emoji":"\ud83e\udd27","tags":["achoo","sick"]},{"emoji":"\ud83e\udd75","tags":["heat","sweating"]},{"emoji":"\ud83e\udd76","tags":["freezing","ice"]},{"emoji":"\ud83e\udd74","tags":["groggy"]},{"emoji":"\ud83d\ude35","tags":[]},{"emoji":"\ud83e\udd2f","tags":["mind","blown"]},{"emoji":"\ud83e\udd20","tags":[]},{"emoji":"\ud83e\udd73","tags":["celebration","birthday"]},{"emoji":"\ud83d\ude0e","tags":["cool"]},{"emoji":"\ud83e\udd13","tags":["geek","glasses"]},{"emoji":"\ud83e\uddd0","tags":[]},{"emoji":"\ud83d\ude15","tags":[]},{"emoji":"\ud83d\ude1f","tags":["nervous"]},{"emoji":"\ud83d\ude41","tags":[]},{"emoji":"\u2639\ufe0f","tags":[]},{"emoji":"\ud83d\ude2e","tags":["surprise","impressed","wow"]},{"emoji":"\ud83d\ude2f","tags":["silence","speechless"]},{"emoji":"\ud83d\ude32","tags":["amazed","gasp"]},{"emoji":"\ud83d\ude33","tags":[]},{"emoji":"\ud83e\udd7a","tags":["puppy","eyes"]},{"emoji":"\ud83d\ude26","tags":[]},{"emoji":"\ud83d\ude27","tags":["stunned"]},{"emoji":"\ud83d\ude28","tags":["scared","shocked","oops"]},{"emoji":"\ud83d\ude30","tags":["nervous"]},{"emoji":"\ud83d\ude25","tags":["phew","sweat","nervous"]},{"emoji":"\ud83d\ude22","tags":["sad","tear"]},{"emoji":"\ud83d\ude2d","tags":["sad","cry","bawling"]},{"emoji":"\ud83d\ude31","tags":["horror","shocked"]},{"emoji":"\ud83d\ude16","tags":[]},{"emoji":"\ud83d\ude23","tags":["struggling"]},{"emoji":"\ud83d\ude1e","tags":["sad"]},{"emoji":"\ud83d\ude13","tags":[]},{"emoji":"\ud83d\ude29","tags":["tired"]},{"emoji":"\ud83d\ude2b","tags":["upset","whine"]},{"emoji":"\ud83e\udd71","tags":[]},{"emoji":"\ud83d\ude24","tags":["smug"]},{"emoji":"\ud83d\ude21","tags":["angry"]},{"emoji":"\ud83d\ude20","tags":["mad","annoyed"]},{"emoji":"\ud83e\udd2c","tags":["foul"]},{"emoji":"\ud83d\ude08","tags":["devil","evil","horns"]},{"emoji":"\ud83d\udc7f","tags":["angry","devil","evil","horns"]},{"emoji":"\ud83d\udc80","tags":["dead","danger","poison"]},{"emoji":"\u2620\ufe0f","tags":["danger","pirate"]},{"emoji":"\ud83d\udca9","tags":["crap"]},{"emoji":"\ud83e\udd21","tags":[]},{"emoji":"\ud83d\udc79","tags":["monster"]},{"emoji":"\ud83d\udc7a","tags":[]},{"emoji":"\ud83d\udc7b","tags":["halloween"]},{"emoji":"\ud83d\udc7d","tags":["ufo"]},{"emoji":"\ud83d\udc7e","tags":["game","retro"]},{"emoji":"\ud83e\udd16","tags":[]},{"emoji":"\ud83d\ude3a","tags":[]},{"emoji":"\ud83d\ude38","tags":[]},{"emoji":"\ud83d\ude39","tags":[]},{"emoji":"\ud83d\ude3b","tags":[]},{"emoji":"\ud83d\ude3c","tags":[]},{"emoji":"\ud83d\ude3d","tags":[]},{"emoji":"\ud83d\ude40","tags":["horror"]},{"emoji":"\ud83d\ude3f","tags":["sad","tear"]},{"emoji":"\ud83d\ude3e","tags":[]},{"emoji":"\ud83d\ude48","tags":["monkey","blind","ignore"]},{"emoji":"\ud83d\ude49","tags":["monkey","deaf"]},{"emoji":"\ud83d\ude4a","tags":["monkey","mute","hush"]},{"emoji":"\ud83d\udc8b","tags":["lipstick"]},{"emoji":"\ud83d\udc8c","tags":["email","envelope"]},{"emoji":"\ud83d\udc98","tags":["love","heart"]},{"emoji":"\ud83d\udc9d","tags":["chocolates"]},{"emoji":"\ud83d\udc96","tags":[]},{"emoji":"\ud83d\udc97","tags":[]},{"emoji":"\ud83d\udc93","tags":[]},{"emoji":"\ud83d\udc9e","tags":[]},{"emoji":"\ud83d\udc95","tags":[]},{"emoji":"\ud83d\udc9f","tags":[]},{"emoji":"\u2763\ufe0f","tags":[]},{"emoji":"\ud83d\udc94","tags":[]},{"emoji":"\u2764\ufe0f","tags":["love"]},{"emoji":"\ud83e\udde1","tags":[]},{"emoji":"\ud83d\udc9b","tags":[]},{"emoji":"\ud83d\udc9a","tags":[]},{"emoji":"\ud83d\udc99","tags":[]},{"emoji":"\ud83d\udc9c","tags":[]},{"emoji":"\ud83e\udd0e","tags":[]},{"emoji":"\ud83d\udda4","tags":[]},{"emoji":"\ud83e\udd0d","tags":[]},{"emoji":"\ud83d\udcaf","tags":["score","perfect"]},{"emoji":"\ud83d\udca2","tags":["angry"]},{"emoji":"\ud83d\udca5","tags":["explode"]},{"emoji":"\ud83d\udcab","tags":["star"]},{"emoji":"\ud83d\udca6","tags":["water","workout"]},{"emoji":"\ud83d\udca8","tags":["wind","blow","fast"]},{"emoji":"\ud83d\udd73\ufe0f","tags":[]},{"emoji":"\ud83d\udca3","tags":["boom"]},{"emoji":"\ud83d\udcac","tags":["comment"]},{"emoji":"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f","tags":[]},{"emoji":"\ud83d\udde8\ufe0f","tags":[]},{"emoji":"\ud83d\uddef\ufe0f","tags":[]},{"emoji":"\ud83d\udcad","tags":["thinking"]},{"emoji":"\ud83d\udca4","tags":["sleeping"]},{"emoji":"\ud83d\udc4b","tags":["goodbye"]},{"emoji":"\ud83e\udd1a","tags":[]},{"emoji":"\ud83d\udd90\ufe0f","tags":[]},{"emoji":"\u270b","tags":["highfive","stop"]},{"emoji":"\ud83d\udd96","tags":["prosper","spock"]},{"emoji":"\ud83d\udc4c","tags":[]},{"emoji":"\ud83e\udd0c","tags":[]},{"emoji":"\ud83e\udd0f","tags":[]},{"emoji":"\u270c\ufe0f","tags":["victory","peace"]},{"emoji":"\ud83e\udd1e","tags":["luck","hopeful"]},{"emoji":"\ud83e\udd1f","tags":[]},{"emoji":"\ud83e\udd18","tags":[]},{"emoji":"\ud83e\udd19","tags":[]},{"emoji":"\ud83d\udc48","tags":[]},{"emoji":"\ud83d\udc49","tags":[]},{"emoji":"\ud83d\udc46","tags":[]},{"emoji":"\ud83d\udd95","tags":[]},{"emoji":"\ud83d\udc47","tags":[]},{"emoji":"\u261d\ufe0f","tags":[]},{"emoji":"\ud83d\udc4d","tags":["approve","ok"]},{"emoji":"\ud83d\udc4e","tags":["disapprove","bury"]},{"emoji":"\u270a","tags":["power"]},{"emoji":"\ud83d\udc4a","tags":["attack"]},{"emoji":"\ud83e\udd1b","tags":[]},{"emoji":"\ud83e\udd1c","tags":[]},{"emoji":"\ud83d\udc4f","tags":["praise","applause"]},{"emoji":"\ud83d\ude4c","tags":["hooray"]},{"emoji":"\ud83d\udc50","tags":[]},{"emoji":"\ud83e\udd32","tags":[]},{"emoji":"\ud83e\udd1d","tags":["deal"]},{"emoji":"\ud83d\ude4f","tags":["please","hope","wish"]},{"emoji":"\u270d\ufe0f","tags":[]},{"emoji":"\ud83d\udc85","tags":["beauty","manicure"]}]')},223:function(e,t,c){},224:function(e,t,c){},247:function(e,t,c){},278:function(e,t,c){},280:function(e,t,c){},285:function(e,t,c){},290:function(e,t,c){},291:function(e,t,c){},292:function(e,t,c){"use strict";c.r(t);var a,s,n=c(7),r=c.n(n),i=c(23),o=c(187),l=c(189),d=c(0),j=c.n(d),m=c(28),u=c(19),b=c(66),h=c(13),g=(c(216),c(18)),O=c(43),p=c(44),x=c(3),v=p.a.div(a||(a=Object(O.a)(["\n    background: ",";\n    border-radius: 50%;\n    width: 2.5rem;\n    height: 2.5rem;\n"])),(function(e){return e.color})),f=function(e){var t=e.k,c=e.rol;return Object(x.jsx)("div",{className:"allrolescolor",children:c&&c[t].color&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(v,{className:"allrolescolor__rolevalue",color:c[t].color}),Object(x.jsx)("div",{className:"allrolescolor__rolename",children:Object(x.jsxs)("p",{children:[": ",Object(x.jsx)("span",{className:"allrolescolor__rolename-span",children:t})]})})]})})},_=p.a.div(s||(s=Object(O.a)(["\n    background: ",";\n    border-radius: 50%;\n    width: 1.75rem;\n    height: 1.75rem;\n"])),(function(e){return e.color})),N=function(e){var t=e.rol,c=e.k,a=e.handleClick,s=e.roleheadid;return Object(x.jsx)("div",{onClick:function(){return a({photoURL:h.c.currentUser.photoURL,email:h.c.currentUser.email,id:t.id,rolename:c,number:t[c].number,color:t[c].color,name:h.c.currentUser.displayName,serverroletypeid:s,serverroleid:t[c].serverroleid})},children:t&&t[c].number&&Object(x.jsxs)("div",{className:"allroles",children:[Object(x.jsx)("div",{className:"allroles__button",children:Object(x.jsx)(_,{className:"allrolescolor__rolevalue",color:t[c].color})}),Object(x.jsx)("div",{className:"allroles__number",children:t[c].number})]})})},y=c(17),k=c(305),w=Object(o.a)((function(e){return{avatar:{width:e.spacing(4.5),height:e.spacing(4.5)}}})),U=function(e){var t=e.role,c=w(),a=Object(m.c)((function(e){return e.currentserver.id})),s=h.e.collection("roles").doc(a).collection("rolemenu").doc(t.id).collection("allroles"),n=Object(b.a)(s,{idField:"id"}),o=Object(u.a)(n,1)[0],l=Object(d.useState)(0),j=Object(u.a)(l,2),O=j[0],p=j[1],v=function(){var e=Object(i.a)(r.a.mark((function e(c){var n,i,o,l,d,j,m,u,b,x,v;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(O+1),!(O>0)){e.next=3;break}return e.abrupt("return");case 3:return n=h.e.collection("users").doc(h.c.currentUser.uid),i=c.rolename,o=c.id,l=c.email,d=c.photoURL,j=c.name,m=c.serverroleid,u=c.serverroletypeid,b=c.color,e.next=7,n.get();case 7:return x=e.sent.data(),e.next=10,n.get();case 10:if(v=e.sent,!x||!x.roles){e.next=23;break}if(!x.roles[a]||!x.roles[a][t.rolename]){e.next=16;break}return e.abrupt("return");case 16:return console.log("not present"),e.next=19,n.set({roles:Object(g.a)({},a,Object(g.a)({},t.rolename,{yourrole:i,color:b}))},{merge:!0});case 19:h.e.collection("servers").doc(a).collection("allroles").doc(u).collection("allroles").doc(m).collection("allusers").doc(v.id).set({username:j,photoURL:d,email:l,createdAt:y.a.firestore.FieldValue.serverTimestamp()}),s.doc(o).update(Object(g.a)({},"".concat(i,".number"),y.a.firestore.FieldValue.increment(1)));case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"rolesdocument__main-individual",children:[Object(x.jsx)("div",{className:"rolesdocument__header-photo",children:Object(x.jsx)(k.a,{className:c.avatar,src:"/discord-clone/bot.png"})}),Object(x.jsxs)("div",{className:"rolesdocument__content",children:[Object(x.jsxs)("div",{className:"rolesdocument__content-header",children:[Object(x.jsx)("div",{className:"rolesdocument__content-name",children:"Discord Bot"}),Object(x.jsx)("div",{className:"rolesdocument__content-date",children:"".concat(t.createdAt&&t.createdAt.toDate().getDate()+"/"+(t.createdAt.toDate().getMonth()+1)+"/"+t.createdAt.toDate().getFullYear())})]}),Object(x.jsxs)("div",{className:"rolesdocument__message",children:[Object(x.jsx)("div",{className:"rolesdocument__message-rolemenu",children:Object(x.jsxs)("p",{children:["Role Menu: ",t.rolename]})}),Object(x.jsx)("div",{className:"rolesdocument__message-react",children:"React to give yourself a role."}),Object(x.jsx)("div",{className:"rolesdocument__message-allroles",children:o&&o.map((function(e,t){var c=Object.keys(e);return Object(x.jsx)("div",{children:c.map((function(t,c){return Object(x.jsx)(f,{rol:e,k:t},c)}))},t)}))}),Object(x.jsx)("div",{className:"rolesdocument__message-rolebuttons",children:o&&o.map((function(e){return Object.keys(e).map((function(c,a){return Object(x.jsx)(N,{rol:e,k:c,handleClick:v,roleheading:t.rolename,roleheadid:t.serverroletypeid},a)}))}))})]})]})]})},C=function(e){var t=e.roleid,c=h.e.collection("roles").doc(t).collection("rolemenu").orderBy("createdAt").limit(10),a=Object(b.a)(c,{idField:"id"}),s=Object(u.a)(a,1)[0];return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"rolesdocument",children:Object(x.jsx)("div",{className:"rolesdocument__main",children:s&&s.map((function(e){return Object(x.jsx)(U,{role:e},e.id)}))})})})},S=function(){var e=Object(m.c)((function(e){return e.currentserver.id})),t=h.e.collection("servers").doc(e),c=Object(b.b)(t),a=Object(u.a)(c,1)[0];return Object(x.jsx)(x.Fragment,{children:a&&h.c.currentUser&&Object(x.jsx)(C,{roleid:e})})},F=(c(217),c(221)),A=c.n(F),z=function(e){return{type:"Current_message",payload:e}},R=function(){return{type:"Clicked"}},L=c(207),D=c.n(L),T=c(222),E=c.n(T),V=function(e){return{type:"Reply_message",payload:e}},M=function(){return{type:"Reply_toggle"}},I=(c(218),c(219),c(220)),B=c(90),q=c.n(B),P=function(){var e=Object(d.useState)(""),t=Object(u.a)(e,2),c=t[0],a=t[1],s=Object(d.useState)([]),n=Object(u.a)(s,2),r=n[0],i=n[1];return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"emojicontainer",children:[console.log(r),Object(x.jsxs)("div",{className:"emojicontainer__header",children:[Object(x.jsxs)("div",{className:"emojicontainer__header-inputdiv",children:[Object(x.jsx)("form",{onSubmit:function(e){i([]),e.preventDefault();var t=[];I.map((function(e){return e.tags.map((function(a){a===c&&t.push(e)}))})),i(t),a("")},className:"emojicontainer__header-form",children:Object(x.jsx)("input",{type:"text",onChange:function(e){a(e.target.value)},value:c,autoFocus:!0,placeholder:"find the perfect emoji",className:"emojicontainer__header-input"})}),Object(x.jsx)("div",{className:"emojicontainer__header-search",children:Object(x.jsx)(q.a,{style:{fontSize:"2rem",color:"#72767d"}})})]}),Object(x.jsx)("div",{className:"emojicontainer__header-handicon",children:"\ud83d\udc4f"})]}),Object(x.jsxs)("div",{className:"emojicontainer__body",children:[Object(x.jsx)("div",{className:"emojicontainer__sidebar",children:Object(x.jsxs)("div",{className:"emojicontainer__sidebar-items",children:[Object(x.jsx)("div",{className:"emojicontainer__sidebar-item",children:"\ud83d\ude03"}),Object(x.jsx)("div",{className:"emojicontainer__sidebar-item",children:"\ud83d\ude2c"}),Object(x.jsx)("div",{className:"emojicontainer__sidebar-item",children:"\ud83e\udd2a"})]})}),Object(x.jsxs)("div",{className:"emojicontainer__content",children:[Object(x.jsx)("div",{className:"emojicontainer__content-header",children:"IN DEVELOPMENT"}),Object(x.jsxs)("div",{className:"emojicontainer__content-items",children:[r.length?r.map((function(e,t){return Object(x.jsx)("div",{className:"emojicontainer__content-item",children:e.emoji},t)})):I&&I.map((function(e,t){return Object(x.jsx)("div",{className:"emojicontainer__content-item",children:e.emoji},t)})),I&&I.map((function(e,t){return Object(x.jsx)("div",{className:"emojicontainer__content-item",children:e.emoji},t)}))]})]})]})]})})},J=Object(o.a)((function(){return{chatmenu:{display:"flex"},icon:{color:"#dadbdc","&:hover":{backgroundColor:"#3a3e44"}},myicon:{color:"#b9bbbe",width:"1.8rem",height:"1.8rem"},deleteicon:{width:"1.8rem",height:"1.8rem",color:"#f04747"}}}));var Z=function(e){var t=e.msg,c=J(),a=Object(m.b)(),s=Object(m.c)((function(e){return e.doc.id})),n=Object(m.c)((function(e){return e.currentserver.id})),r=Object(d.useState)(!1),i=Object(u.a)(r,2),o=i[0],l=i[1],j=Object(d.useState)(!1),b=Object(u.a)(j,2),g=b[0],O=b[1],p=Object(d.useState)(!1),v=Object(u.a)(p,2),f=v[0],_=v[1],N=function(){a(z({id:t.id,msg:t.message})),a(R())},y=function(){document.getElementById("myTextField").focus(),a(V({id:t.id,sender:t.sendername,msg:t.message,photo:t.senderphoto})),a(M())};return Object(x.jsxs)("div",{className:"chatmenu",children:[f&&Object(x.jsx)("div",{className:"emojcontain",children:Object(x.jsx)(P,{})}),Object(x.jsx)("div",{className:"chatmenu__addreaction",onClick:function(){_(!f)},children:Object(x.jsx)("img",{className:"chatmenu__image",src:"/discord-clone/addreaction.png",alt:""})}),h.c.currentUser.email===t.senderemail?Object(x.jsx)("div",{className:"chatmenu__edt",onClick:N,children:Object(x.jsx)("img",{className:"chatmenu__image",src:"/discord-clone/edit.png",alt:""})}):Object(x.jsx)("div",{className:"chatmenu__reply",onClick:y,children:Object(x.jsx)("img",{className:"chatmenu__image",src:"/discord-clone/reply.png",alt:"reply"})}),Object(x.jsx)("div",{className:"chatmenu__more",onClick:function(){console.log("called"),h.c.currentUser.email===t.senderemail?O(!g):l(!o)},children:Object(x.jsx)("img",{className:"chatmenu__image",src:"/discord-clone/more.png",alt:"more"})}),g&&Object(x.jsx)("div",{className:"morebox",children:Object(x.jsxs)("div",{className:"morebox__container",children:[Object(x.jsxs)("div",{className:"morebox__item",onClick:N,children:[Object(x.jsx)("div",{className:"morebox__item-label",children:"Edit message"}),Object(x.jsx)("div",{className:"morebox__item-icon",children:Object(x.jsx)(A.a,{className:c.myicon})})]}),Object(x.jsxs)("div",{className:"morebox__item",onClick:function(){h.e.collection("servers").doc(n).collection("channels").doc(s).collection("messages").doc(t.id).delete()},children:[Object(x.jsx)("div",{className:"morebox__item-deletelabel",children:"Delete Message"}),Object(x.jsx)("div",{className:"morebox_item-icon",children:Object(x.jsx)(D.a,{className:c.deleteicon})})]})]})}),o&&Object(x.jsx)("div",{className:"morebox",children:Object(x.jsx)("div",{className:"morebox__container",children:Object(x.jsxs)("div",{className:"morebox__item",onClick:y,children:[Object(x.jsx)("div",{className:"morebox__item-label",children:"Reply Message"}),Object(x.jsx)("div",{className:"morebox_item-icon",children:Object(x.jsx)(E.a,{className:c.myicon})})]})})})]})};c(223);var Y=function(){var e,t,c=Object(m.c)((function(e){return e.msg.id})),a=Object(m.c)((function(e){return e.doc.id})),s=Object(m.c)((function(e){return e.msg.msg})),n=Object(d.useState)(s),r=Object(u.a)(n,2),i=r[0],o=r[1],l=Object(m.c)((function(e){return e.currentserver.id})),j=Object(m.b)(),b=function(e){console.log("called"),e.preventDefault();var t=h.e.collection("servers").doc(l).collection("channels").doc(a).collection("messages").doc(c);console.log(t),t.update({message:i}),j(R())};return e="Escape",t=function(){j(R())},Object(d.useEffect)((function(){function c(c){c.key===e&&t()}return window.addEventListener("keyup",c),function(){return window.removeEventListener("keyup",c)}}),[]),Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("form",{onSubmit:b,children:[Object(x.jsx)("div",{className:"chatedit",children:Object(x.jsx)("input",{type:"text",required:!0,value:i,onChange:function(e){o(e.target.value)},style:{width:"100%"},className:"chatedit__inputarea"})}),Object(x.jsx)("div",{className:"editinstruction",children:Object(x.jsxs)("p",{className:"editinstruction__p",children:["escape to ",Object(x.jsx)("span",{className:"editinstruction__span",onClick:function(){return j(R())},children:"cancel"})," \u2022 enter to ",Object(x.jsx)("span",{className:"editinstruction__span",onClick:b,children:"save"})]})})]})})},W=c(225),G=c.n(W),$=(c(224),Object(o.a)((function(e){return{small:{width:e.spacing(2.2),height:e.spacing(2.2),marginRight:e.spacing(.5)}}})));var H=function(e){var t=e.msg,c=Object(m.c)((function(e){return e.currentrole.admin})),a=$();return Object(x.jsxs)("div",{className:"chatreply",children:[Object(x.jsx)("div",{className:"chatreply__photo",children:Object(x.jsx)(k.a,{className:a.small,src:t.reply.photo})}),Object(x.jsxs)("div",{className:"".concat(c&&c.admin===t.reply.sender&&"chatreply__sender-admin"," chatreply__sender"),children:["@",t.reply.sender]}),Object(x.jsx)("div",{className:"chatreply__message",children:t.reply.msg?t.reply.msg.slice(0,100)+"...":Object(x.jsx)(G.a,{})})]})},K=c(226),Q=c.n(K),X=c(239),ee=c.n(X);var te=function(e){var t=e.msg,c=function(e){return e.match(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi)};return Object(x.jsx)("div",{className:"".concat(!!c(t).filter((function(e){return e.includes("youtube.com/watch")&&e})).length&&"rendervideo__videolink"," rendervideo"),children:c(t)&&!!c(t).filter((function(e){return e.includes("youtube.com/watch")&&e})).length&&Object(x.jsx)(ee.a,{url:c(t).filter((function(e){return e.includes("youtube.com/watch")&&e}))})})};var ce=function(e){var t=e.msg;return Object(x.jsxs)("div",{className:"renderaudio",children:[Object(x.jsxs)("div",{className:"renderaudio__name",children:[" ",t&&t.audioname]}),Object(x.jsx)("div",{className:"renderaudio__mainplayer",children:Object(x.jsx)("div",{className:"renderaudio__player",children:Object(x.jsxs)("audio",{className:"renderaudio__player-music",controls:!0,src:t.audiourl,preload:"metadata",children:["Your browser does not support the",Object(x.jsx)("code",{children:"audio"})," element."]})})})]})},ae=Object(o.a)((function(e){return{avatar:{width:e.spacing(4.5),height:e.spacing(4.5)}}})),se=function(e){var t=e.msg,c=Object(d.useState)(!1),a=Object(u.a)(c,2),s=a[0],n=a[1],r=t.message.replaceAll("\\n","\n"),i=ae(),o=Object(m.c)((function(e){return e.msg.id})),l=Object(m.c)((function(e){return e.currentrole.admin})),j=Object(m.c)((function(e){return e.click.clicked})),b=function(e){return e.match(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi)};return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"".concat(t.reply&&"chatmessage__main--replied"," chatmessage__main ").concat(j&&o===t.id&&"chatmessage__main--edit"),children:Object(x.jsx)("div",{onMouseEnter:function(){return n(!0)},onMouseLeave:function(){return n(!1)},className:"chatmessage",children:Object(x.jsxs)("div",{className:"chatmessage",children:[Object(x.jsxs)("div",{className:"chatmessage__replycontent",children:[t.reply&&Object(x.jsx)("img",{className:"chatmessage__replycontent--replyimage",src:"/discord-clone/discord-reply.png",alt:"reply"}),Object(x.jsx)("div",{className:"chatmessage__replycontent--content",children:t.reply&&Object(x.jsx)(H,{msg:t})})]}),Object(x.jsxs)("div",{className:"chatmessage__header",children:[Object(x.jsx)("div",{className:"".concat(t.reply&&"chatmessage__header-photo--replied"," chatmessage__header-photo"),children:Object(x.jsx)(k.a,{className:i.avatar,src:"".concat(t&&t.senderphoto)})}),Object(x.jsxs)("div",{className:"chatmessage__content",children:[Object(x.jsxs)("div",{className:"chatmessage__content-header",children:[Object(x.jsx)("div",{className:"".concat(l&&l.admin===t.sendername&&"chatmessage__content-admin"," chatmessage__content-name"),children:"".concat(t&&t.sendername)}),Object(x.jsx)("div",{className:"chatmessage__content-date",children:"".concat(t.createdAt&&t.createdAt.toDate().getDate()+"/"+(t.createdAt.toDate().getMonth()+1)+"/"+t.createdAt.toDate().getFullYear())}),Object(x.jsx)("div",{className:"".concat(t.reply&&"chatmessage__content-menu--replied"," chatmessage__content-menu chatmessage__content-menu-normal"),children:s&&Object(x.jsx)(Z,{msg:t})})]}),Object(x.jsxs)("div",{className:"chatmessage__message",children:[Object(m.c)((function(e){return e.click.clicked}))&&t.id===o?Object(x.jsx)(Y,{}):Object(x.jsx)(Q.a,{componentDecorator:function(e,c,a){return Object(x.jsx)("a",{className:"".concat(b(t.message)&&"linkify__videotext"," linkify__text"),href:e,target:"_blank",rel:"noreferrer",children:c},a)},children:t&&t.message?r:!t.base64&&Object(x.jsx)(ce,{msg:t})}),t.base64&&Object(x.jsx)("img",{src:t.base64,alt:"cannot decode"}),b(t.message)&&Object(x.jsx)(te,{msg:t.message})]})]})]})]})})})})},ne=function(){var e=Object(m.c)((function(e){return e.doc.id})),t=Object(m.c)((function(e){return e.currentserver.id})),c=h.e.collection("servers").doc(t).collection("channels").doc(e).collection("messages").orderBy("createdAt"),a=Object(b.a)(c,{idField:"id"}),s=Object(u.a)(a,1)[0],n=Object(m.c)((function(e){return e.doc.name}));return Object(x.jsx)("div",{children:"roles"===n?Object(x.jsx)(S,{}):s&&s.map((function(e){return Object(x.jsx)(se,{msg:e},e.id)}))})},re=(c(247),c(274)),ie=c.n(re),oe=c(275),le=c.n(oe),de=c(276),je=c.n(de),me=c(277),ue=c.n(me),be=c(293),he=c(69),ge=c.n(he),Oe=function(){return{type:"Change_open"}},pe=Object(o.a)({drop:{backgroundColor:"#2C2F33",color:"#e6e8e8"},icon:{color:"gray"}});var xe=function(){var e=Object(m.c)((function(e){return e.doc.id})),t=Object(m.c)((function(e){return e.currentserver.id})),c=Object(m.c)((function(e){return e.replytoggle.clicked})),a=Object(m.c)((function(e){return e.reply})),s=pe(),n=Object(m.b)(),o=function(e){return new Promise((function(t){ge.a.imageFileResizer(e,350,350,"JPEG",100,0,(function(e){t(e)}),"base64")}))},l=function(){var s=Object(i.a)(r.a.mark((function s(i){var l,d,j,m,u,b;return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!["audio/mpeg","audio/mp4","audio/ogg","audio/wav"].includes(i[0].type)){s.next=14;break}return l=i[0],console.log(l),s.prev=3,n(Oe()),d=h.f.ref(),j=d.child(l.name),s.next=9,j.put(l).then((function(){j.getDownloadURL().then((function(s){console.log(s);var r=h.e.collection("servers").doc(t).collection("channels").doc(e).collection("messages");c?(n(M()),r.add({message:"",audioname:l.name,audiourl:s,audiosize:l.size,sendername:h.c.currentUser.displayName,senderemail:h.c.currentUser.email,senderuid:h.c.currentUser.uid,senderphoto:h.c.currentUser.photoURL,createdAt:y.a.firestore.FieldValue.serverTimestamp(),reply:a})):r.add({message:"",audioname:l.name,audiourl:s,audiosize:l.size,sendername:h.c.currentUser.displayName,senderemail:h.c.currentUser.email,senderuid:h.c.currentUser.uid,senderphoto:h.c.currentUser.photoURL,createdAt:y.a.firestore.FieldValue.serverTimestamp()})})),console.log("Uploaded a file")}));case 9:s.next=14;break;case 11:s.prev=11,s.t0=s.catch(3),console.log(s.t0);case 14:if(!["image/jpeg","image/png","image/bmp","image/x-icon"].includes(i[0].type)){s.next=36;break}return m=i[0],console.log(m),s.prev=17,n(Oe()),s.next=21,o(m);case 21:if(u=s.sent,b=h.e.collection("servers").doc(t).collection("channels").doc(e).collection("messages"),!c){s.next=29;break}return n(M()),s.next=27,b.add({message:"",base64:u,sendername:h.c.currentUser.displayName,senderemail:h.c.currentUser.email,senderuid:h.c.currentUser.uid,senderphoto:h.c.currentUser.photoURL,createdAt:y.a.firestore.FieldValue.serverTimestamp(),reply:a});case 27:s.next=31;break;case 29:return s.next=31,b.add({message:"",base64:u,sendername:h.c.currentUser.displayName,senderemail:h.c.currentUser.email,senderuid:h.c.currentUser.uid,senderphoto:h.c.currentUser.photoURL,createdAt:y.a.firestore.FieldValue.serverTimestamp()});case 31:s.next=36;break;case 33:s.prev=33,s.t1=s.catch(17),console.log(s.t1);case 36:case"end":return s.stop()}}),s,null,[[3,11],[17,33]])})));return function(e){return s.apply(this,arguments)}}();return Object(x.jsx)("div",{children:Object(x.jsx)(be.a,{dropzoneClass:s.drop,classes:{icon:s.icon,image:s.imageContainer},showPreviews:!1,showPreviewsInDropzone:!1,maxFileSize:1e7,filesLimit:1,onAdd:l,onDrop:l})})},ve=c(273),fe=c.n(ve),_e=Object(o.a)({button:{margin:0,padding:".1rem",color:"#b9bbbe"},icon:{width:"1.8rem"}});var Ne=function(){var e=_e(),t=Object(m.b)();return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"chatsearchbar__reply",children:[Object(x.jsxs)("div",{className:"chatsearchbar__reply-text",children:["Replying to ",Object(m.c)((function(e){return e.reply.sender}))]}),Object(x.jsx)("div",{className:"chatsearchnar__reply-close",children:Object(x.jsx)(l.a,{className:e.button,onClick:function(){t(M())},children:Object(x.jsx)(fe.a,{fontSize:"large",className:e.icon})})})]})})},ye=Object(o.a)((function(){return{button:{color:"#b8bbc0",padding:"0 .75rem"},addbutton:{backgroundColor:"#40454b",color:"#b8bbc0",padding:".9rem 1rem","&:hover":{backgroundColor:"#40454b"}}}}));var ke=function(){var e=Object(m.b)(),t=ye(),c=Object(d.useState)(!1),a=Object(u.a)(c,2),s=a[0],n=a[1],o=Object(d.useState)(""),j=Object(u.a)(o,2),g=j[0],O=j[1],p=Object(m.c)((function(e){return e.currentserver.id})),v=Object(m.c)((function(e){return e.doc.id})),f=h.e.collection("servers").doc(p).collection("channels").doc(v).collection("messages"),_=Object(m.c)((function(e){return e.reply})),N=Object(m.c)((function(e){return e.replytoggle.clicked})),k=Object(m.c)((function(e){return e.doc.name})),w=f.orderBy("createdAt","desc").limit(1),U=Object(b.a)(w,{idField:"id"}),C=Object(u.a)(U,1)[0],S=function(){var t=Object(i.a)(r.a.mark((function t(c){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),"roles"!==k){t.next=4;break}return O("Not authorized to send message here"),t.abrupt("return");case 4:if(N){t.next=15;break}if(!C.length||C[0].senderemail!==h.c.currentUser.email){t.next=11;break}return a=f.doc(C[0].id),t.next=9,a.update({message:C[0].message+"\\n"+g},{merge:!0});case 9:t.next=13;break;case 11:return t.next=13,f.add({message:g,sendername:h.c.currentUser.displayName,senderemail:h.c.currentUser.email,senderuid:h.c.currentUser.uid,senderphoto:h.c.currentUser.photoURL,createdAt:y.a.firestore.FieldValue.serverTimestamp()});case 13:t.next=18;break;case 15:return t.next=17,f.add({message:g,sendername:h.c.currentUser.displayName,senderemail:h.c.currentUser.email,senderuid:h.c.currentUser.uid,senderphoto:h.c.currentUser.photoURL,createdAt:y.a.firestore.FieldValue.serverTimestamp(),reply:_});case 17:e(M());case 18:O("");case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsxs)("div",{style:{position:"relative"},children:[Object(m.c)((function(e){return e.replytoggle.clicked}))&&Object(x.jsx)(Ne,{}),Object(x.jsxs)("div",{className:"chatsearchbar",children:[Object(x.jsx)("div",{className:"chatsearchbar__addicon",children:Object(x.jsx)(l.a,{className:t.addbutton,onClick:function(){e(Oe())},"aria-label":"settings",children:Object(x.jsx)(ie.a,{fontSize:"large"})})}),Object(x.jsx)("div",{className:"chatsearchbar__input",children:Object(x.jsx)("form",{onSubmit:S,children:Object(x.jsx)("input",{autoFocus:!0,id:"myTextField",value:g,required:!0,onChange:function(e){O(e.target.value)},className:"chatsearchbar__input-text",placeholder:"Message #".concat(Object(m.c)((function(e){return e.doc.name}))),type:"text"})})}),Object(x.jsx)("div",{className:"chatsearchbar__gifticon",children:Object(x.jsx)(l.a,{className:t.button,"aria-label":"settings",children:Object(x.jsx)(le.a,{style:{fontSize:30}})})}),Object(x.jsx)("div",{className:"chatsearchbar__gifcon",children:Object(x.jsx)(l.a,{className:t.button,"aria-label":"settings",children:Object(x.jsx)(je.a,{style:{fontSize:30}})})}),Object(x.jsx)("div",{className:"chatsearchbar__emojiicon",children:Object(x.jsx)(l.a,{className:t.button,onClick:function(){n(!s)},"aria-label":"settings",children:Object(x.jsx)(ue.a,{style:{fontSize:30}})})})]}),s&&Object(x.jsx)("div",{className:"emojipicker",children:Object(x.jsx)(P,{})}),Object(m.c)((function(e){return e.open.open}))&&Object(x.jsx)("div",{className:"upload",children:Object(x.jsx)(xe,{})})]})},we=c(77),Ue=c(203),Ce=c(195),Se=c(192),Fe=c(193),Ae=c(153),ze=c(279),Re=c.n(ze),Le=(c(278),Object(o.a)((function(e){return{button:{padding:e.spacing(1),color:"#fff"},typo:{color:"#fcfdfe",textTransform:"uppercase"},dialog:{backgroundColor:"#363940"},dialogaction:{backgroundColor:"#363940",padding:"4% 6.5%"},paper:{minWidth:"25%"}}})));function De(){var e=Le(),t=j.a.useState(!1),c=Object(u.a)(t,2),a=c[0],s=c[1],n=Object(d.useState)(""),o=Object(u.a)(n,2),b=o[0],g=o[1],O=function(){s(!1)},p=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,f.add({channel:b,createdAt:y.a.firestore.FieldValue.serverTimestamp(),email:h.c.currentUser.email}).then((function(){console.log("Document Added")})).catch((function(e){console.log(e)}));case 3:g("");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=Object(m.c)((function(e){return e.currentserver.id})),f=h.e.collection("servers").doc(v).collection("channels");return Object(x.jsxs)("div",{children:[Object(x.jsx)(l.a,{onClick:function(){s(!0)},className:e.button,"aria-label":"settings",children:Object(x.jsx)(Re.a,{fontSize:"large"})}),Object(x.jsxs)(Ue.a,{open:a,onClose:O,"aria-labelledby":"form-dialog-title",classes:{paper:e.paper},children:[Object(x.jsxs)(Se.a,{className:e.dialog,children:[Object(x.jsx)(Fe.a,{children:Object(x.jsx)(Ae.a,{variant:"h5",className:e.typo,children:"Channel name"})}),Object(x.jsx)("input",{type:"text",required:!0,className:"input",autoFocus:!0,placeholder:"Type channel name",onChange:function(e){return g(e.target.value)},value:b})]}),Object(x.jsx)(Ce.a,{className:e.dialogaction,children:Object(x.jsx)("form",{onSubmit:p,className:"form",children:Object(x.jsx)("button",{type:"submit",onClick:O,className:"form__button",children:"Add"})})})]})]})}c(211);var Te=c(15),Ee=function(e){var t=e.msg,c=Object(Te.g)(),a=Object(m.c)((function(e){return e.doc.id})),s=Object(m.c)((function(e){return e.currentserver.id}));return Object(x.jsx)("div",{children:Object(x.jsxs)("p",{onClick:function(){c.push("/discord-clone/channels/".concat(s,"/").concat(t.id))},className:"".concat(a===t.id&&"clicked"," sidebarchannel__content"),children:[Object(x.jsx)("span",{className:"sidebarchannel__hash",children:"#"}),t.channel]},t.id)})},Ve=function(){var e=Object(m.c)((function(e){return e.currentserver.id})),t=h.e.collection("servers").doc(e).collection("channels"),c=Object(d.useState)([]),a=Object(u.a)(c,2),s=a[0],n=a[1];return Object(d.useEffect)((function(){var e=[];return function(){var c=Object(i.a)(r.a.mark((function c(){return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,t.orderBy("createdAt").get().then((function(t){t.docs.map((function(t){var c=t.data();return c.id=t.id,e.push(c)}))}));case 2:n(e);case 3:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}()(),function(){}}),[e]),Object(x.jsx)("div",{children:Object(x.jsx)("div",{className:"sidebarchannel",children:s&&!!s.length&&s.map((function(e){return Object(x.jsx)(Ee,{msg:e},e.id)}))})})},Me=c(281),Ie=c.n(Me),Be=c(283),qe=c.n(Be),Pe=c(284),Je=c.n(Pe),Ze=c(282),Ye=c.n(Ze),We=c(196),Ge=(c(280),Object(o.a)((function(){return{signal:{color:"#43b380"},end:{color:"#babbbf"},button:{fontSize:"14px",color:"#fff",backgroundColor:"#363940",padding:"5px 1.9rem",textTransform:"none"}}})));var $e=function(){var e=Ge();return Object(x.jsxs)("div",{className:"sidebarvoice",children:[Object(x.jsxs)("div",{className:"sidebarvoice__header",children:[Object(x.jsxs)("div",{className:"sidebarvoice__connect",children:[Object(x.jsx)("div",{className:"sidebarvoice__connect-icon",children:Object(x.jsx)(l.a,{className:e.signal,"aria-label":"settings",children:Object(x.jsx)(Ie.a,{fontSize:"large"})})}),Object(x.jsx)("div",{className:"sidebarvoice__connect-connected",children:"Voice Connected"})]}),Object(x.jsx)("div",{className:"sidebarvoice__disconnect",children:Object(x.jsx)(l.a,{className:e.end,"aria-label":"settings",children:Object(x.jsx)(Ye.a,{fontSize:"large"})})})]}),Object(x.jsxs)("div",{className:"sidebarvoice__stream",children:[Object(x.jsx)("div",{className:"sidebarvoice__stream-video",children:Object(x.jsx)(We.a,{variant:"text",className:e.button,startIcon:Object(x.jsx)(qe.a,{}),children:" Video "})}),Object(x.jsx)("div",{className:"sidebarvoice__stream-screen",children:Object(x.jsx)(We.a,{variant:"text",className:e.button,startIcon:Object(x.jsx)(Je.a,{}),children:" Screen "})})]})]})},He=c(303),Ke=c(11),Qe=c(89),Xe=c(289),et=c.n(Xe),tt=c(286),ct=c.n(tt),at=c(287),st=c.n(at),nt=c(288),rt=c.n(nt),it=(c(285),Object(Ke.a)((function(e){return{badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(He.a)),ot=Object(o.a)((function(e){return{settings:{display:"flex",flexWrap:"wrap"},icon:{padding:".5rem",color:"#babbbf"},avatar:{width:"3.25rem",height:"3.25rem"}}}));function lt(){var e=Object(Te.g)(),t=Object(Qe.a)(h.c),c=Object(u.a)(t,1)[0],a=Object(d.useState)(!1),s=Object(u.a)(a,2),n=s[0],o=s[1],j=ot(),m=function(){var t=Object(i.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.c.signOut();case 2:e.push("/discord-clone");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"profile",children:[Object(x.jsxs)("div",{className:"profile__avatar",children:[Object(x.jsx)(it,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:Object(x.jsx)(k.a,{alt:"Remy Sharp",src:"".concat(c&&c.photoURL?c.photoURL:null),className:j.avatar})}),Object(x.jsxs)("div",{className:"profile__name",children:[Object(x.jsx)("div",{className:"profile__name-name",children:"".concat(c&&c.displayName?c.displayName:null)}),Object(x.jsxs)("div",{className:"profile__name-uid",children:["#",c&&c.uid.slice(0,6)]})]})]}),Object(x.jsxs)("div",{className:j.settings,children:[Object(x.jsx)(l.a,{className:j.icon,onClick:function(){return o(!n)},"aria-label":"settings",children:n?Object(x.jsx)(ct.a,{fontSize:"large"}):Object(x.jsx)(st.a,{fontSize:"large"})}),Object(x.jsx)(l.a,{className:j.icon,"aria-label":"settings",children:Object(x.jsx)(rt.a,{fontSize:"large"})}),Object(x.jsx)(l.a,{className:j.icon,"aria-label":"settings",onClick:m,children:Object(x.jsx)(et.a,{fontSize:"large"})})]})]})})}var dt,jt,mt,ut=c(91),bt=c.n(ut),ht=(c(290),Object(o.a)({avatar:{width:"3rem",height:"3rem"},profileavatar:{width:"8rem",height:"8rem"},outlined:function(e){return{color:e.map((function(e){return e.color}))}}})),gt=p.a.p(dt||(dt=Object(O.a)(["\n    color:","\n"])),(function(e){return e.color})),Ot=p.a.svg(jt||(jt=Object(O.a)(["\n    display:'inline-block'\n"]))),pt=p.a.div(mt||(mt=Object(O.a)(["\n    border-color:","\n"])),(function(e){return e.color})),xt=function(e){var t=e.user,c=e.color,a=Object(d.useState)(!1),s=Object(u.a)(a,2),n=s[0],r=s[1],i=Object(d.useState)(null),o=Object(u.a)(i,2),l=o[0],j=o[1],b=Object(d.useState)([]),g=Object(u.a)(b,2),O=g[0],p=g[1],v=h.e.collection("users"),f=Object(m.c)((function(e){return e.currentserver.id})),_=ht(O);return Object(x.jsxs)("div",{onClick:function(e){v.get().then((function(e){return e.docs.forEach((function(e){if(e.data().userphoto===t.photoURL)for(var c=Object.keys(e.data().roles),a=function(){var t=n[s];if(f&&t===f){var c=Object.keys(e.data().roles[t]),a=[];c.map((function(c){a.push(e.data().roles[t][c])})),p(a)}},s=0,n=c;s<n.length;s++)a()}))})),r(!n),p([]),j(l?null:e.currentTarget)},onMouseLeave:function(){r(!1)},children:[n&&Object(x.jsxs)("div",{className:"roleprofile",children:[Object(x.jsxs)("div",{className:"roleprofile__header",children:[Object(x.jsx)("div",{className:"roleprofile__header-photo",children:Object(x.jsx)(k.a,{src:t.photoURL&&t.photoURL,className:_.profileavatar})}),Object(x.jsx)("div",{className:"roleprofile__header-username",children:t.username&&t.username}),Object(x.jsx)("div",{className:"roleprofile__header-status",children:"\ud83d\ude4c my website"})]}),Object(x.jsxs)("div",{className:"roleprofile__content",children:[Object(x.jsx)("div",{className:"roleprofile__content-heading",children:"ROLES"}),Object(x.jsx)("div",{className:"roleprofile__content-roles",children:O&&O.map((function(e,t){return Object(x.jsxs)(pt,{className:"chip",color:e.color,children:[Object(x.jsx)("div",{className:"chip__avatar",children:Object(x.jsx)(Ot,{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:Object(x.jsx)("circle",{cx:"50",cy:"50",r:"50",fill:e.color})})}),Object(x.jsx)("div",{className:"chip__label",color:e.color,children:e.yourrole})]},t)}))})]})]}),Object(x.jsxs)("div",{className:"roles__box",children:[Object(x.jsx)("div",{className:"roles__box-avatar",children:Object(x.jsx)(k.a,{className:_.avatar,src:t.photoURL&&t.photoURL})}),Object(x.jsxs)("div",{className:"roles__content",children:[Object(x.jsx)("div",{className:"roles__content-name",children:Object(x.jsx)(gt,{color:c,className:"roles__content--squad",children:t.username&&t.username})}),Object(x.jsx)("div",{className:"roles__content-status",children:t.status&&t.status})]})]})]})},vt=function(e){var t=e.myrole,c=e.color,a=e.rolemap.doc(t.id).collection("allusers"),s=Object(b.a)(a,{idField:"id"}),n=Object(u.a)(s,1)[0];return Object(x.jsx)("div",{className:"myroles",children:Object(x.jsx)("div",{className:"myroles__user",children:n&&n.map((function(e){return Object(x.jsx)(xt,{user:e,color:c},e.id)}))})})},ft=function(e){var t=e.role,c=Object(m.c)((function(e){return e.currentserver.id})),a=h.e.collection("servers").doc(c).collection("allroles").doc(t.id).collection("allroles"),s=Object(b.a)(a,{idField:"id"}),n=Object(u.a)(s,1)[0];return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"rolescategory",children:[Object(x.jsx)("div",{className:"roles__heading",children:Object(x.jsxs)("h2",{className:"roles__heading-h2",children:[t&&t.rolename," \u2014  ",n&&n.length]})}),n&&n.map((function(e){return Object(x.jsx)(vt,{myrole:e,rolemap:a,color:e&&e.color},e.id)}))]})})},_t=Object(o.a)({avatar:{width:"3rem",height:"3rem"}});var Nt=function(){var e=_t(),t=Object(m.c)((function(e){return e.currentserver.id})),c=h.e.collection("servers").doc(t),a=Object(b.b)(c),s=Object(u.a)(a,1)[0],n=c.collection("allroles").orderBy("createdAt"),r=Object(b.a)(n,{idField:"id"}),i=Object(u.a)(r,1)[0];return Object(x.jsxs)("div",{className:"roles",children:[Object(x.jsx)("div",{className:"roles__heading",children:Object(x.jsx)("h2",{className:"roles__heading-h2",children:"Administrator  \u2014  1"})}),Object(x.jsxs)("div",{className:"roles__box",children:[Object(x.jsx)("div",{className:"roles__box-avatar",children:Object(x.jsx)(k.a,{className:e.avatar,src:s&&s.userimage&&s.userimage})}),Object(x.jsxs)("div",{className:"roles__content",children:[Object(x.jsx)("div",{className:"roles__content-name",children:Object(x.jsx)("p",{className:"roles__content--admin",children:s&&s.admin&&s.admin})}),Object(x.jsx)("div",{className:"roles__content-status",children:"Visual Studio Code"})]})]}),i&&i.map((function(e){return Object(x.jsx)(ft,{role:e},e.id)}))]})},yt=(c(291),Object(o.a)((function(e){return{button:{padding:e.spacing(1),color:"#fff"}}})));t.default=function(e){var t=e.match;console.log("called");var c=yt(),a=Object(m.b)();return Object(d.useEffect)((function(){return function(){var e=Object(i.a)(r.a.mark((function e(){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=h.e.collection("servers").doc(t.params.serverId).collection("channels").doc(t.params.channelId),e.next=3,c.get().then((function(e){a(Object(we.a)({id:t.params.channelId,name:e.data().channel}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){}}),[a,t.params.channelId]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"main__sidebar",children:[Object(x.jsxs)("div",{className:"main__channels",children:[Object(x.jsxs)("div",{className:"main__channels-header",children:[Object(x.jsx)("div",{className:"main__channels-expandicon",children:Object(x.jsx)(l.a,{className:c.button,"aria-label":"settings",children:Object(x.jsx)(bt.a,{})})}),Object(x.jsx)("p",{children:"Text Channels"}),Object(x.jsx)("div",{className:"main__channels-addicon",children:Object(x.jsx)(De,{})})]}),Object(x.jsx)("div",{className:"main__channels-list",children:Object(x.jsx)(Ve,{})})]}),Object(x.jsx)("div",{className:"main__voice",children:Object(x.jsx)($e,{})}),Object(x.jsx)("div",{className:"main__avatar",children:Object(x.jsx)(lt,{})})]}),Object(x.jsxs)("div",{className:"chat",children:[Object(x.jsx)("div",{className:"chat__message",children:Object(x.jsx)(ne,{})}),Object(x.jsx)("div",{className:"chat__searchbar",children:Object(x.jsx)(ke,{})})]}),Object(x.jsx)("div",{className:"main__roles",children:Object(x.jsx)(Nt,{})})]})}}}]);
//# sourceMappingURL=4.1b532b55.chunk.js.map