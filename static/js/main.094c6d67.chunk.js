(this["webpackJsonpdiscord-clone"]=this["webpackJsonpdiscord-clone"]||[]).push([[2],{134:function(e,n,t){"use strict";t.d(n,"a",(function(){return N}));var r=t(6),a=t.n(r),c=t(15),i=t(13),s=t(0),o=t.n(s),l=t(185),d=t(182),u=t(180),j=t(181),b=t(86),m=t(65),h=t(128),p=t(110),f=t.n(p),v=t(9),O=t(20),x=(t(169),t(18)),g=t(3),_=Object(b.a)((function(e){return{button:{padding:e.spacing(1),color:"#fff"},typo:{color:"#fcfdfe",textTransform:"uppercase"},dialog:{backgroundColor:"#363940"},dialogaction:{backgroundColor:"#363940",padding:"4% 6.5%"},paper:{minWidth:"25%"}}}));function N(){var e=_(),n=o.a.useState(!1),t=Object(i.a)(n,2),r=t[0],b=t[1],p=Object(s.useState)(""),N=Object(i.a)(p,2),y=N[0],w=N[1],k=function(){b(!1)},S=function(){var e=Object(c.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,F.add({channel:y,createdAt:O.a.firestore.FieldValue.serverTimestamp(),email:v.c.currentUser.email}).then((function(){console.log("Document Added")})).catch((function(e){console.log(e)}));case 3:w("");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),C=Object(x.c)((function(e){return e.currentserver.id})),F=v.e.collection("servers").doc(C).collection("channels");return Object(g.jsxs)("div",{children:[Object(g.jsx)(m.a,{onClick:function(){b(!0)},className:e.button,"aria-label":"settings",children:Object(g.jsx)(f.a,{fontSize:"large"})}),Object(g.jsxs)(l.a,{open:r,onClose:k,"aria-labelledby":"form-dialog-title",classes:{paper:e.paper},children:[Object(g.jsxs)(u.a,{className:e.dialog,children:[Object(g.jsx)(j.a,{children:Object(g.jsx)(h.a,{variant:"h5",className:e.typo,children:"Channel name"})}),Object(g.jsx)("input",{type:"text",required:!0,className:"input",autoFocus:!0,placeholder:"Type channel name",onChange:function(e){return w(e.target.value)},value:y})]}),Object(g.jsx)(d.a,{className:e.dialogaction,children:Object(g.jsx)("form",{onSubmit:S,className:"form",children:Object(g.jsx)("button",{type:"submit",onClick:k,className:"form__button",children:"Add"})})})]})]})}},135:function(e,n,t){"use strict";t(0);var r=t(111),a=t.n(r),c=t(113),i=t.n(c),s=t(114),o=t.n(s),l=t(112),d=t.n(l),u=t(86),j=t(65),b=t(129),m=(t(170),t(3)),h=Object(u.a)((function(){return{signal:{color:"#43b380"},end:{color:"#babbbf"},button:{fontSize:"14px",color:"#fff",backgroundColor:"#363940",padding:"5px 1.9rem",textTransform:"none"}}}));n.a=function(){var e=h();return Object(m.jsxs)("div",{className:"sidebarvoice",children:[Object(m.jsxs)("div",{className:"sidebarvoice__header",children:[Object(m.jsxs)("div",{className:"sidebarvoice__connect",children:[Object(m.jsx)("div",{className:"sidebarvoice__connect-icon",children:Object(m.jsx)(j.a,{className:e.signal,"aria-label":"settings",children:Object(m.jsx)(a.a,{fontSize:"large"})})}),Object(m.jsx)("div",{className:"sidebarvoice__connect-connected",children:"Voice Connected"})]}),Object(m.jsx)("div",{className:"sidebarvoice__disconnect",children:Object(m.jsx)(j.a,{className:e.end,"aria-label":"settings",children:Object(m.jsx)(d.a,{fontSize:"large"})})})]}),Object(m.jsxs)("div",{className:"sidebarvoice__stream",children:[Object(m.jsx)("div",{className:"sidebarvoice__stream-video",children:Object(m.jsx)(b.a,{variant:"text",className:e.button,startIcon:Object(m.jsx)(i.a,{}),children:" Video "})}),Object(m.jsx)("div",{className:"sidebarvoice__stream-screen",children:Object(m.jsx)(b.a,{variant:"text",className:e.button,startIcon:Object(m.jsx)(o.a,{}),children:" Screen "})})]})]})}},136:function(e,n,t){"use strict";t.d(n,"a",(function(){return S}));var r=t(6),a=t.n(r),c=t(15),i=t(13),s=t(0),o=t(183),l=t(186),d=t(11),u=t(86),j=t(75),b=t(9),m=t(65),h=t(118),p=t.n(h),f=t(115),v=t.n(f),O=t(116),x=t.n(O),g=t(117),_=t.n(g),N=(t(171),t(16)),y=t(3),w=Object(d.a)((function(e){return{badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(o.a),k=Object(u.a)((function(e){return{settings:{display:"flex",flexWrap:"wrap"},icon:{padding:".5rem",color:"#babbbf"},avatar:{width:"3.25rem",height:"3.25rem"}}}));function S(){var e=Object(N.g)(),n=Object(j.a)(b.c),t=Object(i.a)(n,1)[0],r=Object(s.useState)(!1),o=Object(i.a)(r,2),d=o[0],u=o[1],h=k(),f=function(){var n=Object(c.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.c.signOut();case 2:e.push("/discord-clone");case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(y.jsx)("div",{children:Object(y.jsxs)("div",{className:"profile",children:[Object(y.jsxs)("div",{className:"profile__avatar",children:[Object(y.jsx)(w,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:Object(y.jsx)(l.a,{alt:"Remy Sharp",src:"".concat(t&&t.photoURL?t.photoURL:null),className:h.avatar})}),Object(y.jsxs)("div",{className:"profile__name",children:[Object(y.jsx)("div",{className:"profile__name-name",children:"".concat(t&&t.displayName?t.displayName:null)}),Object(y.jsxs)("div",{className:"profile__name-uid",children:["#",t&&t.uid.slice(0,6)]})]})]}),Object(y.jsxs)("div",{className:h.settings,children:[Object(y.jsx)(m.a,{className:h.icon,onClick:function(){return u(!d)},"aria-label":"settings",children:d?Object(y.jsx)(v.a,{fontSize:"large"}):Object(y.jsx)(x.a,{fontSize:"large"})}),Object(y.jsx)(m.a,{className:h.icon,"aria-label":"settings",children:Object(y.jsx)(_.a,{fontSize:"large"})}),Object(y.jsx)(m.a,{className:h.icon,"aria-label":"settings",onClick:f,children:Object(y.jsx)(p.a,{fontSize:"large"})})]})]})})}},137:function(e,n,t){"use strict";var r=t(13),a=t(0),c=t(42),i=t(9),s=t(86),o=t(186),l=(t(172),t(3));var d,u,j,b=t(18),m=t(45),h=t(46),p=Object(s.a)({avatar:{width:"3rem",height:"3rem"},profileavatar:{width:"8rem",height:"8rem"},outlined:function(e){return{color:e.map((function(e){return e.color}))}}}),f=h.a.p(d||(d=Object(m.a)(["\n    color:","\n"])),(function(e){return e.color})),v=h.a.svg(u||(u=Object(m.a)(["\n    display:'inline-block'\n"]))),O=h.a.div(j||(j=Object(m.a)(["\n    border-color:","\n"])),(function(e){return e.color})),x=function(e){var n=e.user,t=e.color,c=Object(a.useState)(!1),s=Object(r.a)(c,2),d=s[0],u=s[1],j=Object(a.useState)(null),m=Object(r.a)(j,2),h=m[0],x=m[1],g=Object(a.useState)([]),_=Object(r.a)(g,2),N=_[0],y=_[1],w=i.e.collection("users"),k=Object(b.c)((function(e){return e.currentserver.id})),S=p(N);return Object(l.jsxs)("div",{onClick:function(e){w.get().then((function(e){return e.docs.forEach((function(e){if(e.data().userphoto===n.photoURL)for(var t=Object.keys(e.data().roles),r=function(){var n=c[a];if(k&&n===k){var t=Object.keys(e.data().roles[n]),r=[];t.map((function(t){r.push(e.data().roles[n][t])})),y(r)}},a=0,c=t;a<c.length;a++)r()}))})),u(!d),y([]),x(h?null:e.currentTarget)},onMouseLeave:function(){u(!1)},children:[d&&Object(l.jsxs)("div",{className:"roleprofile",children:[Object(l.jsxs)("div",{className:"roleprofile__header",children:[Object(l.jsx)("div",{className:"roleprofile__header-photo",children:Object(l.jsx)(o.a,{src:n.photoURL&&n.photoURL,className:S.profileavatar})}),Object(l.jsx)("div",{className:"roleprofile__header-username",children:n.username&&n.username}),Object(l.jsx)("div",{className:"roleprofile__header-status",children:"\ud83d\ude4c my website"})]}),Object(l.jsxs)("div",{className:"roleprofile__content",children:[Object(l.jsx)("div",{className:"roleprofile__content-heading",children:"ROLES"}),Object(l.jsx)("div",{className:"roleprofile__content-roles",children:N&&N.map((function(e,n){return Object(l.jsxs)(O,{className:"chip",color:e.color,children:[Object(l.jsx)("div",{className:"chip__avatar",children:Object(l.jsx)(v,{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("circle",{cx:"50",cy:"50",r:"50",fill:e.color})})}),Object(l.jsx)("div",{className:"chip__label",color:e.color,children:e.yourrole})]},n)}))})]})]}),Object(l.jsxs)("div",{className:"roles__box",children:[Object(l.jsx)("div",{className:"roles__box-avatar",children:Object(l.jsx)(o.a,{className:S.avatar,src:n.photoURL&&n.photoURL})}),Object(l.jsxs)("div",{className:"roles__content",children:[Object(l.jsx)("div",{className:"roles__content-name",children:Object(l.jsx)(f,{color:t,className:"roles__content--squad",children:n.username&&n.username})}),Object(l.jsx)("div",{className:"roles__content-status",children:n.status&&n.status})]})]})]})},g=function(e){var n=e.myrole,t=e.color,a=e.rolemap.doc(n.id).collection("allusers"),i=Object(c.a)(a,{idField:"id"}),s=Object(r.a)(i,1)[0];return Object(l.jsx)("div",{className:"myroles",children:Object(l.jsx)("div",{className:"myroles__user",children:s&&s.map((function(e){return Object(l.jsx)(x,{user:e,color:t},e.id)}))})})},_=function(e){var n=e.role,t=Object(b.c)((function(e){return e.currentserver.id})),a=i.e.collection("servers").doc(t).collection("allroles").doc(n.id).collection("allroles"),s=Object(c.a)(a,{idField:"id"}),o=Object(r.a)(s,1)[0];return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"rolescategory",children:[Object(l.jsx)("div",{className:"roles__heading",children:Object(l.jsxs)("h2",{className:"roles__heading-h2",children:[n&&n.rolename," \u2014  ",o&&o.length]})}),o&&o.map((function(e){return Object(l.jsx)(g,{myrole:e,rolemap:a,color:e&&e.color},e.id)}))]})})},N=Object(s.a)({avatar:{width:"3rem",height:"3rem"}});n.a=function(){var e=N(),n=Object(b.c)((function(e){return e.currentserver.id})),t=i.e.collection("servers").doc(n),s=Object(c.b)(t),d=Object(r.a)(s,1)[0],u=Object(b.b)();Object(a.useEffect)((function(){return function(){}}),[d,u]);var j=t.collection("allroles").orderBy("createdAt"),m=Object(c.a)(j,{idField:"id"}),h=Object(r.a)(m,1)[0];return Object(l.jsxs)("div",{className:"roles",children:[Object(l.jsx)("div",{className:"roles__heading",children:Object(l.jsx)("h2",{className:"roles__heading-h2",children:"Administrator  \u2014  1"})}),Object(l.jsxs)("div",{className:"roles__box",children:[Object(l.jsx)("div",{className:"roles__box-avatar",children:Object(l.jsx)(o.a,{className:e.avatar,src:d&&d.userimage&&d.userimage})}),Object(l.jsxs)("div",{className:"roles__content",children:[Object(l.jsx)("div",{className:"roles__content-name",children:Object(l.jsx)("p",{className:"roles__content--admin",children:d&&d.admin&&d.admin})}),Object(l.jsx)("div",{className:"roles__content-status",children:"Visual Studio Code"})]})]}),h&&h.map((function(e){return Object(l.jsx)(_,{role:e},e.id)}))]})}},138:function(e,n,t){"use strict";var r=t(6),a=t.n(r),c=t(15),i=t(13),s=t(0),o=(t(96),t(9)),l=t(18),d=t(16),u=t(3),j=function(e){var n=e.msg;console.log("Channel map called");var t=Object(d.g)(),r=Object(l.c)((function(e){return e.doc.id})),i=Object(l.c)((function(e){return e.currentserver.id}));return Object(u.jsx)("div",{children:Object(u.jsxs)("p",{onClick:Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.push("/discord-clone/channels/".concat(i,"/").concat(n.id));case 2:case"end":return e.stop()}}),e)}))),className:"".concat(r===n.id&&"clicked"," sidebarchannel__content"),children:[Object(u.jsx)("span",{className:"sidebarchannel__hash",children:"#"}),n.channel]},n.id)})};n.a=function(){console.log("Sidebar Channel got rendered");var e=Object(l.c)((function(e){return e.currentserver.id})),n=o.e.collection("servers").doc(e).collection("channels"),t=Object(s.useState)([]),r=Object(i.a)(t,2),d=r[0],b=r[1];return Object(s.useEffect)((function(){var e=[];return console.log("rendered due to channel change"),function(){var t=Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.orderBy("createdAt").get().then((function(n){n.docs.map((function(n){var t=n.data();return t.id=n.id,e.push(t)}))}));case 2:b(e);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){}}),[e]),Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"sidebarchannel",children:d&&!!d.length&&d.map((function(e){return Object(u.jsx)(j,{msg:e},e.id)}))})})}},148:function(e,n,t){},149:function(e,n,t){},160:function(e,n,t){},162:function(e,n,t){},163:function(e,n,t){},168:function(e,n,t){},169:function(e,n,t){},170:function(e,n,t){},171:function(e,n,t){},172:function(e,n,t){},173:function(e,n,t){},174:function(e,n,t){},175:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(24),i=t.n(c),s=(t(148),t(19)),o=t(13),l=(t(149),t(9)),d=t(75),u=t(16),j=t(86),b=t(65),m=t(18),h=t(6),p=t.n(h),f=t(15),v=t(104),O=t.n(v),x=t(180),g=t(181),_=t(128),N=t(222),y=t(182),w=t(185),k=t(69),S=t.n(k),C=(t(160),t(20)),F=t(81),A=t(48),U=function(e){return{type:"New_Server",payload:e}},R=t(3),T=Object(j.a)({addicon:{width:"4.8rem",height:"4.8rem",color:"#43b581"},header:{textAlign:"center"},header__heading:{fontSize:"2rem",color:"#060607",padding:".3rem 2rem",fontFamily:"Whitney-bold",display:"block"},header__text:{fontSize:"1.5rem",display:"block"},header__servername:{marginRight:"80%",color:"#6a7480",fontSize:"1.25rem",fontFamily:"Whitney-medium"},dialogcontent:{backgroundColor:"#fff",padding:"1rem 1.6rem"},dialogaction:{backgroundColor:"#f6f6f7",padding:"4% 5% 4% 5%"},paper:{minWidth:"25%"},input:{display:"none"},container:{marginTop:"1.5rem"}});var z=function(){var e=T(),n=Object(r.useState)(!1),t=Object(o.a)(n,2),a=t[0],c=t[1],i=Object(r.useState)(),s=Object(o.a)(i,2),d=s[0],u=s[1],j=Object(r.useState)(""),h=Object(o.a)(j,2),v=h[0],k=h[1],z=l.e.collection("servers"),V=l.e.collection("roles"),I=Object(m.b)(),L=function(){c(!1)},E=function(e){return new Promise((function(n){S.a.imageFileResizer(e,100,100,"JPEG",100,0,(function(e){n(e)}),"base64")}))},W=function(){var e=Object(f.a)(p.a.mark((function e(n){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!v){e.next=10;break}if(!d){e.next=7;break}return e.next=5,z.add({servername:v,createdAt:C.a.firestore.FieldValue.serverTimestamp(),email:l.c.currentUser.email,admin:l.c.currentUser.displayName,userimage:l.c.currentUser.photoURL,serverimage:d}).then(function(){var e=Object(f.a)(p.a.mark((function e(n){var t,r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(U({present:!0})),I(Object(A.a)({id:l.c.currentUser.uid,name:v})),u(""),t=l.e.collection("servers").doc(n.id).collection("channels"),e.next=6,t.add({channel:"general",createdAt:C.a.firestore.FieldValue.serverTimestamp(),email:l.c.currentUser.email}).then((function(e){return I(Object(F.a)({id:e.id,name:"general"}))}));case 6:return e.next=8,t.doc(n.id).set({channel:"roles",createdAt:C.a.firestore.FieldValue.serverTimestamp(),email:l.c.currentUser.email});case 8:return a=V.doc(n.id),e.next=11,a.set({servername:v,createdAt:C.a.firestore.FieldValue.serverTimestamp()}).then(Object(f.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=z.doc(n.id).collection("allroles"),a=V.doc(n.id).collection("rolemenu"),e.next=4,t.add({createdAt:C.a.firestore.FieldValue.serverTimestamp(),rolename:"Person"}).then(function(){var e=Object(f.a)(p.a.mark((function e(n){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.add({createdAt:C.a.firestore.FieldValue.serverTimestamp(),rolename:"Person",serverroletypeid:n.id}).then(function(){var e=Object(f.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.id;case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),(c=t.doc(n.id).collection("allroles")).add({color:"#ea596e",createdAt:C.a.firestore.FieldValue.serverTimestamp(),rolename:"Female"}).then(function(){var e=Object(f.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.doc(r).collection("allroles").add({Female:{color:"#ea596e",number:1,serverroleid:n.id}});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),c.add({color:"#226699",createdAt:C.a.firestore.FieldValue.serverTimestamp(),rolename:"Male"}).then(function(){var e=Object(f.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.doc(r).collection("allroles").add({Male:{color:"#226699",number:1,serverroleid:n.id}});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)}))));case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 5:e.next=10;break;case 7:return t=V.doc(),e.next=10,z.add({servername:v,createdAt:C.a.firestore.FieldValue.serverTimestamp(),email:l.c.currentUser.email,admin:l.c.currentUser.displayName,userimage:l.c.currentUser.photoURL,serverimage:"./discord-clone/discord_server.png",roleid:t.id}).then(function(){var e=Object(f.a)(p.a.mark((function e(n){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(U({present:!0})),I(Object(A.a)({id:n.id,name:v})),r=l.e.collection("servers").doc(n.id).collection("channels"),e.next=5,r.add({channel:"general",createdAt:C.a.firestore.FieldValue.serverTimestamp(),email:l.c.currentUser.email}).then((function(e){return I(Object(F.a)({id:e.id,name:"general"}))}));case 5:return e.next=7,r.add({channel:"roles",createdAt:C.a.firestore.FieldValue.serverTimestamp(),email:l.c.currentUser.email});case 7:return e.next=9,t.set({serverid:n.id,servername:v,createdAt:C.a.firestore.FieldValue.serverTimestamp()}).then(Object(f.a)(p.a.mark((function e(){var r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=z.doc(n.id).collection("allroles"),c=V.doc(t.id).collection("rolemenu"),e.next=4,r.add({createdAt:C.a.firestore.FieldValue.serverTimestamp(),rolename:"Person"}).then(function(){var e=Object(f.a)(p.a.mark((function e(n){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.add({createdAt:C.a.firestore.FieldValue.serverTimestamp(),rolename:"Person",serverroletypeid:n.id}).then(function(){var e=Object(f.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.id;case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),(t=r.doc(n.id).collection("allroles")).add({color:"#ea596e",createdAt:C.a.firestore.FieldValue.serverTimestamp(),rolename:"Female"}).then(function(){var e=Object(f.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.doc(a).collection("allroles").add({Female:{color:"#ea596e",number:1,serverroleid:n.id}});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),t.add({color:"#226699",createdAt:C.a.firestore.FieldValue.serverTimestamp(),rolename:"Male"}).then(function(){var e=Object(f.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.doc(a).collection("allroles").add({Male:{color:"#226699",number:1,serverroleid:n.id}});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)}))));case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 10:k("");case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),P=function(){var e=Object(f.a)(p.a.mark((function e(n){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(n.target.files[0]);case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(R.jsxs)("div",{className:"addserver",children:[Object(R.jsx)("div",{className:"addserver__addicon",children:Object(R.jsx)(b.a,{onClick:function(){c(!0)},children:Object(R.jsx)(O.a,{className:e.addicon})})}),Object(R.jsxs)(w.a,{open:a,onClose:L,"aria-labelledby":"form-dialog-title",classes:{paper:e.paper},children:[Object(R.jsxs)(x.a,{className:e.dialogcontent,children:[Object(R.jsxs)(g.a,{component:"div",className:e.header,children:[Object(R.jsx)(_.a,{component:"span",className:e.header__heading,children:"Customize your server"}),Object(R.jsx)(_.a,{component:"span",className:e.header__text,children:"Give your new server a personality with a name and an icon."}),Object(R.jsx)(_.a,{component:"span",className:e.header__text,children:"You can always change it later."}),Object(R.jsxs)(N.a,{className:e.container,maxWidth:"sm",children:[Object(R.jsx)("input",{accept:"image/*",className:e.input,id:"icon-button-file",type:"file",onChange:P}),Object(R.jsx)("label",{htmlFor:"icon-button-file",children:Object(R.jsx)(b.a,{className:e.iconbutton,color:"primary","aria-label":"upload picture",component:"span",children:Object(R.jsx)("img",{className:"uploadimage",src:"/./upload.png",alt:""})})})]}),Object(R.jsx)(_.a,{component:"span",className:e.header__servername,children:"SERVER NAME"})]}),Object(R.jsx)("input",{type:"text",required:!0,placeholder:"".concat(l.c.currentUser&&l.c.currentUser.displayName,"'s server"),className:"input__content",autoFocus:!0,onChange:function(e){return k(e.target.value)},value:v})]}),Object(R.jsxs)(y.a,{className:e.dialogaction,children:[Object(R.jsx)("button",{type:"text",onClick:L,className:"addserver__form-back",children:"Back"}),Object(R.jsx)("form",{onSubmit:W,className:"addserver__form",children:Object(R.jsx)("button",{type:"submit",onClick:L,className:"addserver__form-button",children:"Create"})})]})]})]})},V=t(42),I=t(228),L=t(230),E=(t(94),t(11)),W=(t(162),Object(j.a)({addicon:{width:"4.8rem",height:"4.8rem",color:"#43b581"},header:{textAlign:"center"},header__heading:{fontSize:"2rem",color:"#060607",padding:".3rem 2rem",fontFamily:"Whitney-bold",display:"block"},header__text:{fontSize:"1.5rem",display:"block"},header__servername:{marginRight:"75%",color:"#6a7480",fontSize:"1.25rem",fontFamily:"Whitney-medium"},dialogcontent:{backgroundColor:"#fff"},dialogaction:{backgroundColor:"#f6f6f7",padding:"4% 5% 4% 5%"},paper:{minWidth:"25%"},input:{display:"none"},container:{marginTop:"1.5rem"}}));var P=function(e){var n=e.handleClose,t=W(),a=Object(r.useState)(),c=Object(o.a)(a,2),i=c[0],s=c[1],d=Object(r.useState)(""),u=Object(o.a)(d,2),j=u[0],h=u[1],v=Object(m.c)((function(e){return e.currentserver.id})),O=l.e.collection("servers").doc(v),w=function(e){return new Promise((function(n){S.a.imageFileResizer(e,100,100,"JPEG",100,0,(function(e){n(e)}),"base64")}))},k=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("hanlde called"),n(),t.preventDefault(),!j){e.next=13;break}if(!i){e.next=10;break}return e.next=7,O.update({servername:j,serverimage:i});case 7:h(""),e.next=13;break;case 10:return e.next=12,O.update({servername:j});case 12:h("");case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),C=function(){var e=Object(f.a)(p.a.mark((function e(n){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(n.target.files[0]);case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(R.jsxs)("div",{className:"ChangeServername",children:[Object(R.jsxs)(x.a,{className:t.dialogcontent,children:[Object(R.jsxs)(g.a,{className:t.header,children:[Object(R.jsx)(_.a,{component:"span",className:t.header__heading,children:"Customize your server"}),Object(R.jsx)(_.a,{component:"span",className:t.header__text,children:"Change your Server Name and icon..."}),Object(R.jsxs)(N.a,{className:t.container,maxWidth:"sm",children:[Object(R.jsx)("input",{accept:"image/*",className:t.input,id:"icon-button-file",type:"file",onChange:C}),Object(R.jsx)("label",{htmlFor:"icon-button-file",children:Object(R.jsx)(b.a,{className:t.iconbutton,color:"primary","aria-label":"upload picture",component:"span",children:Object(R.jsx)("img",{className:"uploadimage",src:"./upload.png",alt:""})})})]}),Object(R.jsx)(_.a,{component:"span",className:t.header__servername,children:"SERVER NAME"})]}),Object(R.jsx)("input",{type:"text",placeholder:"Change server name",required:!0,className:"input__content",autoFocus:!0,onChange:function(e){return h(e.target.value)},value:j})]}),Object(R.jsxs)(y.a,{className:t.dialogaction,children:[Object(R.jsx)("button",{type:"text",onClick:n,className:"ChangeServername__form-back",children:"Back"}),Object(R.jsx)("form",{onSubmit:k,className:"ChangeServername__form",children:Object(R.jsx)("button",{type:"submit",className:"ChangeServername__form-button",children:"Change"})})]})]})},B=t(22),D=t(43),M=t(229),q=t(223),Y=t(227),G=t(129),J=(t(163),Object(j.a)((function(e){return{root:{width:"50rem"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},anotherrole:{marginTop:"1rem"},dialogcontent:{width:"100%"},finishedanotherrole:{marginTop:"1rem",marginLeft:"2%"}}})));function X(e){var n=e.handleClose,t=J(),c=a.a.useState(0),i=Object(o.a)(c,2),d=i[0],u=i[1],j=Object(r.useState)([]),b=Object(o.a)(j,2),h=b[0],v=b[1],O=a.a.useState(!1),N=Object(o.a)(O,2),y=N[0],w=N[1],k=["Get Started to Add Role","Add Role type","Add role"],S=Object(m.c)((function(e){return e.currentserver.id})),F=Object(r.useState)({color:"#fff",rolename:""}),A=Object(o.a)(F,2),U=A[0],T=A[1],z=Object(r.useState)(""),V=Object(o.a)(z,2),I=V[0],L=V[1],E=l.e.collection("servers").doc(S).collection("allroles"),W=l.e.collection("roles").doc(S).collection("rolemenu");var P=function(){v((function(){return[].concat(Object(D.a)(h),[U])})),T({color:"",rolename:""})},X=function(){I&&U.rolename&&v((function(){return[].concat(Object(D.a)(h),[U])})),T({color:"",rolename:""})},K=function(e){var n=e.target,t=n.name,r=n.value;T((function(){return Object(s.a)(Object(s.a)({},U),{},Object(B.a)({},t,r))}))},$=Object(r.useState)(""),H=Object(o.a)($,2),Q=H[0],Z=H[1],ee=Object(r.useState)(""),ne=Object(o.a)(ee,2),te=ne[0],re=ne[1],ae=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u((function(e){return e+1})),y){e.next=6;break}if(!I){e.next=6;break}return e.next=5,E.add({createdAt:C.a.firestore.FieldValue.serverTimestamp(),rolename:I}).then(function(){var e=Object(f.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(n.id),e.next=3,W.add({createdAt:C.a.firestore.FieldValue.serverTimestamp(),rolename:I,serverroletypeid:n.id}).then((function(e){console.log("called",e.id),re(e.id)}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 5:w(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u((function(e){return e+1})),!I){e.next=13;break}if(t=E.doc(Q).collection("allroles"),!h||!h.length){e.next=9;break}h.map(function(){var e=Object(f.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.add({color:n.color,createdAt:C.a.firestore.FieldValue.serverTimestamp(),rolename:n.rolename}).then(function(){var e=Object(f.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=W.doc(te).collection("allroles"),e.next=3,r.add(Object(B.a)({},n.rolename,{color:n.color,number:1,serverroleid:t.id}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).then((function(){L(""),T(""),Z(""),w(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),v([]),n(),e.next=13;break;case 9:if(!U.rolename){e.next=12;break}return e.next=12,t.add({color:U.color,createdAt:C.a.firestore.FieldValue.serverTimestamp(),rolename:U.rolename}).then(function(){var e=Object(f.a)(p.a.mark((function e(n){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=W.doc(te).collection("allroles"),e.next=3,t.add(Object(B.a)({},U.rolename,{color:U.color,number:1,serverroleid:n.id})).then((function(){L(""),T(""),Z(""),w(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 12:n();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(R.jsxs)("div",{className:t.root,children:[Object(R.jsx)(M.a,{activeStep:d,alternativeLabel:!0,children:k.map((function(e){return Object(R.jsx)(q.a,{children:Object(R.jsx)(Y.a,{children:e})},e)}))}),Object(R.jsx)("div",{children:d===k.length?null:Object(R.jsxs)("div",{children:[Object(R.jsx)(_.a,{component:"div",className:t.instructions,children:function(e){switch(e){case 0:return"Select your Role";case 1:return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(x.a,{className:t.dialogcontent,children:[Object(R.jsx)(g.a,{className:t.header,children:Object(R.jsx)(_.a,{component:"span",className:t.header__rolename,children:"Type Of Role"})}),Object(R.jsx)("input",{type:"text",name:"rolename",required:!0,className:"input__content",autoFocus:!0,onChange:function(e){return L(e.target.value)},value:I})]})});case 2:return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(x.a,{className:t.dialogcontent,children:[Object(R.jsx)(g.a,{className:t.header,children:Object(R.jsx)(_.a,{component:"span",className:t.header__rolename,children:"Role Name"})}),Object(R.jsx)("input",{type:"text",name:"rolename",required:!0,className:"input__content",autoFocus:!0,onChange:K,value:U.rolename}),Object(R.jsx)(g.a,{className:t.roleheader,children:Object(R.jsx)(_.a,{component:"span",className:t.roleheader__rolecolor,children:"Role Color"})}),Object(R.jsx)("input",{type:"text",name:"color",required:!0,className:"input__content",onChange:K,value:U.color}),Object(R.jsxs)("div",{className:"addmorediv",children:[Object(R.jsx)(G.a,{onClick:P,className:t.anotherrole,color:"primary",variant:"contained",children:"Add another role with same category type?"}),Object(R.jsx)(G.a,{onClick:X,className:t.finishedanotherrole,color:"primary",variant:"contained",children:"Finished adding more"})]})]})});default:return"Unknown stepIndex"}}(d)}),Object(R.jsxs)("div",{children:[Object(R.jsx)(G.a,{disabled:0===d,onClick:function(){u((function(e){return e-1}))},className:t.backButton,children:"Back"}),d&&1===d?Object(R.jsx)(G.a,{variant:"contained",color:"primary",onClick:ae,children:d===k.length-1?"Finish":"Next"}):2===d?Object(R.jsx)(G.a,{variant:"contained",color:"primary",onClick:ce,children:"Finish"}):Object(R.jsx)(G.a,{variant:"contained",color:"primary",onClick:function(){u((function(e){return e+1}))},children:d===k.length-1?"Finish":"Next"})]})]})})]})}var K=Object(j.a)({paper:{minWidth:"25%"}});var $=function(e){var n=e.server,t=Object(u.g)(),a=l.e.collection("servers").doc(n.id).collection("channels").orderBy("createdAt").limit(1),c=Object(V.a)(a,{idField:"id"}),i=Object(o.a)(c,1)[0],d=K(),j={mouseX:null,mouseY:null},b=Object(r.useState)(j),h=Object(o.a)(b,2),v=h[0],O=h[1],x=function(){O(j)},g=Object(m.b)(),_=Object(m.c)((function(e){return e.currentserver.id})),N=n,y=function(){var e=Object(f.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.push("/channels/".concat(n.id,"/").concat(i[0].id));case 2:g(Object(A.a)({id:n.id,name:n.servername,email:n.email})),O(j);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),k=Object(r.useState)(!1),S=Object(o.a)(k,2),C=S[0],F=S[1],U=Object(r.useState)(!1),T=Object(o.a)(U,2),z=T[0],W=T[1],B=Object(E.a)({paper:{backgroundColor:"#18191c",color:"#b9bbbe",padding:"6px 8px"}})((function(e){return Object(R.jsx)(I.a,Object(s.a)({anchorReference:"anchorPosition",anchorPosition:null!==v.mouseY&&null!==v.mouseX?{top:v.mouseY,left:v.mouseX}:void 0},e))})),D=Object(E.a)((function(e){return{root:{fontSize:"1.4rem","&:first-child":{backgroundColor:"#5c6fb1",color:"#fff"},"&:last-child":{color:"rgb(240, 71, 71)"},"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white,fontSize:"1.4rem"}}}}}))(L.a);return Object(R.jsxs)("div",{className:"availableserver__map",children:[Object(R.jsx)("img",{onContextMenu:function(e){e.preventDefault(),O({mouseX:e.clientX-2,mouseY:e.clientY-4})},style:{cursor:"context-menu"},onClick:Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(Object(A.a)({id:n.id,name:n.servername,email:n.email})),e.next=3,t.push("/discord-clone/channels/".concat(n.id,"/").concat(i[0].id));case 3:case"end":return e.stop()}}),e)}))),className:"".concat(_===n.id&&"availableserver__map-clicked"," availableserver__map-image"),src:n.serverimage,alt:"availableserver"},n.id),Object(R.jsxs)(B,{keepMounted:!0,open:null!==v.mouseY,onClose:x,children:[Object(R.jsx)(D,{onClick:function(){return y(n)},children:n.servername}),Object(R.jsx)(D,{onClick:function(){N.email===l.c.currentUser.email&&(g(Object(A.a)({id:n.id,name:n.servername,email:n.email})),F(!0)),x()},children:"Change Nickname"}),Object(R.jsx)(D,{onClick:function(){N.email===l.c.currentUser.email&&W(!0),g(Object(A.a)({id:N.id,name:N.servername,email:N.email})),x()},children:"Add roles"}),Object(R.jsx)(D,{onClick:function(){O(j),g(Object(A.b)(n))},children:"Delete Server"})]}),C&&Object(R.jsx)(w.a,{open:C,onClose:function(){return F(!1)},"aria-labelledby":"form-dialog-title",classes:{paper:d.paper},children:Object(R.jsx)(P,{handleClose:function(){F(!1)}})}),z&&Object(R.jsx)(w.a,{open:z,onClose:function(){return W(!1)},"aria-labelledby":"form-dialog-title",classes:{paper:d.paper},children:Object(R.jsx)(X,{handleClose:function(){return W(!1)}})})]})};var H=function(){var e=Object(m.b)(),n=l.e.collection("servers").orderBy("createdAt").limit(10),t=Object(V.a)(n,{idField:"id"}),a=Object(o.a)(t,1)[0],c=Object(m.c)((function(e){return e.newserver.present}));return Object(r.useEffect)((function(){if(!c)return a&&a.length,function(){}}),[a,c,e]),Object(R.jsx)("div",{className:"availableserver",children:a&&a.map((function(e){return Object(R.jsx)($,{server:e},e.id)}))})},Q=t(72),Z=t.n(Q),ee=(t(168),t(105)),ne=t.n(ee),te=t(106),re=t.n(te),ae=t(107),ce=t.n(ae),ie=t(108),se=t.n(ie),oe=t(109),le=t.n(oe),de=t(95),ue=t.n(de),je=t(35),be=t(226),me=Object(j.a)((function(e){return{button:{color:"#babbbd",padding:".8rem"},search:Object(B.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:"#212226","&:hover":{backgroundColor:Object(je.c)("#212226",.5)},marginLeft:0,marginRight:e.spacing(.4),width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,1.5),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",color:"#363940"},inputRoot:{color:"inherit"},inputInput:Object(B.a)({padding:e.spacing(1,1,1,0),fontSize:e.spacing(1.5),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));var he,pe,fe,ve=function(){var e=me();return Object(R.jsx)("div",{className:"chat__main",children:Object(R.jsxs)("div",{className:"chatheader",children:[Object(R.jsxs)("div",{className:"chatheader__topic",children:[Object(R.jsx)("p",{className:"chatheader__topic-hash",children:"#"}),Object(R.jsx)("p",{className:"chatheader__topic-content",children:Object(m.c)((function(e){return e.doc.name}))})]}),Object(R.jsxs)("div",{className:"chatheader__items",children:[Object(R.jsxs)("div",{className:"chatheader__items-left",children:[Object(R.jsx)(b.a,{className:e.button,"aria-label":"settings",children:Object(R.jsx)(ne.a,{fontSize:"large"})}),Object(R.jsx)(b.a,{className:e.button,"aria-label":"settings",children:Object(R.jsx)(re.a,{fontSize:"large"})}),Object(R.jsx)(b.a,{className:e.button,"aria-label":"settings",children:Object(R.jsx)(ce.a,{fontSize:"large"})})]}),Object(R.jsxs)("div",{className:e.search,children:[Object(R.jsx)("div",{className:e.searchIcon,children:Object(R.jsx)(ue.a,{})}),Object(R.jsx)(be.a,{placeholder:"Search",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})]}),Object(R.jsxs)("div",{className:"chatheader__items-right",children:[Object(R.jsx)(b.a,{className:e.button,"aria-label":"settings",children:Object(R.jsx)(se.a,{fontSize:"large"})}),Object(R.jsx)(b.a,{className:e.button,"aria-label":"settings",children:Object(R.jsx)(le.a,{fontSize:"large"})})]})]})]})})},Oe=(t(134),t(138),t(135),t(136),t(137),t(173),Object(j.a)((function(e){return{button:{padding:e.spacing(1),color:"#fff"}}}))),xe=function(e){var n=e.children,t=Oe();return console.log("Universal called"),Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)("div",{className:"mainpage",children:[Object(R.jsxs)("div",{className:"mainpage__servers",children:[Object(R.jsx)("div",{className:"mainpage__servers--add",children:Object(R.jsx)(z,{})}),Object(R.jsx)("div",{className:"mainpage__servers-display",children:Object(R.jsx)(H,{})})]}),Object(R.jsxs)("div",{className:"universal",children:[Object(R.jsxs)("div",{className:"universal__header",children:[Object(R.jsxs)("div",{className:"universal__header-sidebar",children:[Object(R.jsx)("p",{className:"universal__header-currentchannel",children:Object(m.c)((function(e){return e.currentserver.name}))}),Object(R.jsx)("div",{className:"universal__header-expandicon",children:Object(R.jsx)(b.a,{className:t.button,"aria-label":"settings",children:Object(R.jsx)(Z.a,{fontSize:"large"})})})]}),Object(R.jsx)("div",{className:"universal__header-chatbar",children:Object(R.jsx)("div",{className:"universal__header--chat",children:Object(R.jsx)(ve,{})})})]}),Object(R.jsxs)("div",{className:"universal__content",children:[Object(R.jsx)("div",{className:"universal__sidebar"}),n,Object(R.jsx)("div",{className:"universal__roles"})]})]})]})})},ge=(t(174),Object(j.a)((function(e){return{button:{padding:e.spacing(1),color:"#fff"}}}))),_e=function(e){var n=e.children;console.log("layout sidebar");var t=ge();return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)("div",{className:"mainpage",children:[Object(R.jsxs)("div",{className:"mainpage__servers",children:[Object(R.jsx)("div",{className:"mainpage__servers--add",children:Object(R.jsx)(z,{})}),Object(R.jsx)("div",{className:"mainpage__servers-display",children:Object(R.jsx)(H,{})})]}),Object(R.jsxs)("div",{className:"main",children:[Object(R.jsxs)("div",{className:"main__header",children:[Object(R.jsxs)("div",{className:"main__header-sidebar",children:[Object(R.jsx)("p",{className:"main__header-currentchannel",children:Object(m.c)((function(e){return e.currentserver.name}))}),Object(R.jsx)("div",{className:"main__header-expandicon",children:Object(R.jsx)(b.a,{className:t.button,"aria-label":"settings",children:Object(R.jsx)(Z.a,{fontSize:"large"})})})]}),Object(R.jsx)("div",{className:"main__header-chatbar",children:Object(R.jsx)("div",{className:"main__header--chat",children:Object(R.jsx)(ve,{})})})]}),Object(R.jsx)("div",{className:"main__content",children:n})]})]})})},Ne=t(97),ye=t(122),we=t(45),ke=t(46),Se=ke.a.div(he||(he=Object(we.a)(["\n  height: 60vh;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),Ce=ke.a.div(pe||(pe=Object(we.a)(["\n  display: inline-block;\n  background-image: ",";\n  background-size: cover;\n  background-position: center;\n  width: 40vh;\n  height: 40vh;\n"])),(function(e){var n=e.imageUrl;return"url(".concat(n,")")})),Fe=ke.a.h2(fe||(fe=Object(we.a)(["\n  font-size: 28px;\n  color: #2f8e89;\n"]))),Ae=Object(r.lazy)((function(){return t.e(18).then(t.bind(null,331))})),Ue=Object(r.lazy)((function(){return t.e(20).then(t.bind(null,329))})),Re=Object(r.lazy)((function(){return t.e(22).then(t.bind(null,330))})),Te=function(e){e.error;var n=e.resetErrorBoundary;return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(Se,{children:[Object(R.jsx)(Ce,{imageUrl:"https://i.imgur.com/lKJiT77.png"}),Object(R.jsx)(Fe,{children:"Sorry this page is broken"}),Object(R.jsx)("button",{onClick:n,children:"Try again"})]})})};var ze=function(){var e=Object(d.a)(l.c),n=Object(o.a)(e,1)[0];return Object(R.jsx)("div",{className:"App",children:Object(R.jsxs)("main",{children:[!n&&Object(R.jsx)(u.a,{to:"/discord-clone"}),Object(R.jsx)(u.d,{children:Object(R.jsx)(ye.ErrorBoundary,{FallbackComponent:Te,children:Object(R.jsxs)(r.Suspense,{fallback:Object(R.jsx)(Ne.a,{}),children:[Object(R.jsx)(u.b,{exact:!0,path:"/discord-clone",render:function(){return l.c.currentUser?Object(R.jsx)(u.a,{to:"/discord-clone/channels/@me"}):Object(R.jsx)(Ae,{})}}),Object(R.jsxs)(u.d,{children:[Object(R.jsx)(u.b,{exact:!0,path:"/discord-clone/channels/@me",render:function(){return Object(R.jsx)(xe,{children:Object(R.jsx)(Ue,{})})}}),Object(R.jsx)(u.b,{path:"/discord-clone/channels/:serverId",render:function(e){return Object(R.jsx)(_e,{children:Object(R.jsx)(Re,Object(s.a)({},e))})}})]})]})})})]})})},Ve=t(50),Ie={id:"ofIRBMmGukI3EXPAYmgn",name:"Discordy"},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"Current_Document":return Object(s.a)(Object(s.a)({},e),{},{id:n.payload.id,name:n.payload.name});default:return e}},Ee={id:"",msg:""},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"Current_message":return Object(s.a)(Object(s.a)({},e),{},{id:n.payload.id,msg:n.payload.msg});default:return e}},Pe={clicked:!1},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"Clicked":return Object(s.a)(Object(s.a)({},e),{},{clicked:!e.clicked});default:return e}},De={open:!1},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"Change_open":return Object(s.a)(Object(s.a)({},e),{},{open:!e.open});default:return e}},qe={id:"",sender:"",msg:"",photo:""},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"Reply_message":return Object(s.a)(Object(s.a)({},e),{},{id:n.payload.id,sender:n.payload.sender,msg:n.payload.msg,photo:n.payload.photo});default:return e}},Ge={clicked:!1},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"Reply_toggle":return Object(s.a)(Object(s.a)({},e),{},{clicked:!e.clicked});default:return e}},Xe={id:"LNhwXEYI7pTlOgTN9Chm",name:"Welcome to Discord",email:""},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"Current_Server":return Object(s.a)(Object(s.a)({},e),{},{id:n.payload.id,name:n.payload.name,email:n.payload.email});default:return e}},$e={present:!1},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"New_Server":return Object(s.a)(Object(s.a)({},e),{},{present:n.payload.present});default:return e}},Qe={admin:"",squad:""},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"Current_Role":return Object(s.a)(Object(s.a)({},e),{},{admin:n.payload.admin,squad:n.payload.squad});default:return e}},en=Object(Ve.c)({doc:Le,msg:We,click:Be,open:Me,reply:Ye,replytoggle:Je,currentserver:Ke,newserver:He,currentrole:Ze}),nn=t(123),tn=t(125),rn=t(40),an=p.a.mark(cn);function cn(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rn.a)([]);case 2:case"end":return e.stop()}}),an)}var sn=p.a.mark(un),on=p.a.mark(jn),ln=p.a.mark(bn),dn=p.a.mark(mn);function un(e){var n,t,r,a;return p.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=e.payload,c.next=3,console.log(n);case 3:if(n.email!==l.c.currentUser.email){c.next=21;break}return c.next=6,l.e.collection("servers").doc(n.id);case 6:return t=c.sent,c.next=9,l.e.collection("roles").doc(n.id);case 9:return r=c.sent,c.next=12,r.delete();case 12:return c.next=14,t.delete();case 14:return c.next=16,l.e.collection("users");case 16:return a=c.sent,c.next=19,a.doc(l.c.currentUser.uid).set({roles:Object(B.a)({},l.c.currentUser.uid,l.d.firestore.FieldValue.delete())},{merge:!0});case 19:c.next=22;break;case 21:return c.abrupt("return");case 22:case"end":return c.stop()}}),sn)}function jn(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rn.c)("Delete_Server_Start",un);case 2:case"end":return e.stop()}}),on)}function bn(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),ln)}function mn(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rn.a)([Object(rn.b)(bn),Object(rn.b)(jn)]);case 2:case"end":return e.stop()}}),dn)}var hn=t(55),pn=p.a.mark(On),fn=p.a.mark(xn),vn=p.a.mark(gn);function On(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.c.signInWithPopup(l.b);case 2:return e.next=4,Object(hn.b)(l.a);case 4:case"end":return e.stop()}}),pn)}function xn(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(hn.d)("Google_SignIn_Start",On);case 2:case"end":return e.stop()}}),fn)}function gn(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(hn.a)([Object(hn.b)(xn)]);case 2:case"end":return e.stop()}}),vn)}var _n=p.a.mark(Nn);function Nn(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rn.a)([Object(rn.b)(gn),Object(rn.b)(cn),Object(rn.b)(mn)]);case 2:case"end":return e.stop()}}),_n)}var yn=Object(tn.a)(),wn=[nn.logger,yn],kn=Object(Ve.e)(en,Ve.a.apply(void 0,wn));yn.run(Nn);var Sn=kn,Cn=t(124),Fn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function An(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(Object(R.jsx)(m.a,{store:Sn,children:Object(R.jsx)(Cn.a,{children:Object(R.jsx)(ze,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/discord-clone",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/discord-clone","/service-worker.js");Fn?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):An(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):An(n,e)}))}}()},48:function(e,n,t){"use strict";t.d(n,"b",(function(){return r}));n.a=function(e){return{type:"Current_Server",payload:e}};var r=function(e){return{type:"Delete_Server_Start",payload:e}}},81:function(e,n,t){"use strict";n.a=function(e){return{type:"Current_Document",payload:e}}},9:function(e,n,t){"use strict";t.d(n,"e",(function(){return a})),t.d(n,"c",(function(){return c})),t.d(n,"f",(function(){return i})),t.d(n,"b",(function(){return s})),t.d(n,"a",(function(){return o}));var r=t(20);t(178),t(150),t(179),t(152),t(177);r.a.initializeApp({apiKey:"AIzaSyC_flKosPn-LPJF8JsKT3-IhlI3RDMOjqk",authDomain:"discord-clone-12045.firebaseapp.com",projectId:"discord-clone-12045",storageBucket:"discord-clone-12045.appspot.com",messagingSenderId:"889501806287",appId:"1:889501806287:web:a96c4cf73eee4e8b2c11ba"});var a=r.a.firestore();n.d=r.a;var c=r.a.auth(),i=r.a.storage(),s=(r.a.performance(),r.a.database(),new r.a.auth.GoogleAuthProvider),o=function(){a.collection("users").doc(c.currentUser.uid).set({username:c.currentUser.displayName,useremail:c.currentUser.email,userphoto:c.currentUser.photoURL,createdAt:r.a.firestore.FieldValue.serverTimestamp(),roles:{}},{merge:!0})}},94:function(e,n,t){},96:function(e,n,t){},97:function(e,n,t){"use strict";var r,a=t(45),c=t(46).a.div(r||(r=Object(a.a)(["\n  height: 100vh;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color:#232428;\n"]))),i=t(3);n.a=function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(c,{children:Object(i.jsx)("img",{src:"/discord-clone/discord.gif",alt:"Discord Gif"})})})}}},[[175,16,17]]]);
//# sourceMappingURL=main.094c6d67.chunk.js.map