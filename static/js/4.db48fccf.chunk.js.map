{"version":3,"sources":["components/RolesDocument/Allrolescolormap.jsx","components/RolesDocument/Allrolesmap.jsx","components/RolesDocument/RolesDocumentmap.jsx","components/RolesDocument/RolesDocument.jsx","components/RolesDocument/FetchRoleid.jsx","redux/message/message.actions.js","redux/clicked/clicked.actions.js","redux/replyclicked/replyclicked.actions.js","redux/replytoggle/replytoggle.actions.js","components/Emoji/Emojicontainer.jsx","components/ChatMenu/ChatMenu.jsx","components/ChatEdit/ChatEdit.jsx","components/Keypress/Keypress.jsx","components/ChatReply/ChatReply.jsx","components/ChatMessage/RenderVideo.jsx","components/ChatMessage/RenderAudio.jsx","components/ChatMessage/Chatmessagemap.jsx","components/ChatMessage/ChatMessage.jsx","redux/openupload/message.actions.js","components/FileUpload/FileUpload.jsx","components/ChatSearchBar/ChatSearchReply.jsx","components/ChatSearchBar/ChatSearchBar.jsx","redux/document/document.actions.js","components/SidebarChannel/Channelmap.jsx","components/SidebarChannel/SidebarChannel.jsx","components/Sidebarvoice/Sidebarvoice.jsx","components/Avatar/BadgeAvatar.jsx","components/Roles/Myrolesmap.jsx","components/Roles/Myroles.jsx","components/Roles/Rolescategory.jsx","components/Roles/Roles.jsx","components/AddChannelPopup/AddChannelPopup.jsx","pages/Home_serverId_channel/Home_serverId_channel.jsx"],"names":["Color","styled","div","props","color","Allrolescolormap","k","rol","className","Allrolesmap","handleClick","roleheadid","onClick","photoURL","auth","currentUser","email","id","rolename","number","name","displayName","serverroletypeid","serverroleid","useStyles","makeStyles","theme","avatar","width","spacing","height","RolesDocumentmap","role","classes","currentserverid","useSelector","state","currentserver","allrolesRef","firestore","collection","doc","useCollectionData","idField","allroles","useState","count","setcount","handleclick","obj","a","currentUserRef","uid","get","user","data","userid","roles","console","log","set","yourrole","merge","username","createdAt","firebase","FieldValue","serverTimestamp","update","increment","Avatar","src","toDate","getDate","getMonth","getFullYear","map","i","keys","Object","index","roleheading","RolesDocument","roleid","query","orderBy","limit","FetchRoleid","serverid","serverRef","useDocumentData","serverdata","currentmessage","type","payload","setclicked","replymessage","msg","replytoggle","Emojicontainer","formValue","setformValue","emoji","setemoji","onSubmit","e","preventDefault","arr","item","tags","push","onChange","target","value","autoFocus","placeholder","style","fontSize","length","d","ChatMenu","dispatch","useDispatch","currentid","other","setother","setuser","message","handleReply","document","getElementById","focus","sender","sendername","photo","senderphoto","aria-hidden","viewBox","fill","fillRule","clipRule","senderemail","delete","ChatEdit","key","action","msgid","handleSubmit","useEffect","onKeyup","window","addEventListener","removeEventListener","rows","split","onKeyDown","required","small","marginRight","ChatReply","admin","currentrole","reply","slice","RenderVideo","clicked","setdata","fetch","then","response","ok","json","results","href","provider_url","rel","author_url","author_name","title","html","frameBorder","allowFullScreen","sandbox","thumbnail_url","alt","points","transform","RenderAudio","audioname","controls","audiourl","preload","Chatmessagemap","inHover","setHover","replaceAll","chatedittoggle","click","linkifiedmsg","match","onMouseEnter","onMouseLeave","componentDecorator","text","base64","link","ChatMessage","messages","currrentdoc","openupload","drop","backgroundColor","icon","FileUpload","toggle","replymsg","resizeFile","file","Promise","resolve","Resizer","imageFileResizer","uri","handleupload","includes","audio","storageRef","storage","ref","fileRef","child","put","getDownloadURL","url","channelRef","add","audiosize","size","senderuid","image","resizedfile","dropzoneClass","imageContainer","showPreviews","showPreviewsInDropzone","maxFileSize","filesLimit","onAdd","onDrop","button","margin","padding","ChatSearchReply","IconButton","addbutton","ChatSearchBar","openpicker","setopenpicker","togglereply","currentdoc","messageRef","position","aria-label","open","Channelmap","history","useHistory","channel","SidebarChannel","channels","setchannels","snapshot","docs","mychannel","myfun","signal","end","textTransform","Sidebarvoice","Button","variant","startIcon","StyledBadge","withStyles","badge","boxShadow","palette","background","paper","top","left","borderRadius","animation","border","content","opacity","Badge","settings","display","flexWrap","BadgeAvatars","useAuthState","mic","setmic","signOut","overlap","anchorOrigin","vertical","horizontal","profileavatar","outlined","rolearr","Para","p","StyledCircle","svg","StyledChip","Myrolesmap","setopen","anchorEl","setAnchorEl","setrolearr","userref","event","forEach","userphoto","mykeys","currentTarget","xmlns","cx","cy","r","status","Myroles","myrole","allusersref","rolemap","allusers","Rolescategory","allroleusers","Roles","servers","rolequery","userimage","typo","dialog","dialogaction","minWidth","AddChannelPopup","React","setOpen","handleClose","catch","error","cursor","Dialog","onClose","aria-labelledby","DialogContent","DialogContentText","Typography","DialogActions","Home_serverId_channel","params","serverId","channelId"],"mappings":"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","file":"static/js/4.db48fccf.chunk.js","sourcesContent":["import React from 'react'\r\nimport styled from \"styled-components\"\r\nconst Color=styled.div`\r\n    background: ${props => props.color};\r\n    border-radius: 50%;\r\n    width: 2.5rem;\r\n    height: 2.5rem;\r\n`\r\nconst Allrolescolormap = ({k,rol}) => {\r\n    return (\r\n        <div className='allrolescolor'>  \r\n        {rol && rol[k].color && <>\r\n        <Color className=\"allrolescolor__rolevalue\" color={rol[k].color} />\r\n        <div className=\"allrolescolor__rolename\">\r\n            <p>: <span className='allrolescolor__rolename-span'>{k}</span></p>\r\n        </div>\r\n        </>\r\n        }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Allrolescolormap\r\n","import React from 'react'\r\nimport styled from \"styled-components\"\r\nimport { auth} from '../../firebase/firebase'\r\nconst Color=styled.div`\r\n    background: ${props => props.color};\r\n    border-radius: 50%;\r\n    width: 1.75rem;\r\n    height: 1.75rem;\r\n`\r\nconst Allrolesmap = ({rol,k,handleClick,roleheadid}) => {\r\n    return (\r\n        <div onClick={()=>handleClick({\r\n            photoURL:auth.currentUser.photoURL,\r\n            email:auth.currentUser.email,\r\n            id:rol.id,\r\n            rolename:k,\r\n            number:rol[k].number,\r\n            color:rol[k].color,\r\n            name:auth.currentUser.displayName,\r\n            serverroletypeid:roleheadid,\r\n            serverroleid:rol[k].serverroleid\r\n        })}>\r\n            {rol && rol[k].number &&<div className='allroles'>\r\n            <div className=\"allroles__button\">\r\n                <Color className=\"allrolescolor__rolevalue\" color={rol[k].color} />\r\n            </div>\r\n            <div className=\"allroles__number\">\r\n                {rol[k].number}\r\n            </div>\r\n            \r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Allrolesmap\r\n","import React, { useState } from 'react'\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\r\nimport { useSelector } from 'react-redux';\r\nimport { auth, firestore } from '../../firebase/firebase'\r\nimport Allrolescolormap from './Allrolescolormap';\r\nimport Allrolesmap from './Allrolesmap';\r\nimport firebase from 'firebase/app'\r\nimport { Avatar, makeStyles } from '@material-ui/core';\r\nconst useStyles=makeStyles((theme)=>{\r\n    return{\r\n      avatar:{\r\n          width:theme.spacing(4.5),\r\n          height:theme.spacing(4.5)\r\n      }\r\n    }\r\n})\r\nconst RolesDocumentmap = ({role}) => {\r\n    const classes=useStyles();\r\n    const currentserverid=useSelector((state)=>state.currentserver.id);\r\n    const allrolesRef=firestore.collection('roles').doc(currentserverid).collection('rolemenu').doc(role.id).collection('allroles');\r\n    // const query=allrolesRef.orderBy('createdAt').limit(10);\r\n    const [allroles]=useCollectionData(allrolesRef,{idField:'id'});\r\n    const [count,setcount]=useState(0);\r\n    const handleclick=async(obj)=>{\r\n        setcount(count+1);\r\n        if(count>0){\r\n            return\r\n        }\r\n        const currentUserRef=firestore.collection('users').doc(auth.currentUser.uid);\r\n        const {rolename,id,email,photoURL,name,serverroleid,serverroletypeid,color}=obj;\r\n        const user= (await currentUserRef.get()).data()\r\n        const userid=await currentUserRef.get();\r\n        if(user && user.roles){\r\n            if(user.roles[currentserverid] && user.roles[currentserverid][role.rolename]){\r\n                return\r\n            }\r\n            else{\r\n                console.log('not present');\r\n                await currentUserRef.set({\r\n                    roles:{\r\n                        [currentserverid]:{\r\n                            [role.rolename]:{\r\n                                yourrole:rolename,\r\n                                color:color\r\n                            }\r\n                        }\r\n                    }\r\n                },{merge:true})\r\n\r\n                const serverRef=firestore.collection('servers').doc(currentserverid).collection('allroles').doc(serverroletypeid).collection('allroles').doc(serverroleid).collection('allusers');\r\n                serverRef.doc(userid.id).set({\r\n                    username:name,\r\n                    photoURL:photoURL,\r\n                    email:email,\r\n                    createdAt:firebase.firestore.FieldValue.serverTimestamp(),\r\n                })\r\n                const roleref=allrolesRef.doc(id);\r\n                roleref.update({\r\n                    [`${rolename}.number`]:firebase.firestore.FieldValue.increment(1),\r\n                })\r\n            }\r\n        }\r\n    }\r\n    return (\r\n        <div className='rolesdocument__main-individual'>\r\n        <div className='rolesdocument__header-photo'>\r\n                <Avatar className={classes.avatar} src='/discord-clone/bot.png'/>\r\n        </div>\r\n            <div className=\"rolesdocument__content\">\r\n                        <div className=\"rolesdocument__content-header\">\r\n                            <div className='rolesdocument__content-name'>\r\n                                Discord Bot\r\n                            </div>\r\n                            <div className=\"rolesdocument__content-date\">\r\n                                {`${role.createdAt && \r\n                                    role.createdAt.toDate().getDate()+\"/\"+(role.createdAt.toDate().getMonth()+1)+\"/\"+role.createdAt.toDate().getFullYear()\r\n                                    }`}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"rolesdocument__message\">\r\n                            <div className=\"rolesdocument__message-rolemenu\">\r\n                                <p>Role Menu: {role.rolename}</p>\r\n                            </div>\r\n                            <div className=\"rolesdocument__message-react\">\r\n                                React to give yourself a role.\r\n                            </div>\r\n                            <div className=\"rolesdocument__message-allroles\">\r\n                                {allroles && allroles.map((rol,i)=>{\r\n                                    const keys = Object.keys(rol);\r\n                                    return(\r\n                                       <div key={i}>{ keys.map((k,index)=>{\r\n                                        return (\r\n                                            <Allrolescolormap key={index} rol={rol} k={k}/>\r\n                                        )\r\n                                    })}</div>\r\n                                    )                                    \r\n                                })}\r\n                            </div>\r\n                            <div className=\"rolesdocument__message-rolebuttons\">\r\n                            {allroles && allroles.map((rol)=>{\r\n                                    const keys = Object.keys(rol);\r\n                                    \r\n                                    return(\r\n                                        keys.map((k,index)=>{\r\n                                        return <Allrolesmap key={index} rol={rol} k={k} handleClick={handleclick} roleheading={role.rolename} roleheadid={role.serverroletypeid}/>\r\n                                    })\r\n                                    )                                    \r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RolesDocumentmap\r\n","import React from 'react'\r\nimport { useCollectionData} from 'react-firebase-hooks/firestore'\r\nimport { firestore } from '../../firebase/firebase'\r\nimport './RolesDocument.scss'\r\nimport RolesDocumentmap from './RolesDocumentmap'\r\nconst RolesDocument = ({roleid}) => {\r\n    const roleRef=firestore.collection('roles').doc(roleid).collection('rolemenu');\r\n    const query=roleRef.orderBy('createdAt').limit(10);\r\n    const [roles]=useCollectionData(query,{idField:'id'});\r\n    return (\r\n        <>\r\n            <div className=\"rolesdocument\">\r\n                <div className=\"rolesdocument__main\">\r\n                        {roles && roles.map((role)=>{\r\n                            return <RolesDocumentmap key={role.id} role={role}/>\r\n                        })}\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RolesDocument\r\n","import React from 'react'\r\nimport { useDocumentData } from 'react-firebase-hooks/firestore';\r\nimport { useSelector } from 'react-redux';\r\nimport { auth, firestore } from '../../firebase/firebase';\r\nimport RolesDocument from './RolesDocument';\r\n\r\nconst FetchRoleid = () => {\r\n    const serverid=useSelector((state)=>state.currentserver.id);\r\n    const serverRef=firestore.collection('servers').doc(serverid);\r\n    const [serverdata]=useDocumentData(serverRef);\r\n    return (\r\n        <>\r\n            {serverdata && auth.currentUser && <RolesDocument roleid={serverid}/>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default FetchRoleid\r\n","const currentmessage=(doc)=>{\r\n    return{\r\n    type:'Current_message',\r\n    payload:doc\r\n  }\r\n  }\r\n  export default currentmessage;\r\n  ","const setclicked=()=>{\r\n    return{\r\n    type:'Clicked',\r\n  }\r\n  }\r\n  export default setclicked;\r\n  ","const replymessage=(msg)=>{\r\n    return{\r\n    type:'Reply_message',\r\n    payload:msg\r\n  }\r\n  }\r\n  export default replymessage;\r\n  ","const replytoggle=()=>{\r\n    return{\r\n    type:'Reply_toggle',\r\n  }\r\n  }\r\n  export default replytoggle;\r\n  ","import React,{useState} from 'react'\r\nimport './Emojicontainer.scss'\r\nimport data from './emojis.json'\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nconst Emojicontainer = () => {\r\n    const [formValue,setformValue]=useState('');\r\n    const [emoji,setemoji]=useState([]);\r\n    const handleSubmit=(e)=>{\r\n        setemoji([]);\r\n        e.preventDefault();\r\n        let arr=[];\r\n        data.map((item)=>{\r\n            return item.tags.map((i)=>{\r\n                if(i===formValue){\r\n                    arr.push(item)\r\n                }\r\n            })\r\n        })\r\n        setemoji(arr);\r\n        setformValue('');\r\n    }\r\n    return (\r\n        <>\r\n            <div className=\"emojicontainer\">\r\n                {console.log(emoji)}\r\n                <div className=\"emojicontainer__header\">\r\n                    <div className=\"emojicontainer__header-inputdiv\">\r\n                        <form onSubmit={handleSubmit} className=\"emojicontainer__header-form\">\r\n                            <input type=\"text\" onChange={(e)=>{setformValue(e.target.value)}} value={formValue} autoFocus placeholder='find the perfect emoji' className='emojicontainer__header-input'/>\r\n                        </form>  \r\n                        <div className=\"emojicontainer__header-search\">\r\n                            <SearchIcon style={{fontSize:'2rem',color:'#72767d'}}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"emojicontainer__header-handicon\">\r\n                           👏\r\n                    </div>\r\n                </div>\r\n                <div className=\"emojicontainer__body\">\r\n                    <div className=\"emojicontainer__sidebar\">\r\n                        <div className=\"emojicontainer__sidebar-items\">\r\n                            <div className=\"emojicontainer__sidebar-item\">\r\n                                😃\r\n                            </div>\r\n                            <div className=\"emojicontainer__sidebar-item\">\r\n                                😬\r\n                            </div>\r\n                            <div className=\"emojicontainer__sidebar-item\">\r\n                                🤪\r\n                            </div>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                    <div className=\"emojicontainer__content\">\r\n                        <div className=\"emojicontainer__content-header\">\r\n                            IN DEVELOPMENT\r\n                        </div>\r\n                        <div className=\"emojicontainer__content-items\">\r\n                            {!!emoji.length ? emoji.map((e,i)=>{\r\n                                return <div key={i} className=\"emojicontainer__content-item\">\r\n                                    {e.emoji}\r\n                                    </div>\r\n                            }):(data && data.map((d,index)=>{\r\n                                return <div key={index} className=\"emojicontainer__content-item\">\r\n                                    {d.emoji}\r\n                                </div>\r\n                            })) }\r\n                            {data && data.map((d,index)=>{\r\n                                return <div key={index} className=\"emojicontainer__content-item\">\r\n                                    {d.emoji}\r\n                                </div>\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Emojicontainer\r\n","import React, { useState } from 'react';\r\nimport { auth, firestore } from '../../firebase/firebase';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport currentmessage from '../../redux/message/message.actions'\r\nimport setclicked from '../../redux/clicked/clicked.actions'\r\nimport replymessage from '../../redux/replyclicked/replyclicked.actions'\r\nimport replytoggle from '../../redux/replytoggle/replytoggle.actions'\r\nimport './ChatMenu.scss'\r\nimport Emojicontainer from '../Emoji/Emojicontainer';\r\n\r\nfunction ChatMenu({msg}) {\r\n    const dispatch = useDispatch();\r\n    const currentid=useSelector((state)=>state.doc.id);\r\n    const currentserverid=useSelector((state)=>state.currentserver.id);\r\n    const [other,setother]=useState(false);\r\n    const [user,setuser]=useState(false);\r\n    const [emoji,setemoji]=useState(false);\r\n    const handleClick = () => {\r\n        dispatch(currentmessage({id:msg.id, msg:msg.message}))\r\n        dispatch(setclicked());\r\n  };\r\n  const handleDelete=()=>{\r\n    const docRef=firestore.collection('servers').doc(currentserverid).collection('channels').doc(currentid).collection('messages').doc(msg.id);\r\n    docRef.delete();\r\n  }\r\n  const handleReply=()=>{\r\n    document.getElementById(\"myTextField\").focus();\r\n    dispatch(replymessage({id:msg.id,sender:msg.sendername,msg:msg.message,photo:msg.senderphoto}));\r\n    dispatch(replytoggle())\r\n  }\r\n  const handleemoji=()=>{\r\n    setemoji(!emoji);\r\n  }\r\n  const handlemore=()=>{\r\n    console.log('called');\r\n    if(auth.currentUser.email===msg.senderemail){\r\n      setuser(!user);\r\n    }\r\n    else{\r\n      setother(!other);\r\n    }\r\n  }\r\n    return (\r\n      <div className='chatmenu'>\r\n        {emoji && <div className='emojcontain'><Emojicontainer/></div>}\r\n        <div className=\"chatmenu__addreaction\" onClick={handleemoji}>\r\n          <svg className='chatmenu__image' aria-hidden=\"false\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\r\n            <path fill=\"currentColor\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M12.2512 2.00309C12.1677 2.00104 12.084 2 12 2C6.477 2 2 6.477 2 12C2 17.522 6.477 22 12 22C17.523 22 22 17.522 22 12C22 11.916 21.999 11.8323 21.9969 11.7488C21.3586 11.9128 20.6895 12 20 12C15.5817 12 12 8.41828 12 4C12 3.31052 12.0872 2.6414 12.2512 2.00309ZM10 8C10 6.896 9.104 6 8 6C6.896 6 6 6.896 6 8C6 9.105 6.896 10 8 10C9.104 10 10 9.105 10 8ZM12 19C15.14 19 18 16.617 18 14V13H6V14C6 16.617 8.86 19 12 19Z\"></path>\r\n            <path d=\"M21 3V0H19V3H16V5H19V8H21V5H24V3H21Z\" fill=\"currentColor\"></path>\r\n          </svg>\r\n        </div>\r\n        {auth.currentUser.email===msg.senderemail ? <div className=\"chatmenu__edit\" onClick={handleClick}>\r\n        <svg className='chatmenu__image' aria-hidden=\"false\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\r\n          <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M19.2929 9.8299L19.9409 9.18278C21.353 7.77064 21.353 5.47197 19.9409 4.05892C18.5287 2.64678 16.2292 2.64678 14.817 4.05892L14.1699 4.70694L19.2929 9.8299ZM12.8962 5.97688L5.18469 13.6906L10.3085 18.813L18.0201 11.0992L12.8962 5.97688ZM4.11851 20.9704L8.75906 19.8112L4.18692 15.239L3.02678 19.8796C2.95028 20.1856 3.04028 20.5105 3.26349 20.7337C3.48669 20.9569 3.8116 21.046 4.11851 20.9704Z\" fill=\"currentColor\"></path>\r\n        </svg>\r\n        </div> :<div className=\"chatmenu__reply\" onClick={handleReply}>\r\n        <svg className='chatmenu__image' width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\r\n          <path d=\"M10 8.26667V4L3 11.4667L10 18.9333V14.56C15 14.56 18.5 16.2667 21 20C20 14.6667 17 9.33333 10 8.26667Z\" fill=\"currentColor\"></path>\r\n        </svg>\r\n        </div>}\r\n        <div className=\"chatmenu__more\" onClick={handlemore}>\r\n          <svg className='chatmenu__image' aria-hidden=\"false\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\r\n            <path fill=\"currentColor\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M7 12.001C7 10.8964 6.10457 10.001 5 10.001C3.89543 10.001 3 10.8964 3 12.001C3 13.1055 3.89543 14.001 5 14.001C6.10457 14.001 7 13.1055 7 12.001ZM14 12.001C14 10.8964 13.1046 10.001 12 10.001C10.8954 10.001 10 10.8964 10 12.001C10 13.1055 10.8954 14.001 12 14.001C13.1046 14.001 14 13.1055 14 12.001ZM19 10.001C20.1046 10.001 21 10.8964 21 12.001C21 13.1055 20.1046 14.001 19 14.001C17.8954 14.001 17 13.1055 17 12.001C17 10.8964 17.8954 10.001 19 10.001Z\"></path>\r\n          </svg>\r\n        </div>\r\n      {user && <div className='morebox'>\r\n          <div className=\"morebox__container\">\r\n            <div className=\"morebox__item\" onClick={handleClick}>\r\n              <div className=\"morebox__item-label\">\r\n                Edit message\r\n              </div>\r\n              <div className=\"morebox__item-icon\">\r\n                <svg aria-hidden=\"false\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\r\n                  <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M19.2929 9.8299L19.9409 9.18278C21.353 7.77064 21.353 5.47197 19.9409 4.05892C18.5287 2.64678 16.2292 2.64678 14.817 4.05892L14.1699 4.70694L19.2929 9.8299ZM12.8962 5.97688L5.18469 13.6906L10.3085 18.813L18.0201 11.0992L12.8962 5.97688ZM4.11851 20.9704L8.75906 19.8112L4.18692 15.239L3.02678 19.8796C2.95028 20.1856 3.04028 20.5105 3.26349 20.7337C3.48669 20.9569 3.8116 21.046 4.11851 20.9704Z\" fill=\"currentColor\"></path>\r\n                </svg>\r\n              </div>\r\n            </div>\r\n            <div className=\"morebox__item\" onClick={handleDelete}>\r\n              <div className=\"morebox__item-deletelabel\">\r\n                Delete Message\r\n              </div>\r\n              <div className=\"morebox_item-icon\">\r\n                <svg aria-hidden=\"false\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\r\n                  <path fill=\"currentColor\" d=\"M15 3.999V2H9V3.999H3V5.999H21V3.999H15Z\"></path>\r\n                  <path fill=\"currentColor\" d=\"M5 6.99902V18.999C5 20.101 5.897 20.999 7 20.999H17C18.103 20.999 19 20.101 19 18.999V6.99902H5ZM11 17H9V11H11V17ZM15 17H13V11H15V17Z\"></path>\r\n                </svg>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      }\r\n      {other && <div className='morebox'>\r\n          <div className=\"morebox__container\">\r\n            <div className=\"morebox__item\" onClick={handleReply}>\r\n              <div className=\"morebox__item-label\">\r\n                Reply Message\r\n              </div>\r\n              <div className=\"morebox_item-icon\">\r\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\r\n                  <path d=\"M10 8.26667V4L3 11.4667L10 18.9333V14.56C15 14.56 18.5 16.2667 21 20C20 14.6667 17 9.33333 10 8.26667Z\" fill=\"currentColor\"></path>\r\n                </svg>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      }\r\n      </div>\r\n    )\r\n    }\r\n\r\n\r\nexport default ChatMenu\r\n","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { firestore } from '../../firebase/firebase';\r\nimport './ChatEdit.scss'\r\nimport setclicked from '../../redux/clicked/clicked.actions';\r\nimport useKeypress from '../Keypress/Keypress';\r\n\r\nfunction ChatEdit({msg,msgid}) {\r\n    // const id=useSelector((state)=>state.msg.id);\r\n    const currentid=useSelector((state)=>state.doc.id);\r\n    // const msg=useSelector((state)=>state.msg.msg);\r\n    const [formValue,setformValue]=useState(msg);\r\n    const currentserverid=useSelector((state)=>state.currentserver.id);\r\n    const  dispatch = useDispatch();\r\n    const handleSubmit=(e)=>{\r\n        if(e) e.preventDefault();\r\n        const docRef=firestore.collection('servers').doc(currentserverid).collection('channels').doc(currentid).collection('messages').doc(msgid);\r\n        docRef.update({\r\n            message:formValue\r\n        })\r\n        dispatch(setclicked())\r\n    }\r\n    useKeypress('Escape', () => {\r\n        dispatch(setclicked())\r\n      });\r\n      const rows=formValue.split(\"\\n\").length;\r\n    return (\r\n        <>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"chatedit\">\r\n                    <textarea type='text' onKeyDown={(e)=>{\r\n                        if(e.key==='Enter'){\r\n                            handleSubmit()\r\n                        }\r\n                    }} autoFocus required rows={rows} value={formValue} onChange={(e)=>{setformValue(e.target.value)}} style={{width:'100%'}} className='chatedit__inputarea'/>\r\n                </div>\r\n                <div className=\"editinstruction\">\r\n                    <p className='editinstruction__p'>escape to <span className='editinstruction__span' onClick={()=>dispatch(setclicked())}>cancel</span> • enter to <span className='editinstruction__span' onClick={handleSubmit}>save</span></p>\r\n                </div>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ChatEdit\r\n","import { useEffect } from 'react';\r\nexport default function useKeypress(key, action) {\r\n  useEffect(() => {\r\n    function onKeyup(e) {\r\n      if (e.key === key) action()\r\n    }\r\n    window.addEventListener('keyup', onKeyup);\r\n    return () => window.removeEventListener('keyup', onKeyup);\r\n  }, []);\r\n}","import { Avatar, makeStyles } from '@material-ui/core';\r\nimport React from 'react'\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport './ChatReply.scss'\r\nimport { useSelector } from 'react-redux';\r\nconst useStyles=makeStyles((theme)=>{\r\n    return{\r\n        small:{\r\n            width:theme.spacing(2.2),\r\n            height:theme.spacing(2.2),\r\n            marginRight:theme.spacing(.5)\r\n        }\r\n    }\r\n})\r\nfunction ChatReply({msg}) {\r\n    const admin=useSelector((state)=>state.currentrole.admin)\r\n    const classes=useStyles();\r\n    return (\r\n        <div className='chatreply'>\r\n            <div className=\"chatreply__photo\">\r\n                <Avatar className={classes.small} src={msg.reply.photo}/>\r\n            </div>\r\n            <div className={`${admin && admin.admin === msg.reply.sender && 'chatreply__sender-admin'} chatreply__sender`}>\r\n                @{msg.reply.sender}\r\n            </div>\r\n            <div className=\"chatreply__message\">\r\n                {msg.reply.msg ? msg.reply.msg.slice(0,100)+\"...\" :  <ImageIcon/> }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatReply\r\n","import React, { useEffect, useState } from 'react'\r\nfunction RenderVideo({msg}) {\r\n    const [clicked,setclicked]=useState(false);\r\n    const [data,setdata]=useState('');\r\n    useEffect(() => {\r\n        if(msg){\r\n            fetch(`https://www.youtube.com/oembed?url=${msg}&maxwidth=400&maxheight=225&format=json`)\r\n        .then((response)=>{\r\n            if(response.ok){\r\n                return response.json()\r\n            }\r\n            // throw response\r\n        }\r\n        ).then((results)=>setdata(results))\r\n        }\r\n        return () => {\r\n            \r\n        }\r\n    }, [msg])\r\n    // console.log(data && data.html.split('src=\"')[1].split('\"')[0]+\"&autoplay=1&amp;auto_play=1\");\r\n    // const videoId=()=>{\r\n    //     const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\r\n    //     const match = msg.match(regExp);\r\n    \r\n    //     return (match && match[2].length === 11)\r\n    //       ? match[2]\r\n    //       : null;\r\n    // }\r\n    return (\r\n        <>\r\n        {data && <div className='rendervideo'>\r\n            <div className=\"rendervideo__videocontainer\">\r\n                <a href={data.provider_url} target=\"_blank\" rel=\"noreferrer\" className=\"rendervideo__videocontainer-providerlink\"><div className=\"rendervideo__videocontainer-providername\">YouTube</div></a>\r\n                <a href={data.author_url} target=\"_blank\" rel=\"noreferrer\" className=\"rendervideo__videocontainer-authorurl\">\r\n                    <p className=\"rendervideo__videocontainer-authorname\">{data.author_name}</p>\r\n                </a>\r\n                <a href={msg} target=\"_blank\" rel=\"noreferrer\" className=\"rendervideo__videocontainer-title\">\r\n                    <div className=\"rendervideo__videocontainer-titlename\">{data.title && data.title.length<66?data.title:data.title.slice(0,66)+\"...\"}</div>\r\n                </a>\r\n                <div className=\"rendervideo__video\">\r\n                    {!clicked ? <>\r\n                        <div className=\"rendervideo__video-image\">\r\n                            <img src={data.thumbnail_url} alt={data.author_name} />\r\n                        </div>\r\n                        <div className=\"rendervideo__video-container\">\r\n                            <div className=\"rendervideo__video-load\" onClick={()=>setclicked(!clicked)}>\r\n                                <svg className=\"iconPlay-2kgvwV icon-3ZFEtL\" aria-hidden=\"false\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\r\n                                    <polygon fill=\"currentColor\" points=\"0 0 0 14 11 7\" transform=\"translate(7 5)\"></polygon>\r\n                                </svg>\r\n                            </div>\r\n                            <a href={msg} target=\"_blank\" rel=\"noreferrer\" className=\"rendervideo__video-openurl\">\r\n                                <svg className=\"iconExternalMargins-2v2mzg icon-3ZFEtL\" aria-hidden=\"false\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\r\n                                    <path fill=\"currentColor\" transform=\"translate(3.000000, 4.000000)\" d=\"M16 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h4v-2H2V4h14v10h-4v2h4c1.1 0 2-.9 2-2V2a2 2 0 0 0-2-2zM9 6l-4 4h3v6h2v-6h3L9 6z\"></path>\r\n                                </svg>\r\n                            </a>\r\n                        </div>\r\n                    </>:data && <iframe className='rendervideo__videocontainer__video' \r\n                src={data && data.html.split('src=\"')[1].split('\"')[0]+\"&autoplay=1&amp;auto_play=1\"} width=\"400\" height=\"225\" title=\"YouTube video player\" frameBorder=\"0\" \r\n                allowFullScreen=\"\" sandbox=\"allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-presentation\"></iframe>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RenderVideo\r\n/* {videoId() && <iframe className='rendervideo__videocontainer__video' \r\n                src={`https://www.youtube.com/embed/${videoId()}`} title=\"YouTube video player\" frameBorder=\"0\" \r\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe> } */\r\n// console.log(\"https://www.youtube.com/watch?v=eVuPhZl4ksY&list=RDMM&index=4\".split(\"v=\")[1].split(\"&\")[0]);\r\n/* {linkify(msg) && videoId && <ReactPlayer url={linkify(msg).filter((item)=>item.includes('youtube.com/watch')&&item)}/> } */\r\n/* DOMPurify.sanitize(data.html,{ ADD_TAGS: [\"iframe\"], ADD_ATTR: ['allow', 'allowfullscreen','autoplay','frameborder', 'scrolling']}) */\r\n\r\n","import React from 'react'\r\n// import * as ByteSize from 'byte-size'\r\nfunction RenderAudio({msg}) {\r\n    // const {audiosize}=msg\r\n    // const bytesize=()=>{\r\n    //     console.log('called');\r\n    //     return `${ByteSize(audiosize)}`;\r\n    // }\r\n    return (\r\n        <div className='renderaudio'>\r\n           <div className=\"renderaudio__name\"> {msg && msg.audioname}</div>\r\n            <div className=\"renderaudio__mainplayer\">\r\n                {/* <div className=\"renderaudio__player-size\">{msg && bytesize()}</div> */}\r\n                <div className=\"renderaudio__player\">\r\n                    <audio\r\n                    className='renderaudio__player-music'\r\n                    controls\r\n                    src={msg.audiourl}\r\n                    preload='metadata'\r\n                    >\r\n                    Your browser does not support the\r\n                    <code>audio</code> element.\r\n                    </audio>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RenderAudio\r\n","import { Avatar } from '@material-ui/core'\r\nimport React, { useState } from 'react'\r\nimport {makeStyles} from '@material-ui/core'\r\nimport ChatMenu from '../ChatMenu/ChatMenu'\r\nimport ChatEdit from '../ChatEdit/ChatEdit'\r\nimport { useSelector } from 'react-redux'\r\nimport ChatReply from '../ChatReply/ChatReply'\r\nimport Linkify from 'react-linkify';\r\nimport RenderVideo from './RenderVideo'\r\nimport RenderAudio from './RenderAudio'\r\nconst useStyles=makeStyles((theme)=>{\r\n    return{\r\n      avatar:{\r\n          width:theme.spacing(4.5),\r\n          height:theme.spacing(4.5)\r\n      }\r\n    }\r\n})\r\n const Chatmessagemap=({msg})=> {\r\n    const [inHover, setHover] = useState(false);\r\n    const message=msg.message.replaceAll(\"\\\\n\", \"\\n\");\r\n    const classes=useStyles();\r\n    const id=useSelector((state)=>state.msg.id); \r\n    const admin=useSelector((state)=>state.currentrole.admin);\r\n    const chatedittoggle=useSelector((state)=>state.click.clicked);\r\n    const linkify=(input)=>{\r\n        var urlRegex =/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/ig;\r\n        return input.match(urlRegex)\r\n    }\r\n    // console.log(msg.message,linkify(\"Cool time-lapse animation of the number of submarine data cables (internet backbone) since 1989 - https://youtu.be/6dkiqJ_IZGw\\nhttps://www.youtube.com/watch?v=2ApV7zqd7no&list=RDMM&index=13\"));\r\n    const linkifiedmsg=linkify(message);\r\n    const componentDecorator = (href, text, key) => (\r\n        <a className={`${linkifiedmsg && 'linkify__videotext'} linkify__text`} href={href} key={key} target=\"_blank\" rel=\"noreferrer\">\r\n          {text}\r\n        </a>\r\n      );\r\n      \r\n     return (\r\n         <>\r\n        <div className={`${msg.reply && 'chatmessage__main--replied'} chatmessage__main ${chatedittoggle && id===msg.id && 'chatmessage__main--edit'}`}>\r\n            <div onMouseEnter={() => setHover(true)} onMouseLeave={() => setHover(false)} className=\"chatmessage\">\r\n            <div className=\"chatmessage\">\r\n                <div className=\"chatmessage__replycontent\">\r\n                    {msg.reply && <img className='chatmessage__replycontent--replyimage' src=\"/discord-clone/discord-reply.png\" alt=\"reply\"/>}\r\n                    <div className=\"chatmessage__replycontent--content\">\r\n                            { msg.reply && <ChatReply msg={msg}/>}\r\n                        </div>\r\n                </div>\r\n                <div className=\"chatmessage__header\">\r\n                    <div className={`${msg.reply&& 'chatmessage__header-photo--replied'} chatmessage__header-photo`}>\r\n                        <Avatar className={classes.avatar} src={`${msg && msg.senderphoto}`}/>\r\n                    </div>\r\n                    <div className=\"chatmessage__content\">\r\n                        <div className=\"chatmessage__content-header\">\r\n                            <div className={`${admin && admin.admin === msg.sendername && 'chatmessage__content-admin'} chatmessage__content-name`}>\r\n                                {`${msg && msg.sendername}`}\r\n                            </div>\r\n                            <div className=\"chatmessage__content-date\">\r\n                                {`${msg.createdAt && \r\n                                    msg.createdAt.toDate().getDate()+\"/\"+(msg.createdAt.toDate().getMonth()+1)+\"/\"+msg.createdAt.toDate().getFullYear()\r\n                                    }`}\r\n                            </div>\r\n                            <div className={`${msg.reply && 'chatmessage__content-menu--replied'} chatmessage__content-menu chatmessage__content-menu-normal`}>\r\n                               {inHover&& <ChatMenu msg={msg} />}\r\n                               {/* {<ChatMenu msg={msg}/>} */}\r\n                               {/* {console.log(id===msg.id)} */}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"chatmessage__message\">\r\n                         {\r\n                         useSelector((state)=>state.click.clicked) && msg.id===id ? <ChatEdit msg={message} msgid={msg.id}/>:\r\n                         <Linkify componentDecorator={componentDecorator}>\r\n                            {msg && !!msg.message ? message : !msg.base64 && <RenderAudio msg={msg}/>}\r\n                            </Linkify>   \r\n                         }\r\n                            {msg.base64 &&<img src={msg.base64} alt=\"cannot decode\"/>}\r\n                            {linkifiedmsg && linkifiedmsg.length>1?linkifiedmsg.map((link)=><RenderVideo key={link} msg={link}/>):<RenderVideo msg={linkifiedmsg}/>}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Chatmessagemap\r\n","// import { useEffect, useState } from 'react';\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\r\nimport { useSelector } from 'react-redux';\r\nimport {firestore } from '../../firebase/firebase';\r\nimport FetchRoleid from '../RolesDocument/FetchRoleid';\r\n// import {db} from '../../firebase/firebase'\r\nimport './ChatMessage.scss'\r\nimport Chatmessagemap from './Chatmessagemap';\r\nconst ChatMessage= ()=> {\r\n    const id= useSelector((state)=>state.doc.id);\r\n    const currentserverid=useSelector((state)=>state.currentserver.id);\r\n    const channelRef=firestore.collection('servers').doc(currentserverid).collection('channels').doc(id).collection('messages');\r\n    const query=channelRef.orderBy('createdAt');\r\n    const [messages]=useCollectionData(query,{idField:'id'});\r\n    // const currentkey=useSelector((state)=>state.key.key);\r\n    // useEffect(() => {\r\n    //     const uploadRef= db.ref(`uploads/${currentkey}`);\r\n    //     uploadRef.on(\"value\",(snapshot)=>{\r\n           \r\n    //         console.log('called useEffect');\r\n    //     })\r\n    //     return () => {\r\n    //         uploadRef.off();\r\n    //         console.log('called clean');\r\n            \r\n    //     }\r\n    // }, [currentkey])\r\n\r\n    const currrentdoc=useSelector((state)=>state.doc.name);\r\n    return (\r\n        <div >\r\n            {currrentdoc==='roles'?<FetchRoleid/>: messages && messages.map((msg)=>{\r\n                return <Chatmessagemap key={msg.id} msg={msg}/>\r\n            })}            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatMessage\r\n","const openupload=()=>{\r\n    return{\r\n    type:'Change_open',\r\n  }\r\n  }\r\n  export default openupload;\r\n  ","import React from 'react'\r\nimport {DropzoneArea} from 'material-ui-dropzone'\r\nimport {auth, firestore} from '../../firebase/firebase'\r\nimport firebase from 'firebase/app'\r\nimport { makeStyles } from '@material-ui/core';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Resizer from \"react-image-file-resizer\";\r\nimport openupload from '../../redux/openupload/message.actions'\r\nimport {storage} from '../../firebase/firebase'\r\nimport replytoggle from '../../redux/replytoggle/replytoggle.actions';\r\n// import {db} from '../../firebase/firebase'\r\n// import storage from '../../firebase/firebase'\r\nconst useStyles=makeStyles({\r\n    drop:{\r\n        backgroundColor:'#2C2F33',\r\n        color:'#e6e8e8'\r\n    },\r\n    icon:{\r\n        color:'gray'\r\n    },\r\n})\r\n\r\n\r\nfunction FileUpload() {\r\n    const id= useSelector((state)=>state.doc.id);\r\n    const currentserverid=useSelector((state)=>state.currentserver.id);\r\n    const toggle=useSelector((state)=>state.replytoggle.clicked);\r\n    const replymsg=useSelector((state)=>state.reply);\r\n    const classes=useStyles();\r\n    const dispatch = useDispatch();\r\n        const resizeFile = (file) =>\r\n            new Promise((resolve) => {\r\n                Resizer.imageFileResizer(\r\n                file,\r\n                350,\r\n                350,\r\n                \"JPEG\",\r\n                100,\r\n                0,\r\n                (uri) => {\r\n                    resolve(uri);\r\n                },\r\n                \"base64\"\r\n                );\r\n            });\r\n  \r\n    const handleupload=async(file)=>{\r\n        if(['audio/mpeg', 'audio/mp4', 'audio/ogg','audio/wav'].includes(file[0].type)){\r\n            const audio=file[0];\r\n            console.log(audio);\r\n            try{\r\n                dispatch(openupload());\r\n                const storageRef=storage.ref();\r\n                const fileRef = storageRef.child(audio.name)\r\n                await fileRef.put(audio).then(() => {\r\n                fileRef.getDownloadURL().then(function (url) {\r\n                    console.log(url);\r\n                    const channelRef= firestore.collection('servers').doc(currentserverid).collection('channels').doc(id).collection('messages');\r\n                    if(toggle){\r\n                        dispatch(replytoggle());\r\n                        channelRef.add({\r\n                            message:'',\r\n                            audioname:audio.name,\r\n                            audiourl:url,\r\n                            audiosize:audio.size,\r\n                            sendername:auth.currentUser.displayName,\r\n                            senderemail:auth.currentUser.email,\r\n                            senderuid:auth.currentUser.uid,\r\n                            senderphoto:auth.currentUser.photoURL,\r\n                            createdAt:firebase.firestore.FieldValue.serverTimestamp(),\r\n                            reply:replymsg\r\n                        })\r\n                    }\r\n                    else{\r\n                        channelRef.add({\r\n                            message:'',\r\n                            audioname:audio.name,\r\n                            audiourl:url,\r\n                            audiosize:audio.size,\r\n                            sendername:auth.currentUser.displayName,\r\n                            senderemail:auth.currentUser.email,\r\n                            senderuid:auth.currentUser.uid,\r\n                            senderphoto:auth.currentUser.photoURL,\r\n                            createdAt:firebase.firestore.FieldValue.serverTimestamp(),\r\n                        })\r\n                    }\r\n                    });\r\n                    console.log(\"Uploaded a file\")\r\n                    })\r\n            }\r\n            catch(err){\r\n                console.log(err);\r\n            }\r\n            \r\n        }\r\n        //////////////////////////////////image file\r\n        if(['image/jpeg', 'image/png', 'image/bmp','image/x-icon'].includes(file[0].type))\r\n        {\r\n        const image=file[0];\r\n        console.log(image);\r\n        try{\r\n            dispatch(openupload());\r\n            const resizedfile=await resizeFile(image);\r\n            const channelRef= firestore.collection('servers').doc(currentserverid).collection('channels').doc(id).collection('messages');\r\n            if(toggle){\r\n                dispatch(replytoggle());\r\n                await channelRef.add({\r\n                    message:'',\r\n                    base64:resizedfile,\r\n                    sendername:auth.currentUser.displayName,\r\n                    senderemail:auth.currentUser.email,\r\n                    senderuid:auth.currentUser.uid,\r\n                    senderphoto:auth.currentUser.photoURL,\r\n                    createdAt:firebase.firestore.FieldValue.serverTimestamp(),\r\n                    reply:replymsg\r\n                })\r\n            }\r\n            else{\r\n                await channelRef.add({\r\n                    message:'',\r\n                    base64:resizedfile,\r\n                    sendername:auth.currentUser.displayName,\r\n                    senderemail:auth.currentUser.email,\r\n                    senderuid:auth.currentUser.uid,\r\n                    senderphoto:auth.currentUser.photoURL,\r\n                    createdAt:firebase.firestore.FieldValue.serverTimestamp(),\r\n                })\r\n            }\r\n        }\r\n        catch(err){\r\n            console.log(err);\r\n        }\r\n    }\r\n}\r\n        /////////////////////Realtime Datasbase\r\n        // try{\r\n        //     const resizedfile=await resizeFile(image);\r\n        //     const uploadref=db.ref('uploads');\r\n        //     const newuploadRef=uploadref.push();\r\n        //     (await newuploadRef).set({\r\n        //         newupload:resizedfile\r\n        //     })\r\n        //     dispatch(currentkey({key:newuploadRef.key}));\r\n        // }\r\n        // catch(err){\r\n        //     console.log(err);\r\n        // }\r\n        \r\n        // const storageRef=storage.ref();\r\n        // const fileRef = storageRef.child(file.name)\r\n        \r\n        // await fileRef.put(file).then(() => {\r\n        // fileRef.getDownloadURL().then(function (url) {\r\n        //    console.log(url);\r\n        //     });\r\n        //     console.log(\"Uploaded a file\")\r\n        //     })\r\n\r\n        \r\n    \r\n    return (\r\n        <div>\r\n            <DropzoneArea\r\n            dropzoneClass={classes.drop}\r\n            classes={{icon:classes.icon,image:classes.imageContainer}}\r\n            // acceptedFiles={['image/jpeg', 'image/png', 'image/bmp']}\r\n            showPreviews={false}\r\n            showPreviewsInDropzone={false}\r\n            maxFileSize={10000000}\r\n            filesLimit={1}\r\n            onAdd={handleupload}\r\n            onDrop={handleupload}\r\n        />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FileUpload\r\n","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport {IconButton, makeStyles} from '@material-ui/core'\r\nimport replytoggle from '../../redux/replytoggle/replytoggle.actions'\r\nconst useStyles=makeStyles({\r\n    button:{\r\n        margin:0,\r\n        padding:'.1rem',\r\n        color:'#b9bbbe'\r\n    },\r\n    icon:{\r\n        width:'1.8rem'\r\n    }\r\n})\r\nfunction ChatSearchReply() {\r\n    const classes=useStyles();\r\n    const dispatch = useDispatch();\r\n    return (\r\n        <div>\r\n            <div className='chatsearchbar__reply'>\r\n                <div className=\"chatsearchbar__reply-text\">\r\n                Replying to {useSelector((state)=>state.reply.sender)}\r\n                </div>\r\n                <div className=\"chatsearchnar__reply-close\">\r\n                    <IconButton className={classes.button} onClick={()=>{dispatch(replytoggle())}}>\r\n                        <CancelIcon fontSize='large' className={classes.icon} />\r\n                    </IconButton>\r\n                </div>\r\n            \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatSearchReply\r\n","import React, { useState} from 'react'\r\nimport './ChatSearchBar.scss'\r\nimport firebase from 'firebase/app'\r\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\r\nimport CardGiftcardIcon from '@material-ui/icons/CardGiftcard';\r\nimport GifIcon from '@material-ui/icons/Gif';\r\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\r\nimport { IconButton,makeStyles } from '@material-ui/core';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { auth, firestore } from '../../firebase/firebase';\r\nimport FileUpload from '../FileUpload/FileUpload'\r\nimport openupload from '../../redux/openupload/message.actions'\r\nimport Emojicontainer from '../Emoji/Emojicontainer'\r\nimport replytoggle from '../../redux/replytoggle/replytoggle.actions'\r\nimport ChatSearchReply from './ChatSearchReply'\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\r\nconst useStyles=makeStyles(()=>{\r\n    return{\r\n        button:{\r\n            color: '#b8bbc0',\r\n            padding:'0 .75rem'\r\n        },\r\n        addbutton:{\r\n            backgroundColor:'#40454b',\r\n            color:'#b8bbc0',\r\n            padding:'.9rem 1rem',\r\n            '&:hover':{\r\n                backgroundColor:'#40454b'\r\n            }\r\n        }\r\n    }\r\n})\r\nfunction ChatSearchBar() {\r\n    const dispatch = useDispatch()\r\n    const classes=useStyles();\r\n    const [openpicker,setopenpicker]=useState(false);\r\n    const [formValue,setformValue]=useState('');\r\n    const currentserverid=useSelector((state)=>state.currentserver.id)\r\n    const id= useSelector((state)=>state.doc.id)\r\n    const channelRef=firestore.collection('servers').doc(currentserverid).collection('channels').doc(id).collection('messages');\r\n    const replymsg= useSelector((state)=>state.reply);\r\n    const togglereply=useSelector((state)=>state.replytoggle.clicked);\r\n    const currentdoc=useSelector((state)=>state.doc.name);\r\n    const query=channelRef.orderBy('createdAt','desc').limit(1);\r\n    const [messages]=useCollectionData(query,{idField:'id'});\r\n    const handleSubmit=async(e)=>{\r\n        e.preventDefault();\r\n        if(currentdoc==='roles'){\r\n            setformValue('Not authorized to send message here');\r\n            return\r\n        }\r\n        if(!togglereply){\r\n            if(!!messages.length && messages[0].senderemail===auth.currentUser.email){\r\n                const messageRef=channelRef.doc(messages[0].id);\r\n                await messageRef.update({\r\n                    message:messages[0].message+'\\\\n'+formValue\r\n                },{merge:true})\r\n            }\r\n            else{\r\n                await channelRef.add({\r\n                    message:formValue,\r\n                    sendername:auth.currentUser.displayName,\r\n                    senderemail:auth.currentUser.email,\r\n                    senderuid:auth.currentUser.uid,\r\n                    senderphoto:auth.currentUser.photoURL,\r\n                    createdAt:firebase.firestore.FieldValue.serverTimestamp(),\r\n                })\r\n            }\r\n            \r\n        }\r\n        else{\r\n            await channelRef.add({\r\n                message:formValue,\r\n                sendername:auth.currentUser.displayName,\r\n                senderemail:auth.currentUser.email,\r\n                senderuid:auth.currentUser.uid,\r\n                senderphoto:auth.currentUser.photoURL,\r\n                createdAt:firebase.firestore.FieldValue.serverTimestamp(),\r\n                reply:replymsg\r\n            })\r\n            dispatch(replytoggle());\r\n        }\r\n        setformValue('');\r\n    }\r\n    const handlePicker=()=>{\r\n        setopenpicker(!openpicker)\r\n    }\r\n    const handleadd=()=>{\r\n        dispatch(openupload());\r\n    }\r\n    \r\n    return (\r\n        <div style={{position:'relative'}}>\r\n           {useSelector((state)=>state.replytoggle.clicked)&&<ChatSearchReply/>}\r\n            <div className=\"chatsearchbar\">\r\n                <div className=\"chatsearchbar__addicon\">\r\n                    <IconButton className={classes.addbutton} onClick={handleadd} aria-label=\"settings\">\r\n                        <AddCircleOutlineIcon fontSize='large' />\r\n                    </IconButton>\r\n                </div>\r\n                <div className=\"chatsearchbar__input\">\r\n                    <form onSubmit={handleSubmit}>\r\n                     <input autoFocus id=\"myTextField\" value={formValue} required onChange={(e)=>{setformValue(e.target.value)}} className='chatsearchbar__input-text' placeholder={`Message #${useSelector((state)=>state.doc.name)}`} type=\"text\"/>\r\n                    </form>\r\n                </div>\r\n                <div className=\"chatsearchbar__gifticon\">\r\n                    <IconButton className={classes.button} aria-label=\"settings\" >\r\n                        <CardGiftcardIcon style={{ fontSize: 30 }}/>\r\n                    </IconButton>\r\n                </div>\r\n                <div className=\"chatsearchbar__gifcon\">\r\n                    <IconButton className={classes.button} aria-label=\"settings\">\r\n                        <GifIcon style={{ fontSize: 30 }}/>\r\n                    </IconButton>\r\n                </div>\r\n                \r\n                <div className=\"chatsearchbar__emojiicon\">\r\n                    <IconButton className={classes.button} onClick={handlePicker} aria-label=\"settings\">\r\n                        <InsertEmoticonIcon style={{ fontSize: 30 }}/>\r\n                    </IconButton>\r\n                </div>\r\n            </div>\r\n         {openpicker&& <div className='emojipicker'><Emojicontainer/></div>}\r\n        {useSelector((state)=>state.open.open) && <div className='upload'><FileUpload/></div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatSearchBar\r\n","const currentdoc=(doc)=>{\r\n    return{\r\n    type:'Current_Document',\r\n    payload:doc\r\n  }\r\n  }\r\n  export default currentdoc;\r\n  ","import { useSelector } from 'react-redux'\r\nimport { useHistory} from 'react-router';\r\nimport './SidebarChannel.scss'\r\nconst Channelmap=({msg})=>{\r\n    const history=useHistory();\r\n    const id=useSelector((state)=>state.doc.id);\r\n    const currentserverid=useSelector((state)=>state.currentserver.id)\r\n    return (\r\n        <div>\r\n             <p key={msg.id} onClick={()=>{\r\n                 history.push(`/discord-clone/channels/${currentserverid}/${msg.id}`)\r\n                }}\r\n                className={`${id===msg.id && `clicked`} sidebarchannel__content`}>\r\n                <span className='sidebarchannel__hash'>#</span>{msg.channel}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Channelmap\r\n","import React, { useEffect, useState } from 'react'\r\nimport './SidebarChannel.scss'\r\nimport { firestore } from '../../firebase/firebase';\r\nimport Channelmap from './Channelmap';\r\nimport { useSelector } from 'react-redux';\r\nconst SidebarChannel=()=>{\r\n    const currentserverid=useSelector((state)=>state.currentserver.id)\r\n    // console.log(currentserverid);\r\n    const channelRef=firestore.collection('servers').doc(currentserverid).collection('channels')\r\n    const [channels,setchannels]=useState([]);\r\n    useEffect(() => {\r\n        let data=[]\r\n          const myfun=async()=>{\r\n          await channelRef.orderBy('createdAt').get().then((snapshot)=>{\r\n              snapshot.docs.map((doc)=>{\r\n                  const mychannel=doc.data();\r\n                  mychannel.id=doc.id\r\n                  return data.push(mychannel)\r\n              })\r\n          })\r\n          setchannels(data)\r\n          }   \r\n          myfun();    return () => {\r\n            \r\n        }\r\n    }, [currentserverid])\r\n  return (\r\n      <div>\r\n          <div className=\"sidebarchannel\">\r\n              {channels && !!channels.length && channels.map((msg)=>{\r\n                  return <Channelmap key={msg.id} msg={msg}/>\r\n              })}               \r\n          </div>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default (SidebarChannel)","import React from 'react'\r\nimport SignalCellularAltIcon from '@material-ui/icons/SignalCellularAlt';\r\nimport VideocamIcon from '@material-ui/icons/Videocam';\r\nimport ScreenShareIcon from '@material-ui/icons/ScreenShare';\r\nimport CallEndIcon from '@material-ui/icons/CallEnd';\r\nimport {IconButton,makeStyles, Button} from '@material-ui/core'\r\nimport './Sidebarvoice.scss'\r\nconst useStyles=makeStyles(()=>{\r\n    return{\r\n        signal:{\r\n            color:\"#43b380\"\r\n        },\r\n        end:{\r\n            color:'#babbbf'\r\n        },\r\n        button:{\r\n            fontSize:'14px',\r\n            color:'#fff',\r\n            backgroundColor:'#363940',\r\n            padding:'5px 1.9rem',\r\n            textTransform:'none'\r\n        }\r\n    }\r\n})\r\nfunction Sidebarvoice() {\r\n    const classes=useStyles();\r\n    return (\r\n        <div className='sidebarvoice'>\r\n            <div className=\"sidebarvoice__header\">\r\n                <div className=\"sidebarvoice__connect\">\r\n                    <div className=\"sidebarvoice__connect-icon\">\r\n                        <IconButton className={classes.signal} aria-label=\"settings\">\r\n                            <SignalCellularAltIcon fontSize='large'/>\r\n                        </IconButton>\r\n                        </div>\r\n                    <div className=\"sidebarvoice__connect-connected\">Voice Connected</div>\r\n                </div>\r\n                <div className=\"sidebarvoice__disconnect\">\r\n                    <IconButton className={classes.end} aria-label=\"settings\">\r\n                        <CallEndIcon fontSize='large'/>\r\n                    </IconButton>\r\n                </div>\r\n            </div>\r\n            <div className=\"sidebarvoice__stream\">\r\n                <div className=\"sidebarvoice__stream-video\">\r\n                    <Button variant=\"text\" className={classes.button} startIcon={ <VideocamIcon/>}> Video </Button>\r\n                </div>\r\n                <div className=\"sidebarvoice__stream-screen\">\r\n                    <Button variant=\"text\" className={classes.button} startIcon={ <ScreenShareIcon/>}> Screen </Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Sidebarvoice\r\n","import React, { useState } from 'react';\r\nimport {Avatar,Badge} from '@material-ui/core';\r\nimport { withStyles,makeStyles } from '@material-ui/core/styles';\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\nimport { auth } from '../../firebase/firebase';\r\nimport {IconButton} from '@material-ui/core'\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport MicIcon from '@material-ui/icons/Mic';\r\nimport MicOffIcon from '@material-ui/icons/MicOff';\r\nimport HeadsetMicIcon from '@material-ui/icons/HeadsetMic';\r\nimport './BadgeAvatar.scss'\r\nimport { useHistory } from 'react-router';\r\nconst StyledBadge = withStyles((theme) => ({\r\n  badge: {\r\n    backgroundColor: '#44b700',\r\n    color: '#44b700',\r\n    boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\r\n    '&::after': {\r\n      position: 'absolute',\r\n      top: 0,\r\n      left: 0,\r\n      width: '100%',\r\n      height: '100%',\r\n      borderRadius: '50%',\r\n      animation: '$ripple 1.2s infinite ease-in-out',\r\n      border: '1px solid currentColor',\r\n      content: '\"\"',\r\n    },\r\n  },\r\n  '@keyframes ripple': {\r\n    '0%': {\r\n      transform: 'scale(.8)',\r\n      opacity: 1,\r\n    },\r\n    '100%': {\r\n      transform: 'scale(2.4)',\r\n      opacity: 0,\r\n    },\r\n  },\r\n}))(Badge);\r\n\r\nconst useStyles=makeStyles((theme)=>{\r\n  return{\r\n    settings:{\r\n      display:'flex',\r\n      flexWrap:'wrap'\r\n    },\r\n    icon:{\r\n      padding:'.5rem',\r\n      color:'#babbbf'\r\n    },\r\n    avatar:{\r\n      width:'3.25rem',\r\n      height:'3.25rem'\r\n    }\r\n  }\r\n})\r\n\r\nexport default function BadgeAvatars() {\r\n  const history=useHistory();\r\n  const [user]=useAuthState(auth);\r\n  const [mic,setmic]=useState(false);\r\n  const classes=useStyles();\r\n  const handleClick=async ()=>{\r\n    await auth.signOut();\r\n    history.push('/discord-clone');\r\n  }\r\n    return (\r\n    <div>\r\n      <div className=\"profile\">\r\n        <div className=\"profile__avatar\">\r\n          <StyledBadge overlap=\"circle\" anchorOrigin={{vertical: 'bottom',horizontal: 'right',}} variant=\"dot\">\r\n            <Avatar alt=\"Remy Sharp\" src={`${user&& user.photoURL?user.photoURL:null}`} className={classes.avatar}/>\r\n          </StyledBadge>\r\n          <div className=\"profile__name\">\r\n            <div className=\"profile__name-name\">\r\n              {`${user&& user.displayName?user.displayName:null}`}\r\n            </div>\r\n            <div className=\"profile__name-uid\">\r\n              #{user && user.uid.slice(0,6)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={classes.settings}>\r\n            <IconButton className={classes.icon} onClick={()=>setmic(!mic)} aria-label=\"settings\">\r\n              {mic?<MicIcon fontSize='large'/>: <MicOffIcon fontSize='large' />}\r\n            </IconButton>\r\n            <IconButton className={classes.icon} aria-label=\"settings\">\r\n            <HeadsetMicIcon fontSize='large'/>\r\n            </IconButton>\r\n            <IconButton className={classes.icon} aria-label=\"settings\" onClick={handleClick}>\r\n              <SettingsIcon fontSize='large' />\r\n            </IconButton>\r\n        </div>\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n}","import React,{useState} from 'react'\r\nimport styled from \"styled-components\"\r\nimport { Avatar, makeStyles } from '@material-ui/core'\r\nimport { firestore } from '../../firebase/firebase';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst useStyles=makeStyles({\r\n    avatar:{\r\n        width:'3rem',\r\n        height:'3rem'\r\n    },\r\n    profileavatar:{\r\n        width:'8rem',\r\n        height:'8rem'\r\n    },\r\n    outlined:(rolearr)=>({\r\n        color:rolearr.map((a)=>{\r\n            return a['color']\r\n        })\r\n    }),\r\n\r\n})\r\n\r\nconst Para=styled.p`\r\n    color:${props=>props.color}\r\n`\r\nconst StyledCircle=styled.svg`\r\n    display:'inline-block'\r\n`\r\nconst StyledChip=styled.div`\r\n    border-color:${props=>props.color}\r\n`\r\n\r\nconst Myrolesmap = ({user,color}) => {\r\n    const [open,setopen]=useState(false);\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const [rolearr,setrolearr]=useState([]);\r\n    const userref=firestore.collection('users');\r\n    const currentserverid=useSelector((state)=>state.currentserver.id)\r\n    const classes=useStyles(rolearr);\r\n     const getuserdata=()=>{\r\n        userref.get().then((snapshot)=>snapshot.docs.forEach((doc)=>{\r\n            if(doc.data().userphoto===user.photoURL){\r\n              const keys = Object.keys(doc.data().roles);\r\n              for(const k of keys){\r\n                if(currentserverid && k===currentserverid){\r\n                     const mykeys=Object.keys(doc.data().roles[k])\r\n                     let arr=[];\r\n                     mykeys.map((rol)=>{\r\n                        arr.push(doc.data().roles[k][rol]);                        \r\n                     })\r\n                     setrolearr(arr);    \r\n                }\r\n              }\r\n            }\r\n          }))\r\n     }\r\n\r\n    const handleClick=(event)=>{\r\n    getuserdata()\r\n    setopen(!open);\r\n    setrolearr([]);\r\n    setAnchorEl(anchorEl ? null : event.currentTarget);\r\n}\r\n    return (\r\n        \r\n        <div onClick={handleClick} onMouseLeave={()=>{\r\n            setopen(false)\r\n        }}>\r\n            {open && <div className=\"roleprofile\">\r\n                  <div className=\"roleprofile__header\">\r\n                    <div className=\"roleprofile__header-photo\">\r\n                        <Avatar src={user.photoURL && user.photoURL} className={classes.profileavatar} />\r\n                    </div>\r\n                    <div className=\"roleprofile__header-username\">\r\n                        {user.username && user.username}\r\n                    </div>\r\n                    <div className=\"roleprofile__header-status\">\r\n                        🙌 my website\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"roleprofile__content\">\r\n                    <div className=\"roleprofile__content-heading\">\r\n                        ROLES\r\n                    </div>\r\n                    <div className=\"roleprofile__content-roles\">\r\n                        {rolearr && rolearr.map((a,index)=>{\r\n                            return <StyledChip key={index} className=\"chip\" color={a['color']}>\r\n                            <div className=\"chip__avatar\">\r\n                                <StyledCircle viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"50\" cy=\"50\" r=\"50\" fill={a['color']} /></StyledCircle>\r\n                            </div>\r\n                            <div className=\"chip__label\" color={a['color']}>\r\n                                {a['yourrole']}\r\n                            </div>\r\n                        </StyledChip>\r\n                        })}\r\n                    </div>\r\n                  </div>\r\n              </div>\r\n               }\r\n         <div className=\"roles__box\">\r\n                <div className=\"roles__box-avatar\">\r\n                    <Avatar className={classes.avatar} src={user.photoURL && user.photoURL}/>\r\n                </div>\r\n                <div className=\"roles__content\">\r\n                    <div className=\"roles__content-name\">\r\n                        <Para color={color} className='roles__content--squad'>{user.username && user.username}</Para>\r\n                    </div>\r\n                    <div className='roles__content-status'>\r\n                        {user.status && user.status}\r\n                    </div>\r\n                </div>\r\n            </div>   \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Myrolesmap\r\n","import React from 'react'\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore'\r\nimport Myrolesmap from './Myrolesmap'\r\n\r\nconst Myroles = ({myrole,color,rolemap}) => {\r\n    const allusersref=rolemap.doc(myrole.id).collection('allusers');\r\n    const [allusers]=useCollectionData(allusersref,{idField:'id'});\r\n    return (\r\n        <div className='myroles'>\r\n            <div className=\"myroles__user\">\r\n                {allusers && allusers.map((user)=>{\r\n                return <Myrolesmap key={user.id} user={user} color={color}/>\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Myroles\r\n","import React from 'react'\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\r\nimport { useSelector } from 'react-redux';\r\nimport { firestore } from '../../firebase/firebase'\r\nimport Myroles from './Myroles';\r\n\r\nconst Rolescategory = ({role}) => {\r\n    const currentserverid=useSelector((state)=>state.currentserver.id);\r\n    const rolemap=firestore.collection('servers').doc(currentserverid).collection('allroles').doc(role.id).collection('allroles');\r\n    const [allroleusers]=useCollectionData(rolemap,{idField:'id'});\r\n    return (\r\n        <>\r\n             <div className=\"rolescategory\">\r\n             <div className=\"roles__heading\">\r\n               <h2 className=\"roles__heading-h2\">{role && role.rolename} —  {allroleusers && allroleusers.length}</h2> \r\n            </div>\r\n                {allroleusers && allroleusers.map((myrole)=>{\r\n                    return <Myroles key={myrole.id} myrole={myrole} rolemap={rolemap} color={myrole && myrole.color}/>\r\n                })}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Rolescategory\r\n","import React from 'react'\r\nimport { useCollectionData, useDocumentData } from 'react-firebase-hooks/firestore';\r\nimport { firestore } from '../../firebase/firebase';\r\nimport { Avatar, makeStyles } from '@material-ui/core'\r\nimport './Roles.scss'\r\nimport { useSelector } from 'react-redux';\r\nimport Rolescategory from './Rolescategory';\r\nconst useStyles=makeStyles({\r\n    avatar:{\r\n        width:'3rem',\r\n        height:'3rem'\r\n    },\r\n})\r\nfunction Roles() {\r\n    const classes=useStyles();\r\n    const currentserverid=useSelector((state)=>state.currentserver.id);\r\n    const serverRef=firestore.collection('servers').doc(currentserverid);\r\n    const [servers]=useDocumentData(serverRef);\r\n    const allrolesref=serverRef.collection('allroles');\r\n    const rolequery=allrolesref.orderBy('createdAt');\r\n    const [allroles]=useCollectionData(rolequery,{idField:'id'});\r\n    \r\n    return (\r\n        <div className='roles'>\r\n            <div className=\"roles__heading\">\r\n               <h2 className=\"roles__heading-h2\">Administrator  —  1</h2> \r\n            </div>\r\n            <div className=\"roles__box\">\r\n                <div className=\"roles__box-avatar\">\r\n                    <Avatar className={classes.avatar} src={servers && servers.userimage && servers.userimage}/>\r\n                </div>\r\n                <div className=\"roles__content\">\r\n                    <div className=\"roles__content-name\">\r\n                        <p className='roles__content--admin'>{servers && servers.admin && servers.admin}</p>\r\n                    </div>\r\n                    <div className='roles__content-status'>\r\n                        Visual Studio Code\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {allroles && allroles.map((role)=>{\r\n                return <Rolescategory key={role.id} role={role}/>\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Roles\r\n","import React,{useState} from 'react';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport { makeStyles, Typography } from '@material-ui/core';\r\nimport {auth, firestore} from '../../firebase/firebase'\r\nimport firebase from 'firebase/app'\r\nimport './AddChannelPopup.scss' \r\nimport { useSelector } from 'react-redux';\r\nconst useStyles=makeStyles((theme)=>{\r\n    return{\r\n        button:{\r\n            padding:theme.spacing(1),\r\n            color:'#fff'\r\n        },\r\n        typo:{\r\n            color:'#fcfdfe',\r\n            textTransform:'uppercase',\r\n        },\r\n        dialog:{\r\n            backgroundColor:'#363940',\r\n        },\r\n        dialogaction:{\r\n            backgroundColor:'#363940',\r\n            padding:'4% 6.5%',\r\n        },\r\n        paper: { \r\n            minWidth: '25%',\r\n        },\r\n    }\r\n})\r\nexport default function AddChannelPopup() {\r\n    const classes=useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n    const [formValue,setformValue]=useState('');\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const handleSubmit=async (e)=>{\r\n    e.preventDefault();\r\n    await channelRef.add({\r\n        channel:formValue,\r\n        createdAt:firebase.firestore.FieldValue.serverTimestamp(),\r\n        // name:auth.currentUser.displayName,\r\n        email:auth.currentUser.email,\r\n        // uid:auth.currentUser.uid,\r\n    })\r\n    .then(\r\n      ()=>{\r\n        console.log(\"Document Added\")\r\n      })\r\n    .catch((error)=>{console.log(error)})\r\n\r\n    setformValue('');\r\n  }\r\n  const currentserverid=useSelector((state)=>state.currentserver.id)\r\n  const channelRef=firestore.collection('servers').doc(currentserverid).collection('channels')\r\n  return (\r\n    <div>\r\n        <svg onClick={handleClickOpen} style={{cursor:'pointer'}}aria-hidden=\"false\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\">\r\n            <polygon fillRule=\"nonzero\" fill=\"currentColor\" points=\"15 10 10 10 10 15 8 15 8 10 3 10 3 8 8 8 8 3 10 3 10 8 15 8\"></polygon>\r\n        </svg>\r\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\" classes={{ paper: classes.paper}}>\r\n        <DialogContent className={classes.dialog}>\r\n          <DialogContentText>\r\n            <Typography variant='h5' className={classes.typo}>Channel name</Typography>\r\n          </DialogContentText>\r\n          <input type=\"text\" required className='input' autoFocus placeholder='Type channel name' onChange={(e)=>setformValue(e.target.value)} value={formValue}/>\r\n        </DialogContent>\r\n        <DialogActions className={classes.dialogaction}>\r\n            <form onSubmit={handleSubmit} className='form'>\r\n              <button type='submit' onClick={handleClose} className='form__button'>Add</button>\r\n            </form>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useDispatch } from 'react-redux';\r\nimport ChatMessage from '../../components/ChatMessage/ChatMessage';\r\nimport ChatSearchBar from '../../components/ChatSearchBar/ChatSearchBar';\r\nimport { firestore } from '../../firebase/firebase';\r\nimport currentdoc from '../../redux/document/document.actions';\r\nimport SidebarChannel from '../../components/SidebarChannel/SidebarChannel'\r\nimport Sidebarvoice from '../../components/Sidebarvoice/Sidebarvoice'\r\nimport BadgeAvatars from '../../components/Avatar/BadgeAvatar'\r\nimport Roles from '../../components/Roles/Roles'\r\nimport './Home_serverId_channel.scss'\r\nimport AddChannelPopup from '../../components/AddChannelPopup/AddChannelPopup';\r\n// const useStyles=makeStyles((theme)=>{\r\n//     return{\r\n//         button:{\r\n//             padding:theme.spacing(1),\r\n//             color:'#fff'\r\n//         }\r\n//     }\r\n// })\r\n\r\nconst Home_serverId_channel = ({match}) => {\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        const myfun=async()=>{\r\n            const channelRef=firestore.collection(\"servers\").doc(match.params.serverId).collection(\"channels\").doc(match.params.channelId);\r\n            await channelRef.get().then((snapshot)=>{\r\n                dispatch(currentdoc({id:match.params.channelId,name:snapshot.data().channel}))                \r\n            })\r\n            \r\n        }\r\n        myfun();        \r\n        return () => {\r\n\r\n        }\r\n    }, [dispatch,match.params.channelId])\r\n    return (\r\n        <>\r\n               <div className='main__sidebar'>\r\n                    <div className='main__channels'>\r\n                        <div className=\"main__channels-header\">\r\n                            {/* <div className=\"main__channels-expandicon\">\r\n                                <IconButton className={classes.button} aria-label=\"settings\">\r\n                                    <ExpandMoreIcon/>\r\n                                </IconButton>\r\n                            </div> */}\r\n                             {/* cross icon */}\r\n                                {/* <svg width=\"18\" height=\"18\" class=\"button-1w5pas\">\r\n                                    <g fill=\"none\" fillRule=\"evenodd\">\r\n                                        <path d=\"M0 0h18v18H0\"></path>\r\n                                        <path stroke=\"currentColor\" d=\"M4.5 4.5l9 9\" stroke-linecap=\"round\"></path>\r\n                                        <path stroke=\"currentColor\" d=\"M13.5 4.5l-9 9\" stroke-linecap=\"round\"></path>\r\n                                    </g>\r\n                                </svg> */}\r\n                                <img className='main__channels-expand' src=\"/discord-clone/expand.svg\" alt=\"\" />\r\n                                <div className='main__channels-text'>TEXT CHANNELS</div>\r\n                                <div className=\"main__channels-addicon\">\r\n                                    <AddChannelPopup/>\r\n                                </div>\r\n                        </div>\r\n                        <div className=\"main__channels-list\">\r\n                            <SidebarChannel/>\r\n                        </div>\r\n                    </div>\r\n                        <div className=\"main__voice\">\r\n                            <Sidebarvoice/>\r\n                        </div>\r\n                            <div className=\"main__avatar\">\r\n                                <BadgeAvatars/>\r\n                            </div>\r\n                        </div>\r\n            <div className=\"chat\">\r\n                <div className='chat__message'>\r\n                    <ChatMessage/>\r\n                </div>\r\n                <div className=\"chat__searchbar\">\r\n                    <ChatSearchBar/>\r\n                </div>                    \r\n            </div>\r\n            <div className=\"main__roles\">\r\n                <Roles/>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Home_serverId_channel\r\n"],"sourceRoot":""}