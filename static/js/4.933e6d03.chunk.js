(this["webpackJsonpdiscord-clone"]=this["webpackJsonpdiscord-clone"]||[]).push([[4],{199:function(e,t,c){},204:function(e,t,c){},205:function(e,t,c){},206:function(e,t,c){},207:function(e,t,c){},208:function(e){e.exports=JSON.parse('[{"emoji":"\ud83d\ude00","tags":["smile","happy"]},{"emoji":"\ud83d\ude03","tags":["happy","joy","haha"]},{"emoji":"\ud83d\ude04","tags":["happy","joy","laugh","pleased"]},{"emoji":"\ud83d\ude01","tags":[]},{"emoji":"\ud83d\ude06","tags":["happy","haha"]},{"emoji":"\ud83d\ude05","tags":["hot"]},{"emoji":"\ud83e\udd23","tags":["lol","laughing"]},{"emoji":"\ud83d\ude02","tags":["tears"]},{"emoji":"\ud83d\ude42","tags":[]},{"emoji":"\ud83d\ude43","tags":[]},{"emoji":"\ud83d\ude09","tags":["flirt"]},{"emoji":"\ud83d\ude0a","tags":["proud"]},{"emoji":"\ud83d\ude07","tags":["angel"]},{"emoji":"\ud83e\udd70","tags":["love"]},{"emoji":"\ud83d\ude0d","tags":["love","crush"]},{"emoji":"\ud83e\udd29","tags":["eyes"]},{"emoji":"\ud83d\ude18","tags":["flirt"]},{"emoji":"\ud83d\ude17","tags":[]},{"emoji":"\ud83d\ude1a","tags":[]},{"emoji":"\ud83d\ude19","tags":[]},{"emoji":"\ud83d\ude0b","tags":["tongue","lick"]},{"emoji":"\ud83d\ude1b","tags":[]},{"emoji":"\ud83d\ude1c","tags":["prank","silly"]},{"emoji":"\ud83e\udd2a","tags":["goofy","wacky"]},{"emoji":"\ud83d\ude1d","tags":["prank"]},{"emoji":"\ud83e\udd11","tags":["rich"]},{"emoji":"\ud83e\udd17","tags":[]},{"emoji":"\ud83e\udd2d","tags":["quiet","whoops"]},{"emoji":"\ud83e\udd2b","tags":["silence","quiet"]},{"emoji":"\ud83e\udd14","tags":[]},{"emoji":"\ud83e\udd10","tags":["silence","hush"]},{"emoji":"\ud83e\udd28","tags":["suspicious"]},{"emoji":"\ud83d\ude10","tags":["meh"]},{"emoji":"\ud83d\ude11","tags":[]},{"emoji":"\ud83d\ude36","tags":["mute","silence"]},{"emoji":"\ud83d\ude0f","tags":["smug"]},{"emoji":"\ud83d\ude12","tags":["meh"]},{"emoji":"\ud83d\ude44","tags":[]},{"emoji":"\ud83d\ude2c","tags":[]},{"emoji":"\ud83e\udd25","tags":["liar"]},{"emoji":"\ud83d\ude0c","tags":["whew"]},{"emoji":"\ud83d\ude14","tags":[]},{"emoji":"\ud83d\ude2a","tags":["tired"]},{"emoji":"\ud83e\udd24","tags":[]},{"emoji":"\ud83d\ude34","tags":["zzz"]},{"emoji":"\ud83d\ude37","tags":["sick","ill"]},{"emoji":"\ud83e\udd12","tags":["sick"]},{"emoji":"\ud83e\udd15","tags":["hurt"]},{"emoji":"\ud83e\udd22","tags":["sick","barf","disgusted"]},{"emoji":"\ud83e\udd2e","tags":["barf","sick"]},{"emoji":"\ud83e\udd27","tags":["achoo","sick"]},{"emoji":"\ud83e\udd75","tags":["heat","sweating"]},{"emoji":"\ud83e\udd76","tags":["freezing","ice"]},{"emoji":"\ud83e\udd74","tags":["groggy"]},{"emoji":"\ud83d\ude35","tags":[]},{"emoji":"\ud83e\udd2f","tags":["mind","blown"]},{"emoji":"\ud83e\udd20","tags":[]},{"emoji":"\ud83e\udd73","tags":["celebration","birthday"]},{"emoji":"\ud83d\ude0e","tags":["cool"]},{"emoji":"\ud83e\udd13","tags":["geek","glasses"]},{"emoji":"\ud83e\uddd0","tags":[]},{"emoji":"\ud83d\ude15","tags":[]},{"emoji":"\ud83d\ude1f","tags":["nervous"]},{"emoji":"\ud83d\ude41","tags":[]},{"emoji":"\u2639\ufe0f","tags":[]},{"emoji":"\ud83d\ude2e","tags":["surprise","impressed","wow"]},{"emoji":"\ud83d\ude2f","tags":["silence","speechless"]},{"emoji":"\ud83d\ude32","tags":["amazed","gasp"]},{"emoji":"\ud83d\ude33","tags":[]},{"emoji":"\ud83e\udd7a","tags":["puppy","eyes"]},{"emoji":"\ud83d\ude26","tags":[]},{"emoji":"\ud83d\ude27","tags":["stunned"]},{"emoji":"\ud83d\ude28","tags":["scared","shocked","oops"]},{"emoji":"\ud83d\ude30","tags":["nervous"]},{"emoji":"\ud83d\ude25","tags":["phew","sweat","nervous"]},{"emoji":"\ud83d\ude22","tags":["sad","tear"]},{"emoji":"\ud83d\ude2d","tags":["sad","cry","bawling"]},{"emoji":"\ud83d\ude31","tags":["horror","shocked"]},{"emoji":"\ud83d\ude16","tags":[]},{"emoji":"\ud83d\ude23","tags":["struggling"]},{"emoji":"\ud83d\ude1e","tags":["sad"]},{"emoji":"\ud83d\ude13","tags":[]},{"emoji":"\ud83d\ude29","tags":["tired"]},{"emoji":"\ud83d\ude2b","tags":["upset","whine"]},{"emoji":"\ud83e\udd71","tags":[]},{"emoji":"\ud83d\ude24","tags":["smug"]},{"emoji":"\ud83d\ude21","tags":["angry"]},{"emoji":"\ud83d\ude20","tags":["mad","annoyed"]},{"emoji":"\ud83e\udd2c","tags":["foul"]},{"emoji":"\ud83d\ude08","tags":["devil","evil","horns"]},{"emoji":"\ud83d\udc7f","tags":["angry","devil","evil","horns"]},{"emoji":"\ud83d\udc80","tags":["dead","danger","poison"]},{"emoji":"\u2620\ufe0f","tags":["danger","pirate"]},{"emoji":"\ud83d\udca9","tags":["crap"]},{"emoji":"\ud83e\udd21","tags":[]},{"emoji":"\ud83d\udc79","tags":["monster"]},{"emoji":"\ud83d\udc7a","tags":[]},{"emoji":"\ud83d\udc7b","tags":["halloween"]},{"emoji":"\ud83d\udc7d","tags":["ufo"]},{"emoji":"\ud83d\udc7e","tags":["game","retro"]},{"emoji":"\ud83e\udd16","tags":[]},{"emoji":"\ud83d\ude3a","tags":[]},{"emoji":"\ud83d\ude38","tags":[]},{"emoji":"\ud83d\ude39","tags":[]},{"emoji":"\ud83d\ude3b","tags":[]},{"emoji":"\ud83d\ude3c","tags":[]},{"emoji":"\ud83d\ude3d","tags":[]},{"emoji":"\ud83d\ude40","tags":["horror"]},{"emoji":"\ud83d\ude3f","tags":["sad","tear"]},{"emoji":"\ud83d\ude3e","tags":[]},{"emoji":"\ud83d\ude48","tags":["monkey","blind","ignore"]},{"emoji":"\ud83d\ude49","tags":["monkey","deaf"]},{"emoji":"\ud83d\ude4a","tags":["monkey","mute","hush"]},{"emoji":"\ud83d\udc8b","tags":["lipstick"]},{"emoji":"\ud83d\udc8c","tags":["email","envelope"]},{"emoji":"\ud83d\udc98","tags":["love","heart"]},{"emoji":"\ud83d\udc9d","tags":["chocolates"]},{"emoji":"\ud83d\udc96","tags":[]},{"emoji":"\ud83d\udc97","tags":[]},{"emoji":"\ud83d\udc93","tags":[]},{"emoji":"\ud83d\udc9e","tags":[]},{"emoji":"\ud83d\udc95","tags":[]},{"emoji":"\ud83d\udc9f","tags":[]},{"emoji":"\u2763\ufe0f","tags":[]},{"emoji":"\ud83d\udc94","tags":[]},{"emoji":"\u2764\ufe0f","tags":["love"]},{"emoji":"\ud83e\udde1","tags":[]},{"emoji":"\ud83d\udc9b","tags":[]},{"emoji":"\ud83d\udc9a","tags":[]},{"emoji":"\ud83d\udc99","tags":[]},{"emoji":"\ud83d\udc9c","tags":[]},{"emoji":"\ud83e\udd0e","tags":[]},{"emoji":"\ud83d\udda4","tags":[]},{"emoji":"\ud83e\udd0d","tags":[]},{"emoji":"\ud83d\udcaf","tags":["score","perfect"]},{"emoji":"\ud83d\udca2","tags":["angry"]},{"emoji":"\ud83d\udca5","tags":["explode"]},{"emoji":"\ud83d\udcab","tags":["star"]},{"emoji":"\ud83d\udca6","tags":["water","workout"]},{"emoji":"\ud83d\udca8","tags":["wind","blow","fast"]},{"emoji":"\ud83d\udd73\ufe0f","tags":[]},{"emoji":"\ud83d\udca3","tags":["boom"]},{"emoji":"\ud83d\udcac","tags":["comment"]},{"emoji":"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f","tags":[]},{"emoji":"\ud83d\udde8\ufe0f","tags":[]},{"emoji":"\ud83d\uddef\ufe0f","tags":[]},{"emoji":"\ud83d\udcad","tags":["thinking"]},{"emoji":"\ud83d\udca4","tags":["sleeping"]},{"emoji":"\ud83d\udc4b","tags":["goodbye"]},{"emoji":"\ud83e\udd1a","tags":[]},{"emoji":"\ud83d\udd90\ufe0f","tags":[]},{"emoji":"\u270b","tags":["highfive","stop"]},{"emoji":"\ud83d\udd96","tags":["prosper","spock"]},{"emoji":"\ud83d\udc4c","tags":[]},{"emoji":"\ud83e\udd0c","tags":[]},{"emoji":"\ud83e\udd0f","tags":[]},{"emoji":"\u270c\ufe0f","tags":["victory","peace"]},{"emoji":"\ud83e\udd1e","tags":["luck","hopeful"]},{"emoji":"\ud83e\udd1f","tags":[]},{"emoji":"\ud83e\udd18","tags":[]},{"emoji":"\ud83e\udd19","tags":[]},{"emoji":"\ud83d\udc48","tags":[]},{"emoji":"\ud83d\udc49","tags":[]},{"emoji":"\ud83d\udc46","tags":[]},{"emoji":"\ud83d\udd95","tags":[]},{"emoji":"\ud83d\udc47","tags":[]},{"emoji":"\u261d\ufe0f","tags":[]},{"emoji":"\ud83d\udc4d","tags":["approve","ok"]},{"emoji":"\ud83d\udc4e","tags":["disapprove","bury"]},{"emoji":"\u270a","tags":["power"]},{"emoji":"\ud83d\udc4a","tags":["attack"]},{"emoji":"\ud83e\udd1b","tags":[]},{"emoji":"\ud83e\udd1c","tags":[]},{"emoji":"\ud83d\udc4f","tags":["praise","applause"]},{"emoji":"\ud83d\ude4c","tags":["hooray"]},{"emoji":"\ud83d\udc50","tags":[]},{"emoji":"\ud83e\udd32","tags":[]},{"emoji":"\ud83e\udd1d","tags":["deal"]},{"emoji":"\ud83d\ude4f","tags":["please","hope","wish"]},{"emoji":"\u270d\ufe0f","tags":[]},{"emoji":"\ud83d\udc85","tags":["beauty","manicure"]}]')},212:function(e,t,c){},213:function(e,t,c){},228:function(e,t,c){},259:function(e,t,c){},261:function(e,t,c){},266:function(e,t,c){},271:function(e,t,c){},272:function(e,t,c){},273:function(e,t,c){"use strict";c.r(t);var a,s,n=c(7),r=c.n(n),i=c(21),o=c(180),l=c(182),d=c(0),j=c.n(d),m=c(27),u=c(19),b=c(62),h=c(12),g=(c(204),c(18)),O=c(43),p=c(44),v=c(3),x=p.a.div(a||(a=Object(O.a)(["\n    background: ",";\n    border-radius: 50%;\n    width: 2.5rem;\n    height: 2.5rem;\n"])),(function(e){return e.color})),f=function(e){var t=e.k,c=e.rol;return Object(v.jsx)("div",{className:"allrolescolor",children:c&&c[t].color&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(x,{className:"allrolescolor__rolevalue",color:c[t].color}),Object(v.jsx)("div",{className:"allrolescolor__rolename",children:Object(v.jsxs)("p",{children:[": ",Object(v.jsx)("span",{className:"allrolescolor__rolename-span",children:t})]})})]})})},_=p.a.div(s||(s=Object(O.a)(["\n    background: ",";\n    border-radius: 50%;\n    width: 1.75rem;\n    height: 1.75rem;\n"])),(function(e){return e.color})),N=function(e){var t=e.rol,c=e.k,a=e.handleClick,s=e.roleheadid;return Object(v.jsx)("div",{onClick:function(){return a({photoURL:h.c.currentUser.photoURL,email:h.c.currentUser.email,id:t.id,rolename:c,number:t[c].number,color:t[c].color,name:h.c.currentUser.displayName,serverroletypeid:s,serverroleid:t[c].serverroleid})},children:t&&t[c].number&&Object(v.jsxs)("div",{className:"allroles",children:[Object(v.jsx)("div",{className:"allroles__button",children:Object(v.jsx)(_,{className:"allrolescolor__rolevalue",color:t[c].color})}),Object(v.jsx)("div",{className:"allroles__number",children:t[c].number})]})})},y=c(17),k=c(286),w=Object(o.a)((function(e){return{avatar:{width:e.spacing(4.5),height:e.spacing(4.5)}}})),U=function(e){var t=e.role,c=w(),a=Object(m.c)((function(e){return e.currentserver.id})),s=h.e.collection("roles").doc(a).collection("rolemenu").doc(t.id).collection("allroles"),n=Object(b.a)(s,{idField:"id"}),o=Object(u.a)(n,1)[0],l=Object(d.useState)(0),j=Object(u.a)(l,2),O=j[0],p=j[1],x=function(){var e=Object(i.a)(r.a.mark((function e(c){var n,i,o,l,d,j,m,u,b,v,x;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(O+1),!(O>0)){e.next=3;break}return e.abrupt("return");case 3:return n=h.e.collection("users").doc(h.c.currentUser.uid),i=c.rolename,o=c.id,l=c.email,d=c.photoURL,j=c.name,m=c.serverroleid,u=c.serverroletypeid,b=c.color,e.next=7,n.get();case 7:return v=e.sent.data(),e.next=10,n.get();case 10:if(x=e.sent,!v||!v.roles){e.next=23;break}if(!v.roles[a]||!v.roles[a][t.rolename]){e.next=16;break}return e.abrupt("return");case 16:return console.log("not present"),e.next=19,n.set({roles:Object(g.a)({},a,Object(g.a)({},t.rolename,{yourrole:i,color:b}))},{merge:!0});case 19:h.e.collection("servers").doc(a).collection("allroles").doc(u).collection("allroles").doc(m).collection("allusers").doc(x.id).set({username:j,photoURL:d,email:l,createdAt:y.a.firestore.FieldValue.serverTimestamp()}),s.doc(o).update(Object(g.a)({},"".concat(i,".number"),y.a.firestore.FieldValue.increment(1)));case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"rolesdocument__main-individual",children:[Object(v.jsx)("div",{className:"rolesdocument__header-photo",children:Object(v.jsx)(k.a,{className:c.avatar,src:"/discord-clone/bot.png"})}),Object(v.jsxs)("div",{className:"rolesdocument__content",children:[Object(v.jsxs)("div",{className:"rolesdocument__content-header",children:[Object(v.jsx)("div",{className:"rolesdocument__content-name",children:"Discord Bot"}),Object(v.jsx)("div",{className:"rolesdocument__content-date",children:"".concat(t.createdAt&&t.createdAt.toDate().getDate()+"/"+(t.createdAt.toDate().getMonth()+1)+"/"+t.createdAt.toDate().getFullYear())})]}),Object(v.jsxs)("div",{className:"rolesdocument__message",children:[Object(v.jsx)("div",{className:"rolesdocument__message-rolemenu",children:Object(v.jsxs)("p",{children:["Role Menu: ",t.rolename]})}),Object(v.jsx)("div",{className:"rolesdocument__message-react",children:"React to give yourself a role."}),Object(v.jsx)("div",{className:"rolesdocument__message-allroles",children:o&&o.map((function(e,t){var c=Object.keys(e);return Object(v.jsx)("div",{children:c.map((function(t,c){return Object(v.jsx)(f,{rol:e,k:t},c)}))},t)}))}),Object(v.jsx)("div",{className:"rolesdocument__message-rolebuttons",children:o&&o.map((function(e){return Object.keys(e).map((function(c,a){return Object(v.jsx)(N,{rol:e,k:c,handleClick:x,roleheading:t.rolename,roleheadid:t.serverroletypeid},a)}))}))})]})]})]})},C=function(e){var t=e.roleid,c=h.e.collection("roles").doc(t).collection("rolemenu").orderBy("createdAt").limit(10),a=Object(b.a)(c,{idField:"id"}),s=Object(u.a)(a,1)[0];return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"rolesdocument",children:Object(v.jsx)("div",{className:"rolesdocument__main",children:s&&s.map((function(e){return Object(v.jsx)(U,{role:e},e.id)}))})})})},S=function(){var e=Object(m.c)((function(e){return e.currentserver.id})),t=h.e.collection("servers").doc(e),c=Object(b.b)(t),a=Object(u.a)(c,1)[0];return Object(v.jsx)(v.Fragment,{children:a&&h.c.currentUser&&Object(v.jsx)(C,{roleid:e})})},F=(c(205),c(210)),z=c.n(F),R=function(e){return{type:"Current_message",payload:e}},A=function(){return{type:"Clicked"}},L=c(198),D=c.n(L),T=c(211),E=c.n(T),V=function(e){return{type:"Reply_message",payload:e}},M=function(){return{type:"Reply_toggle"}},I=(c(206),c(207),c(208)),B=c(209),q=c.n(B),P=function(){var e=Object(d.useState)(""),t=Object(u.a)(e,2),c=t[0],a=t[1],s=Object(d.useState)([]),n=Object(u.a)(s,2),r=n[0],i=n[1];return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"emojicontainer",children:[console.log(r),Object(v.jsxs)("div",{className:"emojicontainer__header",children:[Object(v.jsxs)("div",{className:"emojicontainer__header-inputdiv",children:[Object(v.jsx)("form",{onSubmit:function(e){i([]),e.preventDefault();var t=[];I.map((function(e){return e.tags.map((function(a){a===c&&t.push(e)}))})),i(t),a("")},className:"emojicontainer__header-form",children:Object(v.jsx)("input",{type:"text",onChange:function(e){a(e.target.value)},value:c,autoFocus:!0,placeholder:"find the perfect emoji",className:"emojicontainer__header-input"})}),Object(v.jsx)("div",{className:"emojicontainer__header-search",children:Object(v.jsx)(q.a,{style:{fontSize:"2rem",color:"#72767d"}})})]}),Object(v.jsx)("div",{className:"emojicontainer__header-handicon",children:"\ud83d\udc4f"})]}),Object(v.jsxs)("div",{className:"emojicontainer__body",children:[Object(v.jsx)("div",{className:"emojicontainer__sidebar",children:Object(v.jsxs)("div",{className:"emojicontainer__sidebar-items",children:[Object(v.jsx)("div",{className:"emojicontainer__sidebar-item",children:"\ud83d\ude03"}),Object(v.jsx)("div",{className:"emojicontainer__sidebar-item",children:"\ud83d\ude2c"}),Object(v.jsx)("div",{className:"emojicontainer__sidebar-item",children:"\ud83e\udd2a"})]})}),Object(v.jsxs)("div",{className:"emojicontainer__content",children:[Object(v.jsx)("div",{className:"emojicontainer__content-header",children:"IN DEVELOPMENT"}),Object(v.jsxs)("div",{className:"emojicontainer__content-items",children:[r.length?r.map((function(e,t){return Object(v.jsx)("div",{className:"emojicontainer__content-item",children:e.emoji},t)})):I&&I.map((function(e,t){return Object(v.jsx)("div",{className:"emojicontainer__content-item",children:e.emoji},t)})),I&&I.map((function(e,t){return Object(v.jsx)("div",{className:"emojicontainer__content-item",children:e.emoji},t)}))]})]})]})]})})},J=Object(o.a)((function(){return{chatmenu:{display:"flex"},icon:{color:"#dadbdc","&:hover":{backgroundColor:"#3a3e44"}},myicon:{color:"#b9bbbe",width:"1.8rem",height:"1.8rem"},deleteicon:{width:"1.8rem",height:"1.8rem",color:"#f04747"}}}));var Y=function(e){var t=e.msg,c=J(),a=Object(m.b)(),s=Object(m.c)((function(e){return e.doc.id})),n=Object(m.c)((function(e){return e.currentserver.id})),r=Object(d.useState)(!1),i=Object(u.a)(r,2),o=i[0],l=i[1],j=Object(d.useState)(!1),b=Object(u.a)(j,2),g=b[0],O=b[1],p=Object(d.useState)(!1),x=Object(u.a)(p,2),f=x[0],_=x[1],N=function(){a(R({id:t.id,msg:t.message})),a(A())},y=function(){document.getElementById("myTextField").focus(),a(V({id:t.id,sender:t.sendername,msg:t.message,photo:t.senderphoto})),a(M())};return Object(v.jsxs)("div",{className:"chatmenu",children:[f&&Object(v.jsx)("div",{className:"emojcontain",children:Object(v.jsx)(P,{})}),Object(v.jsx)("div",{className:"chatmenu__addreaction",onClick:function(){_(!f)},children:Object(v.jsx)("img",{className:"chatmenu__image",src:"/discord-clone/addreaction.png",alt:""})}),h.c.currentUser.email===t.senderemail?Object(v.jsx)("div",{className:"chatmenu__edt",onClick:N,children:Object(v.jsx)("img",{className:"chatmenu__image",src:"/discord-clone/edit.png",alt:""})}):Object(v.jsx)("div",{className:"chatmenu__reply",onClick:y,children:Object(v.jsx)("img",{className:"chatmenu__image",src:"/discord-clone/reply.png",alt:"reply"})}),Object(v.jsx)("div",{className:"chatmenu__more",onClick:function(){console.log("called"),h.c.currentUser.email===t.senderemail?O(!g):l(!o)},children:Object(v.jsx)("img",{className:"chatmenu__image",src:"/discord-clone/more.png",alt:"more"})}),g&&Object(v.jsx)("div",{className:"morebox",children:Object(v.jsxs)("div",{className:"morebox__container",children:[Object(v.jsxs)("div",{className:"morebox__item",onClick:N,children:[Object(v.jsx)("div",{className:"morebox__item-label",children:"Edit message"}),Object(v.jsx)("div",{className:"morebox__item-icon",children:Object(v.jsx)(z.a,{className:c.myicon})})]}),Object(v.jsxs)("div",{className:"morebox__item",onClick:function(){h.e.collection("servers").doc(n).collection("channels").doc(s).collection("messages").doc(t.id).delete()},children:[Object(v.jsx)("div",{className:"morebox__item-deletelabel",children:"Delete Message"}),Object(v.jsx)("div",{className:"morebox_item-icon",children:Object(v.jsx)(D.a,{className:c.deleteicon})})]})]})}),o&&Object(v.jsx)("div",{className:"morebox",children:Object(v.jsx)("div",{className:"morebox__container",children:Object(v.jsxs)("div",{className:"morebox__item",onClick:y,children:[Object(v.jsx)("div",{className:"morebox__item-label",children:"Reply Message"}),Object(v.jsx)("div",{className:"morebox_item-icon",children:Object(v.jsx)(E.a,{className:c.myicon})})]})})})]})};c(212);var W=function(){var e,t,c=Object(m.c)((function(e){return e.msg.id})),a=Object(m.c)((function(e){return e.doc.id})),s=Object(m.c)((function(e){return e.msg.msg})),n=Object(d.useState)(s),r=Object(u.a)(n,2),i=r[0],o=r[1],l=Object(m.c)((function(e){return e.currentserver.id})),j=Object(m.b)(),b=function(e){console.log("called"),e.preventDefault();var t=h.e.collection("servers").doc(l).collection("channels").doc(a).collection("messages").doc(c);console.log(t),t.update({message:i}),j(A())};return e="Escape",t=function(){j(A())},Object(d.useEffect)((function(){function c(c){c.key===e&&t()}return window.addEventListener("keyup",c),function(){return window.removeEventListener("keyup",c)}}),[]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("form",{onSubmit:b,children:[Object(v.jsx)("div",{className:"chatedit",children:Object(v.jsx)("input",{type:"text",required:!0,value:i,onChange:function(e){o(e.target.value)},style:{width:"100%"},className:"chatedit__inputarea"})}),Object(v.jsx)("div",{className:"editinstruction",children:Object(v.jsxs)("p",{className:"editinstruction__p",children:["escape to ",Object(v.jsx)("span",{className:"editinstruction__span",onClick:function(){return j(A())},children:"cancel"})," \u2022 enter to ",Object(v.jsx)("span",{className:"editinstruction__span",onClick:b,children:"save"})]})})]})})},Z=c(214),G=c.n(Z),H=(c(213),Object(o.a)((function(e){return{small:{width:e.spacing(2.2),height:e.spacing(2.2),marginRight:e.spacing(.5)}}})));var $=function(e){var t=e.msg,c=Object(m.c)((function(e){return e.currentrole.admin})),a=H();return Object(v.jsxs)("div",{className:"chatreply",children:[Object(v.jsx)("div",{className:"chatreply__photo",children:Object(v.jsx)(k.a,{className:a.small,src:t.reply.photo})}),Object(v.jsxs)("div",{className:"".concat(c&&c.admin===t.reply.sender&&"chatreply__sender-admin"," chatreply__sender"),children:["@",t.reply.sender]}),Object(v.jsx)("div",{className:"chatreply__message",children:t.reply.msg?t.reply.msg.slice(0,100)+"...":Object(v.jsx)(G.a,{})})]})},K=c(215),Q=c.n(K);var X=function(e){var t=e.msg,c=Object(d.useState)(""),a=Object(u.a)(c,2),s=a[0],n=a[1];return Object(d.useEffect)((function(){return fetch("https://www.youtube.com/oembed?url=".concat(t,"&maxwidth=400&maxheight=225&format=json")).then((function(e){if(e.ok)return e.json();throw e.ok})).then((function(e){return n(e)})).catch((function(e){return console.log(e)})),function(){}}),[t]),Object(v.jsx)(v.Fragment,{children:s&&Object(v.jsx)("div",{className:"rendervideo",children:Object(v.jsxs)("div",{className:"rendervideo__videocontainer",children:[Object(v.jsx)("a",{href:s.provider_url,target:"_blank",rel:"noreferrer",className:"rendervideo__videocontainer-providerlink",children:Object(v.jsx)("div",{className:"rendervideo__videocontainer-providername",children:"YouTube"})}),Object(v.jsx)("a",{href:s.author_url,target:"_blank",rel:"noreferrer",className:"rendervideo__videocontainer-authorurl",children:Object(v.jsx)("p",{className:"rendervideo__videocontainer-authorname",children:s.author_name})}),Object(v.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",className:"rendervideo__videocontainer-title",children:Object(v.jsx)("div",{className:"rendervideo__videocontainer-titlename",children:s.title&&s.title.length<66?s.title:s.title.slice(0,66)+"..."})}),s&&Object(v.jsx)("div",{dangerouslySetInnerHTML:{__html:s.html}})]})})})};var ee=function(e){var t=e.msg;return Object(v.jsxs)("div",{className:"renderaudio",children:[Object(v.jsxs)("div",{className:"renderaudio__name",children:[" ",t&&t.audioname]}),Object(v.jsx)("div",{className:"renderaudio__mainplayer",children:Object(v.jsx)("div",{className:"renderaudio__player",children:Object(v.jsxs)("audio",{className:"renderaudio__player-music",controls:!0,src:t.audiourl,preload:"metadata",children:["Your browser does not support the",Object(v.jsx)("code",{children:"audio"})," element."]})})})]})},te=Object(o.a)((function(e){return{avatar:{width:e.spacing(4.5),height:e.spacing(4.5)}}})),ce=function(e){var t=e.msg,c=Object(d.useState)(!1),a=Object(u.a)(c,2),s=a[0],n=a[1],r=t.message.replaceAll("\\n","\n"),i=te(),o=Object(m.c)((function(e){return e.msg.id})),l=Object(m.c)((function(e){return e.currentrole.admin})),j=Object(m.c)((function(e){return e.click.clicked})),b=function(e){return e.match(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi)};return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"".concat(t.reply&&"chatmessage__main--replied"," chatmessage__main ").concat(j&&o===t.id&&"chatmessage__main--edit"),children:Object(v.jsx)("div",{onMouseEnter:function(){return n(!0)},onMouseLeave:function(){return n(!1)},className:"chatmessage",children:Object(v.jsxs)("div",{className:"chatmessage",children:[Object(v.jsxs)("div",{className:"chatmessage__replycontent",children:[t.reply&&Object(v.jsx)("img",{className:"chatmessage__replycontent--replyimage",src:"/discord-clone/discord-reply.png",alt:"reply"}),Object(v.jsx)("div",{className:"chatmessage__replycontent--content",children:t.reply&&Object(v.jsx)($,{msg:t})})]}),Object(v.jsxs)("div",{className:"chatmessage__header",children:[Object(v.jsx)("div",{className:"".concat(t.reply&&"chatmessage__header-photo--replied"," chatmessage__header-photo"),children:Object(v.jsx)(k.a,{className:i.avatar,src:"".concat(t&&t.senderphoto)})}),Object(v.jsxs)("div",{className:"chatmessage__content",children:[Object(v.jsxs)("div",{className:"chatmessage__content-header",children:[Object(v.jsx)("div",{className:"".concat(l&&l.admin===t.sendername&&"chatmessage__content-admin"," chatmessage__content-name"),children:"".concat(t&&t.sendername)}),Object(v.jsx)("div",{className:"chatmessage__content-date",children:"".concat(t.createdAt&&t.createdAt.toDate().getDate()+"/"+(t.createdAt.toDate().getMonth()+1)+"/"+t.createdAt.toDate().getFullYear())}),Object(v.jsx)("div",{className:"".concat(t.reply&&"chatmessage__content-menu--replied"," chatmessage__content-menu chatmessage__content-menu-normal"),children:s&&Object(v.jsx)(Y,{msg:t})})]}),Object(v.jsxs)("div",{className:"chatmessage__message",children:[Object(m.c)((function(e){return e.click.clicked}))&&t.id===o?Object(v.jsx)(W,{}):Object(v.jsx)(Q.a,{componentDecorator:function(e,c,a){return Object(v.jsx)("a",{className:"".concat(b(t.message)&&"linkify__videotext"," linkify__text"),href:e,target:"_blank",rel:"noreferrer",children:c},a)},children:t&&t.message?r:!t.base64&&Object(v.jsx)(ee,{msg:t})}),t.base64&&Object(v.jsx)("img",{src:t.base64,alt:"cannot decode"}),b(t.message)&&Object(v.jsx)(X,{msg:b(t.message)})]})]})]})]})})})})},ae=function(){var e=Object(m.c)((function(e){return e.doc.id})),t=Object(m.c)((function(e){return e.currentserver.id})),c=h.e.collection("servers").doc(t).collection("channels").doc(e).collection("messages").orderBy("createdAt"),a=Object(b.a)(c,{idField:"id"}),s=Object(u.a)(a,1)[0],n=Object(m.c)((function(e){return e.doc.name}));return Object(v.jsx)("div",{children:"roles"===n?Object(v.jsx)(S,{}):s&&s.map((function(e){return Object(v.jsx)(ce,{msg:e},e.id)}))})},se=(c(228),c(255)),ne=c.n(se),re=c(256),ie=c.n(re),oe=c(257),le=c.n(oe),de=c(258),je=c.n(de),me=c(274),ue=c(66),be=c.n(ue),he=function(){return{type:"Change_open"}},ge=Object(o.a)({drop:{backgroundColor:"#2C2F33",color:"#e6e8e8"},icon:{color:"gray"}});var Oe=function(){var e=Object(m.c)((function(e){return e.doc.id})),t=Object(m.c)((function(e){return e.currentserver.id})),c=Object(m.c)((function(e){return e.replytoggle.clicked})),a=Object(m.c)((function(e){return e.reply})),s=ge(),n=Object(m.b)(),o=function(e){return new Promise((function(t){be.a.imageFileResizer(e,350,350,"JPEG",100,0,(function(e){t(e)}),"base64")}))},l=function(){var s=Object(i.a)(r.a.mark((function s(i){var l,d,j,m,u,b;return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!["audio/mpeg","audio/mp4","audio/ogg","audio/wav"].includes(i[0].type)){s.next=14;break}return l=i[0],console.log(l),s.prev=3,n(he()),d=h.f.ref(),j=d.child(l.name),s.next=9,j.put(l).then((function(){j.getDownloadURL().then((function(s){console.log(s);var r=h.e.collection("servers").doc(t).collection("channels").doc(e).collection("messages");c?(n(M()),r.add({message:"",audioname:l.name,audiourl:s,audiosize:l.size,sendername:h.c.currentUser.displayName,senderemail:h.c.currentUser.email,senderuid:h.c.currentUser.uid,senderphoto:h.c.currentUser.photoURL,createdAt:y.a.firestore.FieldValue.serverTimestamp(),reply:a})):r.add({message:"",audioname:l.name,audiourl:s,audiosize:l.size,sendername:h.c.currentUser.displayName,senderemail:h.c.currentUser.email,senderuid:h.c.currentUser.uid,senderphoto:h.c.currentUser.photoURL,createdAt:y.a.firestore.FieldValue.serverTimestamp()})})),console.log("Uploaded a file")}));case 9:s.next=14;break;case 11:s.prev=11,s.t0=s.catch(3),console.log(s.t0);case 14:if(!["image/jpeg","image/png","image/bmp","image/x-icon"].includes(i[0].type)){s.next=36;break}return m=i[0],console.log(m),s.prev=17,n(he()),s.next=21,o(m);case 21:if(u=s.sent,b=h.e.collection("servers").doc(t).collection("channels").doc(e).collection("messages"),!c){s.next=29;break}return n(M()),s.next=27,b.add({message:"",base64:u,sendername:h.c.currentUser.displayName,senderemail:h.c.currentUser.email,senderuid:h.c.currentUser.uid,senderphoto:h.c.currentUser.photoURL,createdAt:y.a.firestore.FieldValue.serverTimestamp(),reply:a});case 27:s.next=31;break;case 29:return s.next=31,b.add({message:"",base64:u,sendername:h.c.currentUser.displayName,senderemail:h.c.currentUser.email,senderuid:h.c.currentUser.uid,senderphoto:h.c.currentUser.photoURL,createdAt:y.a.firestore.FieldValue.serverTimestamp()});case 31:s.next=36;break;case 33:s.prev=33,s.t1=s.catch(17),console.log(s.t1);case 36:case"end":return s.stop()}}),s,null,[[3,11],[17,33]])})));return function(e){return s.apply(this,arguments)}}();return Object(v.jsx)("div",{children:Object(v.jsx)(me.a,{dropzoneClass:s.drop,classes:{icon:s.icon,image:s.imageContainer},showPreviews:!1,showPreviewsInDropzone:!1,maxFileSize:1e7,filesLimit:1,onAdd:l,onDrop:l})})},pe=c(254),ve=c.n(pe),xe=Object(o.a)({button:{margin:0,padding:".1rem",color:"#b9bbbe"},icon:{width:"1.8rem"}});var fe=function(){var e=xe(),t=Object(m.b)();return Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:"chatsearchbar__reply",children:[Object(v.jsxs)("div",{className:"chatsearchbar__reply-text",children:["Replying to ",Object(m.c)((function(e){return e.reply.sender}))]}),Object(v.jsx)("div",{className:"chatsearchnar__reply-close",children:Object(v.jsx)(l.a,{className:e.button,onClick:function(){t(M())},children:Object(v.jsx)(ve.a,{fontSize:"large",className:e.icon})})})]})})},_e=Object(o.a)((function(){return{button:{color:"#b8bbc0",padding:"0 .75rem"},addbutton:{backgroundColor:"#40454b",color:"#b8bbc0",padding:".9rem 1rem","&:hover":{backgroundColor:"#40454b"}}}}));var Ne=function(){var e=Object(m.b)(),t=_e(),c=Object(d.useState)(!1),a=Object(u.a)(c,2),s=a[0],n=a[1],o=Object(d.useState)(""),j=Object(u.a)(o,2),g=j[0],O=j[1],p=Object(m.c)((function(e){return e.currentserver.id})),x=Object(m.c)((function(e){return e.doc.id})),f=h.e.collection("servers").doc(p).collection("channels").doc(x).collection("messages"),_=Object(m.c)((function(e){return e.reply})),N=Object(m.c)((function(e){return e.replytoggle.clicked})),k=Object(m.c)((function(e){return e.doc.name})),w=f.orderBy("createdAt","desc").limit(1),U=Object(b.a)(w,{idField:"id"}),C=Object(u.a)(U,1)[0],S=function(){var t=Object(i.a)(r.a.mark((function t(c){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),"roles"!==k){t.next=4;break}return O("Not authorized to send message here"),t.abrupt("return");case 4:if(N){t.next=15;break}if(!C.length||C[0].senderemail!==h.c.currentUser.email){t.next=11;break}return a=f.doc(C[0].id),t.next=9,a.update({message:C[0].message+"\\n"+g},{merge:!0});case 9:t.next=13;break;case 11:return t.next=13,f.add({message:g,sendername:h.c.currentUser.displayName,senderemail:h.c.currentUser.email,senderuid:h.c.currentUser.uid,senderphoto:h.c.currentUser.photoURL,createdAt:y.a.firestore.FieldValue.serverTimestamp()});case 13:t.next=18;break;case 15:return t.next=17,f.add({message:g,sendername:h.c.currentUser.displayName,senderemail:h.c.currentUser.email,senderuid:h.c.currentUser.uid,senderphoto:h.c.currentUser.photoURL,createdAt:y.a.firestore.FieldValue.serverTimestamp(),reply:_});case 17:e(M());case 18:O("");case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(v.jsxs)("div",{style:{position:"relative"},children:[Object(m.c)((function(e){return e.replytoggle.clicked}))&&Object(v.jsx)(fe,{}),Object(v.jsxs)("div",{className:"chatsearchbar",children:[Object(v.jsx)("div",{className:"chatsearchbar__addicon",children:Object(v.jsx)(l.a,{className:t.addbutton,onClick:function(){e(he())},"aria-label":"settings",children:Object(v.jsx)(ne.a,{fontSize:"large"})})}),Object(v.jsx)("div",{className:"chatsearchbar__input",children:Object(v.jsx)("form",{onSubmit:S,children:Object(v.jsx)("input",{autoFocus:!0,id:"myTextField",value:g,required:!0,onChange:function(e){O(e.target.value)},className:"chatsearchbar__input-text",placeholder:"Message #".concat(Object(m.c)((function(e){return e.doc.name}))),type:"text"})})}),Object(v.jsx)("div",{className:"chatsearchbar__gifticon",children:Object(v.jsx)(l.a,{className:t.button,"aria-label":"settings",children:Object(v.jsx)(ie.a,{style:{fontSize:30}})})}),Object(v.jsx)("div",{className:"chatsearchbar__gifcon",children:Object(v.jsx)(l.a,{className:t.button,"aria-label":"settings",children:Object(v.jsx)(le.a,{style:{fontSize:30}})})}),Object(v.jsx)("div",{className:"chatsearchbar__emojiicon",children:Object(v.jsx)(l.a,{className:t.button,onClick:function(){n(!s)},"aria-label":"settings",children:Object(v.jsx)(je.a,{style:{fontSize:30}})})})]}),s&&Object(v.jsx)("div",{className:"emojipicker",children:Object(v.jsx)(P,{})}),Object(m.c)((function(e){return e.open.open}))&&Object(v.jsx)("div",{className:"upload",children:Object(v.jsx)(Oe,{})})]})},ye=c(74),ke=c(195),we=c(188),Ue=c(185),Ce=c(186),Se=c(147),Fe=c(260),ze=c.n(Fe),Re=(c(259),Object(o.a)((function(e){return{button:{padding:e.spacing(1),color:"#fff"},typo:{color:"#fcfdfe",textTransform:"uppercase"},dialog:{backgroundColor:"#363940"},dialogaction:{backgroundColor:"#363940",padding:"4% 6.5%"},paper:{minWidth:"25%"}}})));function Ae(){var e=Re(),t=j.a.useState(!1),c=Object(u.a)(t,2),a=c[0],s=c[1],n=Object(d.useState)(""),o=Object(u.a)(n,2),b=o[0],g=o[1],O=function(){s(!1)},p=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,f.add({channel:b,createdAt:y.a.firestore.FieldValue.serverTimestamp(),email:h.c.currentUser.email}).then((function(){console.log("Document Added")})).catch((function(e){console.log(e)}));case 3:g("");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=Object(m.c)((function(e){return e.currentserver.id})),f=h.e.collection("servers").doc(x).collection("channels");return Object(v.jsxs)("div",{children:[Object(v.jsx)(l.a,{onClick:function(){s(!0)},className:e.button,"aria-label":"settings",children:Object(v.jsx)(ze.a,{fontSize:"large"})}),Object(v.jsxs)(ke.a,{open:a,onClose:O,"aria-labelledby":"form-dialog-title",classes:{paper:e.paper},children:[Object(v.jsxs)(Ue.a,{className:e.dialog,children:[Object(v.jsx)(Ce.a,{children:Object(v.jsx)(Se.a,{variant:"h5",className:e.typo,children:"Channel name"})}),Object(v.jsx)("input",{type:"text",required:!0,className:"input",autoFocus:!0,placeholder:"Type channel name",onChange:function(e){return g(e.target.value)},value:b})]}),Object(v.jsx)(we.a,{className:e.dialogaction,children:Object(v.jsx)("form",{onSubmit:p,className:"form",children:Object(v.jsx)("button",{type:"submit",onClick:O,className:"form__button",children:"Add"})})})]})]})}c(199);var Le=c(15),De=function(e){var t=e.msg,c=Object(Le.g)(),a=Object(m.c)((function(e){return e.doc.id})),s=Object(m.c)((function(e){return e.currentserver.id}));return Object(v.jsx)("div",{children:Object(v.jsxs)("p",{onClick:function(){c.push("/discord-clone/channels/".concat(s,"/").concat(t.id))},className:"".concat(a===t.id&&"clicked"," sidebarchannel__content"),children:[Object(v.jsx)("span",{className:"sidebarchannel__hash",children:"#"}),t.channel]},t.id)})},Te=function(){var e=Object(m.c)((function(e){return e.currentserver.id})),t=h.e.collection("servers").doc(e).collection("channels"),c=Object(d.useState)([]),a=Object(u.a)(c,2),s=a[0],n=a[1];return Object(d.useEffect)((function(){var e=[];return function(){var c=Object(i.a)(r.a.mark((function c(){return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,t.orderBy("createdAt").get().then((function(t){t.docs.map((function(t){var c=t.data();return c.id=t.id,e.push(c)}))}));case 2:n(e);case 3:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}()(),function(){}}),[e]),Object(v.jsx)("div",{children:Object(v.jsx)("div",{className:"sidebarchannel",children:s&&!!s.length&&s.map((function(e){return Object(v.jsx)(De,{msg:e},e.id)}))})})},Ee=c(262),Ve=c.n(Ee),Me=c(264),Ie=c.n(Me),Be=c(265),qe=c.n(Be),Pe=c(263),Je=c.n(Pe),Ye=c(189),We=(c(261),Object(o.a)((function(){return{signal:{color:"#43b380"},end:{color:"#babbbf"},button:{fontSize:"14px",color:"#fff",backgroundColor:"#363940",padding:"5px 1.9rem",textTransform:"none"}}})));var Ze=function(){var e=We();return Object(v.jsxs)("div",{className:"sidebarvoice",children:[Object(v.jsxs)("div",{className:"sidebarvoice__header",children:[Object(v.jsxs)("div",{className:"sidebarvoice__connect",children:[Object(v.jsx)("div",{className:"sidebarvoice__connect-icon",children:Object(v.jsx)(l.a,{className:e.signal,"aria-label":"settings",children:Object(v.jsx)(Ve.a,{fontSize:"large"})})}),Object(v.jsx)("div",{className:"sidebarvoice__connect-connected",children:"Voice Connected"})]}),Object(v.jsx)("div",{className:"sidebarvoice__disconnect",children:Object(v.jsx)(l.a,{className:e.end,"aria-label":"settings",children:Object(v.jsx)(Je.a,{fontSize:"large"})})})]}),Object(v.jsxs)("div",{className:"sidebarvoice__stream",children:[Object(v.jsx)("div",{className:"sidebarvoice__stream-video",children:Object(v.jsx)(Ye.a,{variant:"text",className:e.button,startIcon:Object(v.jsx)(Ie.a,{}),children:" Video "})}),Object(v.jsx)("div",{className:"sidebarvoice__stream-screen",children:Object(v.jsx)(Ye.a,{variant:"text",className:e.button,startIcon:Object(v.jsx)(qe.a,{}),children:" Screen "})})]})]})},Ge=c(284),He=c(11),$e=c(86),Ke=c(270),Qe=c.n(Ke),Xe=c(267),et=c.n(Xe),tt=c(268),ct=c.n(tt),at=c(269),st=c.n(at),nt=(c(266),Object(He.a)((function(e){return{badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(Ge.a)),rt=Object(o.a)((function(e){return{settings:{display:"flex",flexWrap:"wrap"},icon:{padding:".5rem",color:"#babbbf"},avatar:{width:"3.25rem",height:"3.25rem"}}}));function it(){var e=Object(Le.g)(),t=Object($e.a)(h.c),c=Object(u.a)(t,1)[0],a=Object(d.useState)(!1),s=Object(u.a)(a,2),n=s[0],o=s[1],j=rt(),m=function(){var t=Object(i.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.c.signOut();case 2:e.push("/discord-clone");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:"profile",children:[Object(v.jsxs)("div",{className:"profile__avatar",children:[Object(v.jsx)(nt,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:Object(v.jsx)(k.a,{alt:"Remy Sharp",src:"".concat(c&&c.photoURL?c.photoURL:null),className:j.avatar})}),Object(v.jsxs)("div",{className:"profile__name",children:[Object(v.jsx)("div",{className:"profile__name-name",children:"".concat(c&&c.displayName?c.displayName:null)}),Object(v.jsxs)("div",{className:"profile__name-uid",children:["#",c&&c.uid.slice(0,6)]})]})]}),Object(v.jsxs)("div",{className:j.settings,children:[Object(v.jsx)(l.a,{className:j.icon,onClick:function(){return o(!n)},"aria-label":"settings",children:n?Object(v.jsx)(et.a,{fontSize:"large"}):Object(v.jsx)(ct.a,{fontSize:"large"})}),Object(v.jsx)(l.a,{className:j.icon,"aria-label":"settings",children:Object(v.jsx)(st.a,{fontSize:"large"})}),Object(v.jsx)(l.a,{className:j.icon,"aria-label":"settings",onClick:m,children:Object(v.jsx)(Qe.a,{fontSize:"large"})})]})]})})}var ot,lt,dt,jt=c(87),mt=c.n(jt),ut=(c(271),Object(o.a)({avatar:{width:"3rem",height:"3rem"},profileavatar:{width:"8rem",height:"8rem"},outlined:function(e){return{color:e.map((function(e){return e.color}))}}})),bt=p.a.p(ot||(ot=Object(O.a)(["\n    color:","\n"])),(function(e){return e.color})),ht=p.a.svg(lt||(lt=Object(O.a)(["\n    display:'inline-block'\n"]))),gt=p.a.div(dt||(dt=Object(O.a)(["\n    border-color:","\n"])),(function(e){return e.color})),Ot=function(e){var t=e.user,c=e.color,a=Object(d.useState)(!1),s=Object(u.a)(a,2),n=s[0],r=s[1],i=Object(d.useState)(null),o=Object(u.a)(i,2),l=o[0],j=o[1],b=Object(d.useState)([]),g=Object(u.a)(b,2),O=g[0],p=g[1],x=h.e.collection("users"),f=Object(m.c)((function(e){return e.currentserver.id})),_=ut(O);return Object(v.jsxs)("div",{onClick:function(e){x.get().then((function(e){return e.docs.forEach((function(e){if(e.data().userphoto===t.photoURL)for(var c=Object.keys(e.data().roles),a=function(){var t=n[s];if(f&&t===f){var c=Object.keys(e.data().roles[t]),a=[];c.map((function(c){a.push(e.data().roles[t][c])})),p(a)}},s=0,n=c;s<n.length;s++)a()}))})),r(!n),p([]),j(l?null:e.currentTarget)},onMouseLeave:function(){r(!1)},children:[n&&Object(v.jsxs)("div",{className:"roleprofile",children:[Object(v.jsxs)("div",{className:"roleprofile__header",children:[Object(v.jsx)("div",{className:"roleprofile__header-photo",children:Object(v.jsx)(k.a,{src:t.photoURL&&t.photoURL,className:_.profileavatar})}),Object(v.jsx)("div",{className:"roleprofile__header-username",children:t.username&&t.username}),Object(v.jsx)("div",{className:"roleprofile__header-status",children:"\ud83d\ude4c my website"})]}),Object(v.jsxs)("div",{className:"roleprofile__content",children:[Object(v.jsx)("div",{className:"roleprofile__content-heading",children:"ROLES"}),Object(v.jsx)("div",{className:"roleprofile__content-roles",children:O&&O.map((function(e,t){return Object(v.jsxs)(gt,{className:"chip",color:e.color,children:[Object(v.jsx)("div",{className:"chip__avatar",children:Object(v.jsx)(ht,{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:Object(v.jsx)("circle",{cx:"50",cy:"50",r:"50",fill:e.color})})}),Object(v.jsx)("div",{className:"chip__label",color:e.color,children:e.yourrole})]},t)}))})]})]}),Object(v.jsxs)("div",{className:"roles__box",children:[Object(v.jsx)("div",{className:"roles__box-avatar",children:Object(v.jsx)(k.a,{className:_.avatar,src:t.photoURL&&t.photoURL})}),Object(v.jsxs)("div",{className:"roles__content",children:[Object(v.jsx)("div",{className:"roles__content-name",children:Object(v.jsx)(bt,{color:c,className:"roles__content--squad",children:t.username&&t.username})}),Object(v.jsx)("div",{className:"roles__content-status",children:t.status&&t.status})]})]})]})},pt=function(e){var t=e.myrole,c=e.color,a=e.rolemap.doc(t.id).collection("allusers"),s=Object(b.a)(a,{idField:"id"}),n=Object(u.a)(s,1)[0];return Object(v.jsx)("div",{className:"myroles",children:Object(v.jsx)("div",{className:"myroles__user",children:n&&n.map((function(e){return Object(v.jsx)(Ot,{user:e,color:c},e.id)}))})})},vt=function(e){var t=e.role,c=Object(m.c)((function(e){return e.currentserver.id})),a=h.e.collection("servers").doc(c).collection("allroles").doc(t.id).collection("allroles"),s=Object(b.a)(a,{idField:"id"}),n=Object(u.a)(s,1)[0];return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"rolescategory",children:[Object(v.jsx)("div",{className:"roles__heading",children:Object(v.jsxs)("h2",{className:"roles__heading-h2",children:[t&&t.rolename," \u2014  ",n&&n.length]})}),n&&n.map((function(e){return Object(v.jsx)(pt,{myrole:e,rolemap:a,color:e&&e.color},e.id)}))]})})},xt=Object(o.a)({avatar:{width:"3rem",height:"3rem"}});var ft=function(){var e=xt(),t=Object(m.c)((function(e){return e.currentserver.id})),c=h.e.collection("servers").doc(t),a=Object(b.b)(c),s=Object(u.a)(a,1)[0],n=c.collection("allroles").orderBy("createdAt"),r=Object(b.a)(n,{idField:"id"}),i=Object(u.a)(r,1)[0];return Object(v.jsxs)("div",{className:"roles",children:[Object(v.jsx)("div",{className:"roles__heading",children:Object(v.jsx)("h2",{className:"roles__heading-h2",children:"Administrator  \u2014  1"})}),Object(v.jsxs)("div",{className:"roles__box",children:[Object(v.jsx)("div",{className:"roles__box-avatar",children:Object(v.jsx)(k.a,{className:e.avatar,src:s&&s.userimage&&s.userimage})}),Object(v.jsxs)("div",{className:"roles__content",children:[Object(v.jsx)("div",{className:"roles__content-name",children:Object(v.jsx)("p",{className:"roles__content--admin",children:s&&s.admin&&s.admin})}),Object(v.jsx)("div",{className:"roles__content-status",children:"Visual Studio Code"})]})]}),i&&i.map((function(e){return Object(v.jsx)(vt,{role:e},e.id)}))]})},_t=(c(272),Object(o.a)((function(e){return{button:{padding:e.spacing(1),color:"#fff"}}})));t.default=function(e){var t=e.match;console.log("called");var c=_t(),a=Object(m.b)();return Object(d.useEffect)((function(){return function(){var e=Object(i.a)(r.a.mark((function e(){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=h.e.collection("servers").doc(t.params.serverId).collection("channels").doc(t.params.channelId),e.next=3,c.get().then((function(e){a(Object(ye.a)({id:t.params.channelId,name:e.data().channel}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){}}),[a,t.params.channelId]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"main__sidebar",children:[Object(v.jsxs)("div",{className:"main__channels",children:[Object(v.jsxs)("div",{className:"main__channels-header",children:[Object(v.jsx)("div",{className:"main__channels-expandicon",children:Object(v.jsx)(l.a,{className:c.button,"aria-label":"settings",children:Object(v.jsx)(mt.a,{})})}),Object(v.jsx)("p",{children:"Text Channels"}),Object(v.jsx)("div",{className:"main__channels-addicon",children:Object(v.jsx)(Ae,{})})]}),Object(v.jsx)("div",{className:"main__channels-list",children:Object(v.jsx)(Te,{})})]}),Object(v.jsx)("div",{className:"main__voice",children:Object(v.jsx)(Ze,{})}),Object(v.jsx)("div",{className:"main__avatar",children:Object(v.jsx)(it,{})})]}),Object(v.jsxs)("div",{className:"chat",children:[Object(v.jsx)("div",{className:"chat__message",children:Object(v.jsx)(ae,{})}),Object(v.jsx)("div",{className:"chat__searchbar",children:Object(v.jsx)(Ne,{})})]}),Object(v.jsx)("div",{className:"main__roles",children:Object(v.jsx)(ft,{})})]})}}}]);
//# sourceMappingURL=4.933e6d03.chunk.js.map